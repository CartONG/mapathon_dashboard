!function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(){return Po.apply(null,arguments)}function n(t){Po=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){var e;for(e in t)return!1;return!0}function r(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)h(e,n)&&(t[n]=e[n]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return ye(t,e,n,i,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(t){return null==t._pf&&(t._pf=p()),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=No.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function _(t){var e=d(NaN);return null!=t?c(f(e),t):f(e).userInvalidated=!0,e}function g(t,e){var n,i,o;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=f(e)),r(e._locale)||(t._locale=e._locale),Ro.length>0)for(n=0;n<Ro.length;n++)i=Ro[n],o=e[i],r(o)||(t[i]=o);return t}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Bo===!1&&(Bo=!0,e.updateOffset(this),Bo=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function C(t,e,n){var i,o=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&r++;return r+s}function E(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function L(t,n){var i=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){o+="\n["+r+"] ";for(var a in arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}E(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function x(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Uo[t]||(E(n),Uo[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)e=t[n],D(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(t,e){var n,i=c({},t);for(n in e)h(e,n)&&(o(t[n])&&o(e[n])?(i[n]={},c(i[n],t[n]),c(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)h(t,n)&&!h(e,n)&&o(t[n])&&(i[n]=c({},i[n]));return i}function P(t){null!=t&&this.set(t)}function k(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return D(i)?i.call(e,n):i}function M(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function A(){return this._invalidDate}function I(t){return this._ordinal.replace("%d",t)}function O(t,e,n,i){var o=this._relativeTime[n];return D(o)?o(t,e,n,i):o.replace(/%d/i,t)}function N(t,e){var n=this._relativeTime[t>0?"future":"past"];return D(n)?n(e):n.replace(/%s/i,e)}function R(t,e){var n=t.toLowerCase();Vo[n]=Vo[n+"s"]=Vo[e]=t}function B(t){return"string"==typeof t?Vo[t]||Vo[t.toLowerCase()]:void 0}function U(t){var e,n,i={};for(n in t)h(t,n)&&(e=B(n),e&&(i[e]=t[n]));return i}function F(t,e){$o[t]=e}function j(t){var e=[];for(var n in t)e.push({unit:n,priority:$o[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(t,n){return function(i){return null!=i?(q(this,t,i),e.updateOffset(this,n),this):z(this,t)}}function z(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function q(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function W(t){return t=B(t),D(this[t])?this[t]():this}function Z(t,e){if("object"==typeof t){t=U(t);for(var n=j(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=B(t),D(this[t]))return this[t](e);return this}function Y(t,e,n){var i=""+Math.abs(t),o=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function G(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(Qo[t]=o),e&&(Qo[e[0]]=function(){return Y(o.apply(this,arguments),e[1],e[2])}),n&&(Qo[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var e,n,i=t.match(Ko);for(e=0,n=i.length;e<n;e++)Qo[i[e]]?i[e]=Qo[i[e]]:i[e]=V(i[e]);return function(e){var o,s="";for(o=0;o<n;o++)s+=D(i[o])?i[o].call(e,t):i[o];return s}}function K(t,e){return t.isValid()?(e=J(e,t.localeData()),Xo[e]=Xo[e]||$(e),Xo[e](t)):t.localeData().invalidDate()}function J(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Jo.lastIndex=0;i>=0&&Jo.test(t);)t=t.replace(Jo,n),Jo.lastIndex=0,i-=1;return t}function X(t,e,n){gs[t]=D(e)?e:function(t,i){return t&&n?n:e}}function Q(t,e){return h(gs,t)?gs[t](e._strict,e._locale):new RegExp(tt(t))}function tt(t){return et(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o}))}function et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)vs[t[n]]=i}function it(t,e){nt(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function ot(t,e,n){null!=e&&h(vs,t)&&vs[t](e,n._a,n,t)}function st(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ps).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone}function at(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ps.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lt(t,e,n){var i,o,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?(o=Ss.call(this._shortMonthsParse,r),o!==-1?o:null):(o=Ss.call(this._longMonthsParse,r),o!==-1?o:null):"MMM"===e?(o=Ss.call(this._shortMonthsParse,r),o!==-1?o:(o=Ss.call(this._longMonthsParse,r),o!==-1?o:null)):(o=Ss.call(this._longMonthsParse,r),o!==-1?o:(o=Ss.call(this._shortMonthsParse,r),o!==-1?o:null))}function ut(t,e,n){var i,o,s;if(this._monthsParseExact)return lt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ht(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(e=t.localeData().monthsParse(e),!a(e))return t;return n=Math.min(t.date(),st(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ct(t){return null!=t?(ht(this,t),e.updateOffset(this,!0),this):z(this,"Month")}function dt(){return st(this.year(),this.month())}function pt(t){return this._monthsParseExact?(h(this,"_monthsRegex")||mt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=As),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(t){return this._monthsParseExact?(h(this,"_monthsRegex")||mt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Is),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function mt(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],s=[];for(e=0;e<12;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),s.sort(t),e=0;e<12;e++)i[e]=et(i[e]),o[e]=et(o[e]);for(e=0;e<24;e++)s[e]=et(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function _t(t){return gt(t)?366:365}function gt(t){return t%4===0&&t%100!==0||t%400===0}function vt(){return gt(this.year())}function yt(t,e,n,i,o,s,r){var a=new Date(t,e,n,i,o,s,r);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,n){var i=7+e-n,o=(7+bt(t,0,i).getUTCDay()-e)%7;return-o+i-1}function Ct(t,e,n,i,o){var s,r,a=(7+n-i)%7,l=wt(t,i,o),u=1+7*(e-1)+a+l;return u<=0?(s=t-1,r=_t(s)+u):u>_t(t)?(s=t+1,r=u-_t(t)):(s=t,r=u),{year:s,dayOfYear:r}}function Et(t,e,n){var i,o,s=wt(t.year(),e,n),r=Math.floor((t.dayOfYear()-s-1)/7)+1;return r<1?(o=t.year()-1,i=r+Lt(o,e,n)):r>Lt(t.year(),e,n)?(i=r-Lt(t.year(),e,n),o=t.year()+1):(o=t.year(),i=r),{week:i,year:o}}function Lt(t,e,n){var i=wt(t,e,n),o=wt(t+1,e,n);return(_t(t)-i+o)/7}function xt(t){return Et(t,this._week.dow,this._week.doy).week}function Dt(){return this._week.dow}function Tt(){return this._week.doy}function St(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Pt(t){var e=Et(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function kt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Mt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function At(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function It(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ot(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Nt(t,e,n){var i,o,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===e?(o=Ss.call(this._weekdaysParse,r),o!==-1?o:null):"ddd"===e?(o=Ss.call(this._shortWeekdaysParse,r),o!==-1?o:null):(o=Ss.call(this._minWeekdaysParse,r),o!==-1?o:null):"dddd"===e?(o=Ss.call(this._weekdaysParse,r),o!==-1?o:(o=Ss.call(this._shortWeekdaysParse,r),o!==-1?o:(o=Ss.call(this._minWeekdaysParse,r),o!==-1?o:null))):"ddd"===e?(o=Ss.call(this._shortWeekdaysParse,r),o!==-1?o:(o=Ss.call(this._weekdaysParse,r),o!==-1?o:(o=Ss.call(this._minWeekdaysParse,r),o!==-1?o:null))):(o=Ss.call(this._minWeekdaysParse,r),o!==-1?o:(o=Ss.call(this._weekdaysParse,r),o!==-1?o:(o=Ss.call(this._shortWeekdaysParse,r),o!==-1?o:null)))}function Rt(t,e,n){var i,o,s;if(this._weekdaysParseExact)return Nt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Bt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=kt(t,this.localeData()),this.add(t-e,"d")):e}function Ut(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ft(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Mt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function jt(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Fs),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ht(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=js),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function zt(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Hs),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qt(){function t(t,e){return e.length-t.length}var e,n,i,o,s,r=[],a=[],l=[],u=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),s=this.weekdays(n,""),r.push(i),a.push(o),l.push(s),u.push(i),u.push(o),u.push(s);for(r.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)a[e]=et(a[e]),l[e]=et(l[e]),u[e]=et(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Wt(){return this.hours()%12||12}function Zt(){return this.hours()||24}function Yt(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Gt(t,e){return e._meridiemParse}function Vt(t){return"p"===(t+"").toLowerCase().charAt(0)}function $t(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Jt(t){for(var e,n,i,o,s=0;s<t.length;){for(o=Kt(t[s]).split("-"),e=o.length,n=Kt(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=Xt(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&C(o,n,!0)>=e-1)break;e--}s++}return null}function Xt(t){var e=null;if(!Ys[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=zs._abbr,require("./locale/"+t),Qt(e)}catch(n){}return Ys[t]}function Qt(t,e){var n;return t&&(n=r(e)?ne(t):te(t,e),n&&(zs=n)),zs._abbr}function te(t,e){if(null!==e){var n=Zs;if(e.abbr=t,null!=Ys[t])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ys[t]._config;else if(null!=e.parentLocale){if(null==Ys[e.parentLocale])return Gs[e.parentLocale]||(Gs[e.parentLocale]=[]),Gs[e.parentLocale].push({name:t,config:e}),null;n=Ys[e.parentLocale]._config}return Ys[t]=new P(S(n,e)),Gs[t]&&Gs[t].forEach(function(t){te(t.name,t.config)}),Qt(t),Ys[t]}return delete Ys[t],null}function ee(t,e){if(null!=e){var n,i=Zs;null!=Ys[t]&&(i=Ys[t]._config),e=S(i,e),n=new P(e),n.parentLocale=Ys[t],Ys[t]=n,Qt(t)}else null!=Ys[t]&&(null!=Ys[t].parentLocale?Ys[t]=Ys[t].parentLocale:null!=Ys[t]&&delete Ys[t]);return Ys[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return zs;if(!i(t)){if(e=Xt(t))return e;t=[t]}return Jt(t)}function ie(){return Ho(Ys)}function oe(t){var e,n=t._a;return n&&f(t).overflow===-2&&(e=n[bs]<0||n[bs]>11?bs:n[ws]<1||n[ws]>st(n[ys],n[bs])?ws:n[Cs]<0||n[Cs]>24||24===n[Cs]&&(0!==n[Es]||0!==n[Ls]||0!==n[xs])?Cs:n[Es]<0||n[Es]>59?Es:n[Ls]<0||n[Ls]>59?Ls:n[xs]<0||n[xs]>999?xs:-1,f(t)._overflowDayOfYear&&(e<ys||e>ws)&&(e=ws),f(t)._overflowWeeks&&e===-1&&(e=Ds),f(t)._overflowWeekday&&e===-1&&(e=Ts),f(t).overflow=e),t}function se(t){var e,n,i,o,s,r,a=t._i,l=Vs.exec(a)||$s.exec(a);if(l){for(f(t).iso=!0,e=0,n=Js.length;e<n;e++)if(Js[e][1].exec(l[1])){o=Js[e][0],i=Js[e][2]!==!1;break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=Xs.length;e<n;e++)if(Xs[e][1].exec(l[3])){s=(l[2]||" ")+Xs[e][0];break}if(null==s)return void(t._isValid=!1)}if(!i&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Ks.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=o+(s||"")+(r||""),de(t)}else t._isValid=!1}function re(t){var e,n,i,o,s,r,a,l,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},h="YXWVUTSRQPONZABCDEFGHIKLM";if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=tr.exec(e)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",o="D MMM "+(n[2].length>10?"YYYY ":"YY "),s="HH:mm"+(n[4]?":ss":""),n[1]){var c=new Date(n[2]),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][c.getDay()];if(n[1].substr(0,3)!==d)return f(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:0===l?a=" +0000":(l=h.indexOf(n[5][1].toUpperCase())-12,a=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:a=u[n[5]];break;default:a=u[" GMT"]}n[5]=a,t._i=n.splice(1).join(""),r=" ZZ",t._f=i+o+s+r,de(t),f(t).rfc2822=!0}else t._isValid=!1}function ae(t){var n=Qs.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(se(t),void(t._isValid===!1&&(delete t._isValid,re(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function le(t,e,n){return null!=t?t:null!=e?e:n}function ue(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function he(t){var e,n,i,o,s=[];if(!t._d){for(i=ue(t),t._w&&null==t._a[ws]&&null==t._a[bs]&&ce(t),null!=t._dayOfYear&&(o=le(t._a[ys],i[ys]),(t._dayOfYear>_t(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=bt(o,0,t._dayOfYear),t._a[bs]=n.getUTCMonth(),t._a[ws]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Cs]&&0===t._a[Es]&&0===t._a[Ls]&&0===t._a[xs]&&(t._nextDay=!0,t._a[Cs]=0),t._d=(t._useUTC?bt:yt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Cs]=24)}}function ce(t){var e,n,i,o,s,r,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)s=1,r=4,n=le(e.GG,t._a[ys],Et(be(),1,4).year),i=le(e.W,1),o=le(e.E,1),(o<1||o>7)&&(l=!0);else{s=t._locale._week.dow,r=t._locale._week.doy;var u=Et(be(),s,r);n=le(e.gg,t._a[ys],u.year),i=le(e.w,u.week),null!=e.d?(o=e.d,(o<0||o>6)&&(l=!0)):null!=e.e?(o=e.e+s,(e.e<0||e.e>6)&&(l=!0)):o=s}i<1||i>Lt(n,s,r)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=Ct(n,i,o,s,r),t._a[ys]=a.year,t._dayOfYear=a.dayOfYear)}function de(t){if(t._f===e.ISO_8601)return void se(t);if(t._f===e.RFC_2822)return void re(t);t._a=[],f(t).empty=!0;var n,i,o,s,r,a=""+t._i,l=a.length,u=0;for(o=J(t._f,t._locale).match(Ko)||[],n=0;n<o.length;n++)s=o[n],i=(a.match(Q(s,t))||[])[0],i&&(r=a.substr(0,a.indexOf(i)),r.length>0&&f(t).unusedInput.push(r),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Qo[s]?(i?f(t).empty=!1:f(t).unusedTokens.push(s),ot(s,i,t)):t._strict&&!i&&f(t).unusedTokens.push(s);f(t).charsLeftOver=l-u,a.length>0&&f(t).unusedInput.push(a),t._a[Cs]<=12&&f(t).bigHour===!0&&t._a[Cs]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[Cs]=pe(t._locale,t._a[Cs],t._meridiem),he(t),oe(t)}function pe(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function fe(t){var e,n,i,o,s;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],de(e),m(e)&&(s+=f(e).charsLeftOver,s+=10*f(e).unusedTokens.length,f(e).score=s,(null==i||s<i)&&(i=s,n=e));c(t,n||e)}function me(t){if(!t._d){var e=U(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),he(t)}}function _e(t){var e=new v(oe(ge(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ge(t){var e=t._i,n=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===n&&""===e?_({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(oe(e)):(l(e)?t._d=e:i(n)?fe(t):n?de(t):ve(t),m(t)||(t._d=null),t))}function ve(t){var n=t._i;r(n)?t._d=new Date(e.now()):l(n)?t._d=new Date(n.valueOf()):"string"==typeof n?ae(t):i(n)?(t._a=u(n.slice(0),function(t){return parseInt(t,10)}),he(t)):o(n)?me(t):a(n)?t._d=new Date(n):e.createFromInputFallback(t)}function ye(t,e,n,r,a){var l={};return n!==!0&&n!==!1||(r=n,n=void 0),(o(t)&&s(t)||i(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=t,l._f=e,l._strict=r,_e(l)}function be(t,e,n,i){return ye(t,e,n,i,!1)}function we(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return be();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}function Ce(){var t=[].slice.call(arguments,0);return we("isBefore",t)}function Ee(){var t=[].slice.call(arguments,0);return we("isAfter",t)}function Le(t){for(var e in t)if(or.indexOf(e)===-1||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<or.length;++i)if(t[or[i]]){if(n)return!1;parseFloat(t[or[i]])!==w(t[or[i]])&&(n=!0)}return!0}function xe(){return this._isValid}function De(){return Ze(NaN)}function Te(t){var e=U(t),n=e.year||0,i=e.quarter||0,o=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=Le(e),this._milliseconds=+h+1e3*u+6e4*l+1e3*a*60*60,this._days=+r+7*s,this._months=+o+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Se(t){return t instanceof Te}function Pe(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ke(t,e){G(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+Y(~~(t/60),2)+e+Y(~~t%60,2)})}function Me(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],o=(i+"").match(sr)||["-",0,0],s=+(60*o[1])+w(o[2]);return 0===s?0:"+"===o[0]?s:-s}function Ae(t,n){var i,o;return n._isUTC?(i=n.clone(),o=(y(t)||l(t)?t.valueOf():be(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),e.updateOffset(i,!1),i):be(t).local()}function Ie(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Oe(t,n,i){var o,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Me(fs,t),null===t)return this}else Math.abs(t)<16&&!i&&(t=60*t);return!this._isUTC&&n&&(o=Ie(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),s!==t&&(!n||this._changeInProgress?Ke(this,Ze(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Ie(this)}function Ne(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Re(t){return this.utcOffset(0,t)}function Be(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ie(this),"m")),this}function Ue(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Me(ps,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Fe(t){return!!this.isValid()&&(t=t?be(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function je(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function He(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=ge(t),t._a){var e=t._isUTC?d(t._a):be(t._a);this._isDSTShifted=this.isValid()&&C(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ze(){return!!this.isValid()&&!this._isUTC}function qe(){return!!this.isValid()&&this._isUTC}function We(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ze(t,e){var n,i,o,s=t,r=null;return Se(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(s={},e?s[e]=t:s.milliseconds=t):(r=rr.exec(t))?(n="-"===r[1]?-1:1,s={y:0,d:w(r[ws])*n,h:w(r[Cs])*n,m:w(r[Es])*n,s:w(r[Ls])*n,ms:w(Pe(1e3*r[xs]))*n}):(r=ar.exec(t))?(n="-"===r[1]?-1:1,s={y:Ye(r[2],n),M:Ye(r[3],n),w:Ye(r[4],n),d:Ye(r[5],n),h:Ye(r[6],n),m:Ye(r[7],n),s:Ye(r[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=Ve(be(s.from),be(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),i=new Te(s),Se(t)&&h(t,"_locale")&&(i._locale=t._locale),i}function Ye(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ge(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ve(t,e){var n;return t.isValid()&&e.isValid()?(e=Ae(e,t),t.isBefore(e)?n=Ge(t,e):(n=Ge(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function $e(t,e){return function(n,i){var o,s;return null===i||isNaN(+i)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),n="string"==typeof n?+n:n,o=Ze(n,i),Ke(this,o,t),this}}function Ke(t,n,i,o){var s=n._milliseconds,r=Pe(n._days),a=Pe(n._months);t.isValid()&&(o=null==o||o,s&&t._d.setTime(t._d.valueOf()+s*i),r&&q(t,"Date",z(t,"Date")+r*i),a&&ht(t,z(t,"Month")+a*i),o&&e.updateOffset(t,r||a))}function Je(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Xe(t,n){var i=t||be(),o=Ae(i,this).startOf("day"),s=e.calendarFormat(this,o)||"sameElse",r=n&&(D(n[s])?n[s].call(this,i):n[s]);return this.format(r||this.localeData().calendar(s,this,be(i)))}function Qe(){return new v(this)}function tn(t,e){var n=y(t)?t:be(t);return!(!this.isValid()||!n.isValid())&&(e=B(r(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function en(t,e){var n=y(t)?t:be(t);return!(!this.isValid()||!n.isValid())&&(e=B(r(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function nn(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function on(t,e){var n,i=y(t)?t:be(t);return!(!this.isValid()||!i.isValid())&&(e=B(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function sn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function rn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function an(t,e,n){var i,o,s,r;return this.isValid()?(i=Ae(t,this),i.isValid()?(o=6e4*(i.utcOffset()-this.utcOffset()),e=B(e),"year"===e||"month"===e||"quarter"===e?(r=ln(this,i),"quarter"===e?r/=3:"year"===e&&(r/=12)):(s=this-i,r="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-o)/864e5:"week"===e?(s-o)/6048e5:s),n?r:b(r)):NaN):NaN}function ln(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(o,"months");return e-s<0?(n=t.clone().add(o-1,"months"),i=(e-s)/(s-n)):(n=t.clone().add(o+1,"months"),i=(e-s)/(n-s)),-(o+i)||0}function un(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function hn(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?K(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():K(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function cn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]';return this.format(n+i+o+s)}function dn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=K(this,t);return this.localeData().postformat(n)}function pn(t,e){return this.isValid()&&(y(t)&&t.isValid()||be(t).isValid())?Ze({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fn(t){return this.from(be(),t)}function mn(t,e){return this.isValid()&&(y(t)&&t.isValid()||be(t).isValid())?Ze({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function _n(t){return this.to(be(),t)}function gn(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function vn(){return this._locale}function yn(t){switch(t=B(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function bn(t){return t=B(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function wn(){return this._d.valueOf()-6e4*(this._offset||0)}function Cn(){return Math.floor(this.valueOf()/1e3)}function En(){return new Date(this.valueOf())}function Ln(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Dn(){return this.isValid()?this.toISOString():null}function Tn(){return m(this)}function Sn(){return c({},f(this))}function Pn(){return f(this).overflow}function kn(){return{
input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mn(t,e){G(0,[t,t.length],0,e)}function An(t){return Rn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function In(t){return Rn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function On(){return Lt(this.year(),1,4)}function Nn(){var t=this.localeData()._week;return Lt(this.year(),t.dow,t.doy)}function Rn(t,e,n,i,o){var s;return null==t?Et(this,i,o).year:(s=Lt(t,i,o),e>s&&(e=s),Bn.call(this,t,e,n,i,o))}function Bn(t,e,n,i,o){var s=Ct(t,e,n,i,o),r=bt(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Un(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Fn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function jn(t,e){e[xs]=w(1e3*("0."+t))}function Hn(){return this._isUTC?"UTC":""}function zn(){return this._isUTC?"Coordinated Universal Time":""}function qn(t){return be(1e3*t)}function Wn(){return be.apply(null,arguments).parseZone()}function Zn(t){return t}function Yn(t,e,n,i){var o=ne(),s=d().set(i,e);return o[n](s,t)}function Gn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return Yn(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Yn(t,i,n,"month");return o}function Vn(t,e,n,i){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var o=ne(),s=t?o._week.dow:0;if(null!=n)return Yn(e,(n+s)%7,i,"day");var r,l=[];for(r=0;r<7;r++)l[r]=Yn(e,(r+s)%7,i,"day");return l}function $n(t,e){return Gn(t,e,"months")}function Kn(t,e){return Gn(t,e,"monthsShort")}function Jn(t,e,n){return Vn(t,e,n,"weekdays")}function Xn(t,e,n){return Vn(t,e,n,"weekdaysShort")}function Qn(t,e,n){return Vn(t,e,n,"weekdaysMin")}function ti(){var t=this._data;return this._milliseconds=vr(this._milliseconds),this._days=vr(this._days),this._months=vr(this._months),t.milliseconds=vr(t.milliseconds),t.seconds=vr(t.seconds),t.minutes=vr(t.minutes),t.hours=vr(t.hours),t.months=vr(t.months),t.years=vr(t.years),this}function ei(t,e,n,i){var o=Ze(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function ni(t,e){return ei(this,t,e,1)}function ii(t,e){return ei(this,t,e,-1)}function oi(t){return t<0?Math.floor(t):Math.ceil(t)}function si(){var t,e,n,i,o,s=this._milliseconds,r=this._days,a=this._months,l=this._data;return s>=0&&r>=0&&a>=0||s<=0&&r<=0&&a<=0||(s+=864e5*oi(ai(a)+r),r=0,a=0),l.milliseconds=s%1e3,t=b(s/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,r+=b(n/24),o=b(ri(r)),a+=o,r-=oi(ai(o)),i=b(a/12),a%=12,l.days=r,l.months=a,l.years=i,this}function ri(t){return 4800*t/146097}function ai(t){return 146097*t/4800}function li(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=B(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+ri(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ai(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ui(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function hi(t){return function(){return this.as(t)}}function ci(t){return t=B(t),this.isValid()?this[t+"s"]():NaN}function di(t){return function(){return this.isValid()?this._data[t]:NaN}}function pi(){return b(this.days()/7)}function fi(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function mi(t,e,n){var i=Ze(t).abs(),o=Or(i.as("s")),s=Or(i.as("m")),r=Or(i.as("h")),a=Or(i.as("d")),l=Or(i.as("M")),u=Or(i.as("y")),h=o<=Nr.ss&&["s",o]||o<Nr.s&&["ss",o]||s<=1&&["m"]||s<Nr.m&&["mm",s]||r<=1&&["h"]||r<Nr.h&&["hh",r]||a<=1&&["d"]||a<Nr.d&&["dd",a]||l<=1&&["M"]||l<Nr.M&&["MM",l]||u<=1&&["y"]||["yy",u];return h[2]=e,h[3]=+t>0,h[4]=n,fi.apply(null,h)}function _i(t){return void 0===t?Or:"function"==typeof t&&(Or=t,!0)}function gi(t,e){return void 0!==Nr[t]&&(void 0===e?Nr[t]:(Nr[t]=e,"s"===t&&(Nr.ss=e-1),!0))}function vi(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=mi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function yi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=Rr(this._milliseconds)/1e3,o=Rr(this._days),s=Rr(this._months);t=b(i/60),e=b(t/60),i%=60,t%=60,n=b(s/12),s%=12;var r=n,a=s,l=o,u=e,h=t,c=i,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||h||c?"T":"")+(u?u+"H":"")+(h?h+"M":"")+(c?c+"S":""):"P0D"}function bi(t){if(!t)throw new Error("No obj passed");var e=wi(t);if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return e;throw new Error("Coordinate is not a valid Point")}function wi(t){if(!t)throw new Error("No obj passed");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return Ci(e),e;throw new Error("No valid coordinates")}function Ci(t){if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return!0;if(t[0].length)return Ci(t[0]);throw new Error("coordinates must only contain numbers")}function Ei(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function Li(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function xi(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var o=t.features[i];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}}function Di(t,e){if(!t)throw new Error("No geometry passed");return{type:"Feature",properties:e||{},geometry:t}}function Ti(t,e,n){var i,o,s,r,a,l,u,h,c,d,p=0,f=0,m="FeatureCollection"===t.type,_="Feature"===t.type,g=m?t.features.length:1;for(i=0;i<g;i++)for(c=m?t.features[i].geometry:_?t.geometry:t,d="GeometryCollection"===c.type,u=d?c.geometries.length:1,r=0;r<u;r++)if(l=d?c.geometries[r]:c,h=l.coordinates,p=!n||"Polygon"!==l.type&&"MultiPolygon"!==l.type?0:1,"Point"===l.type)e(h,f),f++;else if("LineString"===l.type||"MultiPoint"===l.type)for(o=0;o<h.length;o++)e(h[o],f),f++;else if("Polygon"===l.type||"MultiLineString"===l.type)for(o=0;o<h.length;o++)for(s=0;s<h[o].length-p;s++)e(h[o][s],f),f++;else if("MultiPolygon"===l.type)for(o=0;o<h.length;o++)for(s=0;s<h[o].length;s++)for(a=0;a<h[o][s].length-p;a++)e(h[o][s][a],f),f++;else{if("GeometryCollection"!==l.type)throw new Error("Unknown Geometry Type");for(o=0;o<l.geometries.length;o++)Ti(l.geometries[o],e,n)}}function Si(t,e,n,i){var o=n;return Ti(t,function(t,i){o=0===i&&void 0===n?t:e(o,t,i)},i),o}function Pi(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function ki(t,e,n){var i=n;return Pi(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i}function Mi(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function Ai(t,e,n){var i=n;return Mi(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i}function Ii(t){var e=[];return Ti(t,function(t){e.push(t)}),e}function Oi(t,e){var n,i,o,s,r,a,l,u=0,h="FeatureCollection"===t.type,c="Feature"===t.type,d=h?t.features.length:1;for(n=0;n<d;n++)for(a=h?t.features[n].geometry:c?t.geometry:t,l="GeometryCollection"===a.type,r=l?a.geometries.length:1,o=0;o<r;o++)if(s=l?a.geometries[o]:a,"Point"===s.type||"LineString"===s.type||"MultiPoint"===s.type||"Polygon"===s.type||"MultiLineString"===s.type||"MultiPolygon"===s.type)e(s,u),u++;else{if("GeometryCollection"!==s.type)throw new Error("Unknown Geometry Type");for(i=0;i<s.geometries.length;i++)e(s.geometries[i],u),u++}}function Ni(t,e,n){var i=n;return Oi(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i}function Ri(t){var e=t.geometry?t.geometry.type:t.type;switch(e){case"MultiPoint":return Bi(t);case"MultiPolygon":return Fi(t);case"MultiLineString":return Ui(t);case"FeatureCollection":return ji(t);case"GeometryCollection":return Hi(t);case"Point":case"LineString":case"Polygon":return La([t])}}function Bi(t){var e=[];return ya(t).forEach(function(n){e.push(wa(n,t.properties))}),La(e)}function Ui(t){var e=[];return ya(t).forEach(function(n){e.push(Ca(n,t.properties))}),La(e)}function Fi(t){var e=[];return ya(t).forEach(function(n){e.push(Ea(n,t.properties))}),La(e)}function ji(t){var e=[];return ga(t,function(t){switch(t.geometry.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":ga(Ri(t),function(t){e.push(t)});break;default:e.push(t)}}),La(e)}function Hi(t){var e=[];return va(t,function(t){switch(t.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":ga(Ri(t),function(t){e.push(t)});break;default:var n={type:"Feature",properties:{},geometry:t};e.push(n)}}),La(e)}function zi(t,e){var n=0;Ta(t,function(t){Ta(ka(t),function(t){Sa(t,function(i,o){var s=Ma([i,o],t.properties);return e(s,n),n++,o})})})}function qi(t,e,n){var i=n;return zi(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i}function Wi(t){var e,n=0;switch(t.type){case"Polygon":return Zi(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=Zi(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=Wi(t.geometries[e]);return n}}function Zi(t){var e=0;if(t&&t.length>0){e+=Math.abs(Yi(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(Yi(t[n]))}return e}function Yi(t){var e,n,i,o,s,r,a,l=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(o=u-2,s=u-1,r=0):a===u-1?(o=u-1,s=0,r=1):(o=a,s=a+1,r=a+2),e=t[o],n=t[s],i=t[r],l+=(Gi(i[0])-Gi(e[0]))*Math.sin(Gi(n[1]));l=l*Ua.RADIUS*Ua.RADIUS/2}return l}function Gi(t){return t*Math.PI/180}function Vi(t){if("Polygon"===t.type)return $i(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,n=0;n<t.coordinates.length;n++)e+=$i(t.coordinates[n]);return e}return null}function $i(t){var e=0;if(t&&t.length>0){e+=Math.abs(Ki(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(Ki(t[n]))}return e}function Ki(t){var e=0;if(t.length>2){for(var n,i,o=0;o<t.length-1;o++)n=t[o],i=t[o+1],e+=Ji(i[0]-n[0])*(2+Math.sin(Ji(n[1]))+Math.sin(Ji(i[1])));e=e*Ja.RADIUS*Ja.RADIUS/2}return e}function Ji(t){return t*Math.PI/180}function Xi(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(Qi(Xi,e)),t;case"Feature":return t.geometry=Xi(t.geometry,e),t;case"Polygon":case"MultiPolygon":return to(t,e);default:return t}}function Qi(t,e){return function(n){return t(n,e)}}function to(t,e){return"Polygon"===t.type?t.coordinates=eo(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(Qi(eo,e))),t}function eo(t,e){e=!!e,t[0]=no(t[0],e);for(var n=1;n<t.length;n++)t[n]=no(t[n],!e);return t}function no(t,e){return io(t)===e?t:t.reverse()}function io(t){return el.ring(t)>=0}function oo(t,e){return(t.version||e.version)&&t.version!==e.version?(+t.version||0)>(+e.version||0)?t:e:al.merge(t,e)}function so(t){for(var e,n,i,o,s,r,a=function(t){return t[0]},l=function(t){return t[t.length-1]},u=[];t.length;)for(e=t.pop().nodes.slice(),u.push(e);t.length&&a(e)!==l(e);){for(n=a(e),i=l(e),o=0;o<t.length;o++){if(r=t[o].nodes,i===a(r)){s=e.push,r=r.slice(1);break}if(i===l(r)){s=e.push,r=r.slice(0,-1).reverse();break}if(n==l(r)){s=e.unshift,r=r.slice(0,-1);break}if(n==a(r)){s=e.unshift,r=r.slice(1).reverse();break}r=s=null}if(!r)break;t.splice(o,1),s.apply(e,r)}return u}function ro(t){return t<10?"0"+t:String(t)}function ao(t,n,i,o,s,r,a,l,u,h,c,d,p){var f=[t,n,i,o,s,r,a,l,u,h,c],m=e();t.value="",m.add(-1,"hour"),n.value=ro(m.get("date")),i.value=ro(m.get("month")+1),o.value=m.get("year"),s.value=ro(m.get("hour")),r.value="00",m.add(2,"hour"),a.value=ro(m.get("date")),l.value=ro(m.get("month")+1),u.value=m.get("year"),h.value=ro(m.get("hour")),c.value="00",d.dispatchEvent(new Event("change")),p.innerText="",f.forEach(function(t){var e=t.parentNode;t.dispatchEvent(new Event("change")),Ao.DomUtil.removeClass(e,"is-dirty"),Ao.DomUtil.removeClass(e,"is-invalid")})}function lo(t){t.showModal||dl.registerDialog(t),t.showModal()}function uo(t){var e=Ao.geoJson(t,{}).getBounds();return e._southWest.lat+","+e._southWest.lng+","+e._northEast.lat+","+e._northEast.lng}function ho(t){var e=Ao.map("overview-map",wl),n=Ao.geoJson(t.data.task,{style:vl.STYLES.task}).addTo(e);return Ao.geoJson(t.data.landuse.geosjon,{style:vl.STYLES.landuse}).addTo(e),Ao.geoJson(t.data.highway.geosjon,{style:vl.STYLES.highway}).addTo(e),Ao.geoJson(t.data.buildings.geosjon,{style:vl.STYLES.building}).addTo(e),Ao.geoJson(t.data.waterway.geosjon,{style:vl.STYLES.waterway}).addTo(e),e.fitBounds(n.getBounds()),e}function co(t){var e=Zr(null===t.location?[5.9215,45.58789]:t.location),n=$a(e,t.data.highway.dist,90,"kilometers"),i=Ao.circleMarker([e.geometry.coordinates[1],e.geometry.coordinates[0]],El),o=Ao.circleMarker([n.geometry.coordinates[1],n.geometry.coordinates[0]],Ll),s=Gr([e.geometry.coordinates,n.geometry.coordinates]),r=Ao.geoJson(s,xl),a=t.data.highway.dist>1?[r,i,o]:[],l=a.reduce(function(t,e){return t.addLayer(e)},Ao.map("highway-map",Cl));return l.fitBounds(r.getBounds(),{padding:[16,16],maxZoom:18}),l}function po(t){var e=document.getElementById("task-progress-done"),n=document.getElementById("task-progress-valid");e.MaterialProgress.setProgress(t.properties.done),n.MaterialProgress.setProgress(t.properties.validated)}function fo(t){var e=t.reduce(function(t,e){return t+Wa(e)},0);return e/=1e6,Math.round(100*e)/100}function mo(t,e,n,i){console.error(i),t.MaterialProgress.setProgress(0),Ao.DomUtil.addClass(t,"hide"),Ao.DomUtil.addClass(e,"loading-error"),e.innerText="An error occured while downloading data!",Ao.DomUtil.removeClass(n,"hide")}function _o(t,e,n,i,o){var s=t.querySelectorAll(".task-item"),r=!0;if(s.forEach(function(t){t.innerText==="TASK #"+o.params.taskId&&(t.href=window.location.href,r=!1)}),r){var a=document.createElement("a"),l=document.createElement("li"),u=document.createElement("a");a.setAttribute("class","mdl-navigation__link task-item"),a.setAttribute("href",window.location.href),a.innerText="Task #"+o.data.task.id,t.insertBefore(a,e),u.setAttribute("href",window.location.href),u.innerText="Task #"+o.data.task.id,l.setAttribute("class","mdl-menu__item task-item"),l.appendChild(u),n.insertBefore(l,i)}else s=n.querySelectorAll("a"),s.forEach(function(t){t.innerHTML==="Task #"+o.params.taskId&&(t.href=window.location.href)})}function go(t){var e="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z",n="^/#taskId=[0-9]{1,6}&stDate="+e+"&server=(http://overpass.osm.rambler.ru/cgi/interpreter|http://api.openstreetmap.fr/oapi/interpreter)",i="^/#taskId=[0-9]{1,6}&stDate="+e+"&endDate="+e+"&server=https://overpass-api.de/api/interpreter$",o=new RegExp(n),s=new RegExp(i);return o.test(t)||s.test(t)}function vo(t,n){return/^[0-9]{1,6}$/i.test(t)&&e(n,"DD/MM/YYYY HH:mm").isValid()}function yo(t,n,i){return/^[0-9]{1,6}$/i.test(t)&&e(n,"DD/MM/YYYY HH:mm").isValid()&&e(i,"DD/MM/YYYY HH:mm").isValid()}function bo(t,e,n,i){return t+"?data=[bbox:"+e+"];way["+n+'](newer:"'+i+'");(._;>;);out+meta;'}function wo(t,e,n,i,o){return t+"?data=[bbox:"+e+"];way["+n+'](changed:"'+i+'","'+o+'");(._;>;);out+meta;'}function Co(t,e){var n=[e.endDay,e.endMonth,e.endYear,e.endHour,e.endMin],i="https://overpass-api.de/api/interpreter"!==t.params.server;n.forEach(function(t){t.disabled=i})}function Eo(){var t={};return t.newTaskDialog=document.getElementById("new-task-dialog"),t.taskId=document.getElementById("task-id"),t.stDay=document.getElementById("start-day"),t.stMonth=document.getElementById("start-month"),t.stYear=document.getElementById("start-year"),t.stHour=document.getElementById("start-hour"),t.stMin=document.getElementById("start-min"),t.endDay=document.getElementById("end-day"),t.endMonth=document.getElementById("end-month"),t.endYear=document.getElementById("end-year"),t.endHour=document.getElementById("end-hour"),t.endMin=document.getElementById("end-min"),t.server=document.getElementById("server-select"),t.newTaskMsg=document.getElementById("new-task-message"),t.submitTask=document.getElementById("dialog-submit-button"),t.newTaskCloseButton=document.getElementById("dialog-close-button"),t.layout=document.getElementById("layout"),t.loadingDialog=document.getElementById("loading-dialog"),t.loadingProgress=document.getElementById("loading-progress"),t.loadingMessage=document.getElementById("loading-message"),t.loadingCloseButton=document.getElementById("loading-close-button"),t.taskMenu=document.getElementById("task-menu"),t.newTaskItem=document.getElementById("new-task-item"),t.taskMenuNewTask=document.getElementById("task-menu-new-task"),t.drawer=document.getElementById("drawer"),t.drawerNav=document.getElementById("drawer-nav"),t.drawerNewTask=document.getElementById("drawer-new-task"),t.taskContainer=document.getElementById("task-container"),t}function Lo(t){function n(t,e,n){return e.reduce(function(t,e){var i=t.find(function(t){return t.id===e.properties.user});switch(void 0===i&&(i={id:e.properties.user,edits:0},t.push(i)),void 0===i[n]&&(i[n]=0),i.edits++,n){case"buildings":i.buildings++;break;case"landuse":i[n]=i.landuse+fo([e]);break;case"highway":i[n]=i.highway+10*Math.round(Ia(e,"kilometers"),0)/10;break;case"waterway":i[n]=i.waterway+10*Math.round(Ia(e,"kilometers"),0)/10}return t},t)}function i(t){return t.reduce(function(t,e){var n=["buildings","landuse","highway","waterway"];return n.forEach(function(t){void 0===e[t]&&(e[t]=0)}),t.push(e),t},[])}var o=t.locationStatus$.map(function(t){return function(e){return e.location=t,e}}),s=t.cancelProcess$.map(function(){return function(t){return t.params=void 0,t.data=void 0,t.location=void 0,t}}),r=t.openNewDashDialog$.map(function(){return function(t){return t.params=null,t.data=void 0,t.location=void 0,t}}),a=t.changeServer$.map(function(t){return function(e){return e.params={},e.params.server=t,e}}),l=t.unvalidInputs$.map(function(){return function(t){return t.data=null,t}}),u=t.validInputs$.map(function(t){return function(e){return e.data={},e.params={},e.params.taskId=t.taskId,e.params.startDate=t.startDate,e.params.endDate=t.endDate,e.params.server=t.server,e}}),h=t.getURLParams$.map(function(t){return function(e){return e.params={},e.data={},e.params.taskId=t.taskId,e.params.startDate=t.startDate,e.params.endDate=t.endDate,e.params.server=t.server,e.data.task=null,e.location=void 0,e}}),c=t.getTaskData$.map(function(t){return function(n){return void 0===t.properties?n.data.task="error":(n.data.task=t,n.data.task.properties.formatCreated=e(t.properties.created).format("DD/MM/YYYY"),n.data.task.properties.formatLastUpdate=e(t.properties.last_update).format("DD/MM/YYYY HH:mm"),n.data.task.properties.validated=Math.round(10*t.properties.validated)/10,n.data.task.properties.done=Math.round(10*(t.properties.validated+t.properties.done))/10),n}}),d=t.getBuildingsData$.map(function(t){return function(e){var i=t.features.filter(function(t){return"Polygon"===t.geometry.type});return e.data.buildings={},e.data.buildings.geosjon=i,e.data.buildings.nb=i.length,e.data.users=n([],i,"buildings"),e}}),p=t.getLanduseData$.map(function(t){return function(e){var i=t.features.filter(function(t){return"Polygon"===t.geometry.type});return e.data.landuse={},e.data.landuse.geosjon=i,e.data.landuse.total=fo(i),i=i.filter(function(t){return"residential"===t.properties.landuse}),e.data.landuse.res=fo(i),e.data.users=n(e.data.users,i,"landuse"),e}}),f=t.getHighwayData$.map(function(t){return function(e){var i=t.features.filter(function(t){return"LineString"===t.geometry.type});return e.data.highway={},e.data.highway.geosjon=i,e.data.highway.nb=i.length,e.data.highway.dist=Math.round(10*i.reduce(function(t,e){return t+Ia(e,"kilometers")},0))/10,e.data.users=n(e.data.users,i,"highway"),e}}),m=t.getWaterwayData$.map(function(t){return function(o){var s=t.features.filter(function(t){return"LineString"===t.geometry.type}),r=e(o.params.startDate),a=e(o.params.endDate);return o.data.waterway={},o.data.waterway.geosjon=s,o.data.waterway.nb=s.length,o.data.waterway.dist=Math.round(10*s.reduce(function(t,e){return t+Ia(e,"kilometers")},0))/10,o.data.users=n(o.data.users,s,"waterway"),o.data.users=i(o.data.users),o.data.users.sort(function(t,e){return t.edits<e.edits}),o.params.startDate=r.format("DD/MM/YYYY HH:mm"),o.params.endDate=a.format("DD/MM/YYYY HH:mm"),o}});return Oo.Observable.merge(o,s,r,a,l,u,h,c,d,p,f,m)}function xo(t,e){var n={},i=Oo.Observable.fromEvent(t.taskId,"change").map(function(t){return t.target.value}).startWith("").share(),o=Oo.Observable.fromEvent(t.stDay,"change").map(function(t){return t.target.value}),s=Oo.Observable.fromEvent(t.stMonth,"change").map(function(t){return t.target.value}),r=Oo.Observable.fromEvent(t.stYear,"change").map(function(t){return t.target.value}),a=Oo.Observable.fromEvent(t.stHour,"change").map(function(t){return t.target.value}),l=Oo.Observable.fromEvent(t.stMin,"change").map(function(t){return t.target.value}),u=Oo.Observable.fromEvent(t.endDay,"change").map(function(t){return t.target.value}),h=Oo.Observable.fromEvent(t.endMonth,"change").map(function(t){return t.target.value}),c=Oo.Observable.fromEvent(t.endYear,"change").map(function(t){return t.target.value}),d=Oo.Observable.fromEvent(t.endHour,"change").map(function(t){return t.target.value}),p=Oo.Observable.fromEvent(t.endMin,"change").map(function(t){return t.target.value}),f=Oo.Observable.fromEvent(t.server,"change").map(function(t){return bl[t.target.value]}).share(),m=Oo.Observable.fromEvent(t.submitTask,"click").share(),_=Oo.Observable.fromEvent(t.newTaskCloseButton,"click"),g=Oo.Observable.fromEvent(t.loadingCloseButton,"click"),v=Oo.Observable.fromEvent(e,"locationfound").map(function(t){return[t.longitude,t.latitude]}),y=Oo.Observable.fromEvent(e,"locationerror").map(function(){return null});n.locationStatus$=Oo.Observable.merge(v,y);var b=Oo.Observable.fromEvent(t.taskContainer,"click").filter(function(t){return"refresh"===t.target.id}).map(function(){return window.location.href}),w=Oo.Observable.fromEvent(window,"load").map(function(t){return t.target.URL.replace(window.location.protocol+"//"+window.location.host,"")}),C=w.filter(function(t){return!go(t)});n.cancelProcess$=Oo.Observable.merge(_,g);var E=w.filter(go);n.openNewDashDialog$=Oo.Observable.merge(Oo.Observable.fromEvent(t.taskMenuNewTask,"click"),Oo.Observable.fromEvent(t.drawerNewTask,"click"),C);var L=f.map(function(t){return"https://overpass-api.de/api/interpreter"===t?yo:vo}).share(),x=Oo.Observable.combineLatest(o,s,r,a,l).map(function(t){return t[0]+"/"+t[1]+"/"+t[2]+" "+t[3]+":"+t[4]}).share(),D=Oo.Observable.combineLatest(u,h,c,d,p).map(function(t){return t[0]+"/"+t[1]+"/"+t[2]+" "+t[3]+":"+t[4]}).share();n.changeServer$=f,n.validInputs$=m.withLatestFrom(i,x,D,f,L).filter(function(t){return t[5](t[1],t[2],t[3])}).map(function(t){return{taskId:t[1],startDate:t[2],endDate:t[3],server:t[4]}}).share(),n.unvalidInputs$=m.withLatestFrom(i,x,D,f,L).filter(function(t){return!t[5](t[1],t[2],t[3])});var T=Oo.Observable.fromEvent(window,"hashchange").map(function(){return window.location.href});n.getURLParams$=Oo.Observable.merge(E,T,b).map(function(t){var e=t.split("/#")[1],n=e.split("&"),i=n.map(function(t){return t.split("=")[1]}),o={};return o.taskId=i[0],o.startDate=i[1],o.server=i[i.length-1],4===i.length&&(o.endDate=i[2]),o}).share();var S=n.getURLParams$.map(function(t){return"https://overpass-api.de/api/interpreter"===t.server?wo:bo}).share();n.getTaskData$=n.getURLParams$.flatMap(function(t){return Oo.Observable.fromPromise(Io.getJSON(yl+t.taskId+".json"))}).doOnError(mo.bind(this,t.loadingProgress,t.loadingMessage,t.loadingCloseButton)).retry().share();var P=n.getTaskData$.filter(function(t){return void 0!==t.properties}).map(uo).doOnError(mo.bind(this,t.loadingProgress,t.loadingMessage,t.loadingCloseButton)).retry().share();return n.getBuildingsData$=P.withLatestFrom(S,n.getURLParams$).map(function(t){return t[1](t[2].server,t[0],"building",t[2].startDate,t[2].endDate)}).flatMap(function(t){return Oo.Observable.fromPromise(Io.get(t))}).map(function(t){return cl(t)}).doOnError(mo.bind(this,t.loadingProgress,t.loadingMessage,t.loadingCloseButton)).retry().share(),n.getLanduseData$=n.getBuildingsData$.withLatestFrom(S,P,n.getURLParams$).map(function(t){return t[1](t[3].server,t[2],"landuse",t[3].startDate,t[3].endDate)}).flatMap(function(t){return Oo.Observable.fromPromise(Io.get(t))}).map(function(t){return cl(t)}).doOnError(mo.bind(this,t.loadingProgress,t.loadingMessage,t.loadingCloseButton)).retry().share(),n.getHighwayData$=n.getLanduseData$.withLatestFrom(S,P,n.getURLParams$).map(function(t){return t[1](t[3].server,t[2],"highway",t[3].startDate,t[3].endDate)}).flatMap(function(t){return Oo.Observable.fromPromise(Io.get(t))}).map(function(t){return cl(t)}).doOnError(mo.bind(this,t.loadingProgress,t.loadingMessage,t.loadingCloseButton)).retry().share(),n.getWaterwayData$=n.getHighwayData$.withLatestFrom(S,P,n.getURLParams$).map(function(t){return t[1](t[3].server,t[2],"waterway",t[3].startDate,t[3].endDate)}).flatMap(function(t){return Oo.Observable.fromPromise(Io.get(t))}).map(function(t){return cl(t)}).doOnError(mo.bind(this,t.loadingProgress,t.loadingMessage,t.loadingCloseButton)).retry().share(),n}function Do(t){var e=Lo(t);return e.scan(function(t,e){return e(t)},{params:void 0,data:void 0,location:void 0})}function To(t,n,i,o,s){t.subscribe(function(t){var r=void 0,a=void 0,l=void 0,u=void 0,h=void 0;void 0===t.params&&void 0===t.data?(n.newTaskDialog.hasAttribute("open")&&n.newTaskDialog.close(),n.loadingDialog.hasAttribute("open")&&n.loadingDialog.close()):null===t.params?(ao(n.taskId,n.stDay,n.stMonth,n.stYear,n.stHour,n.stMin,n.endDay,n.endMonth,n.endYear,n.endHour,n.endMin,n.server,n.newTaskMsg),lo(n.newTaskDialog),Ao.DomUtil.hasClass(n.drawer,"is-visible")&&n.layout.MaterialLayout.toggleDrawer()):void 0===t.data?Co(t,n):null===t.data?n.newTaskMsg.innerText="Incorrect / Missing values!":void 0===t.data.task?(n.newTaskDialog.close(),a=window.location.protocol,l=window.location.host,u=e(t.params.startDate,"DD/MM/YYYY HH:mm").utc().format(),h=e(t.params.endDate,"DD/MM/YYYY HH:mm").utc().format(),r="https://overpass-api.de/api/interpreter"===t.params.server?a+"//"+l+"/#taskId="+t.params.taskId+"&stDate="+u+"&endDate="+h+"&server="+t.params.server:a+"//"+l+"/#taskId="+t.params.taskId+"&stDate="+u+"&server="+t.params.server,location.href===r&&window.dispatchEvent(new HashChangeEvent("hashchange")),window.location.href=r):null===t.data.task?(Ao.DomUtil.hasClass(n.drawer,"is-visible")&&n.layout.MaterialLayout.toggleDrawer(),lo(n.loadingDialog),Ao.DomUtil.hasClass(n.loadingCloseButton,"hide")||(Ao.DomUtil.addClass(n.loadingCloseButton,"hide"),Ao.DomUtil.removeClass(n.loadingProgress,"hide"),Ao.DomUtil.removeClass(n.loadingMessage,"loading-error")),n.loadingMessage.innerText="Retrieve task data"):"error"===t.data.task?mo(n.loadingProgress,n.loadingMessage,n.loadingCloseButton,"invalid task"):void 0===t.data.buildings?(n.loadingMessage.innerText="Retrieve building data",n.loadingProgress.MaterialProgress.setProgress(20)):void 0===t.data.landuse?(n.loadingMessage.innerText="Retrieve landuse data",n.loadingProgress.MaterialProgress.setProgress(40)):void 0===t.data.highway?(n.loadingMessage.innerText="Retrieve highway data",n.loadingProgress.MaterialProgress.setProgress(60)):void 0===t.data.waterway?(n.loadingMessage.innerText="Retrieve waterway data",n.loadingProgress.MaterialProgress.setProgress(80)):void 0===t.location?(n.loadingMessage.innerText="Data successfully retrieved",n.loadingProgress.MaterialProgress.setProgress(100),s.locate({timeout:5e3}),null!==i&&i.remove(),null!==o&&o.remove(),n.taskContainer.innerHTML="",n.taskContainer.innerHTML=ml(t),_o(n.drawerNav,n.drawerNewTask,n.taskMenu,n.newTaskItem,t),n.loadingProgress.MaterialProgress.setProgress(0),n.loadingDialog.close(),i=ho(t),componentHandler.upgradeDom(),po(t.data.task)):o=co(t)})}function So(){var t=null,e=null,n=Ao.map("init-map"),i=Eo(),o=xo(i,n),s=Do(o);To(s,i,t,e,n)}var Po,ko,Mo="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ao=t(function(t){!function(e,n,i){function o(){var t=e.L;s.noConflict=function(){return e.L=t,this},e.L=s}var s={version:"1.0.3"};"object"==typeof t&&"object"==typeof t.exports?t.exports=s:"function"==typeof define&&define.amd&&define(s),"undefined"!=typeof e&&o(),s.Util={extend:function(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++){o=arguments[n];for(e in o)t[e]=o[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++s.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,n){var i,o,s,r;return r=function(){i=!1,o&&(s.apply(n,o),o=!1)},s=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(r,e),i=!0)}},wrapNum:function(t,e,n){var i=e[1],o=e[0],s=i-o;return t===i&&n?t:((t-o)%s+s)%s+o},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return s.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?s.Util.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},getParamString:function(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&e.indexOf("?")!==-1?"&":"?")+i.join("&")},template:function(t,e){return t.replace(s.Util.templateRe,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){return e["webkit"+t]||e["moz"+t]||e["ms"+t]}function n(t){var n=+new Date,o=Math.max(0,16-(n-i));return i=n+o,e.setTimeout(t,o)}var i=0,o=e.requestAnimationFrame||t("RequestAnimationFrame")||n,r=e.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){e.clearTimeout(t)};s.Util.requestAnimFrame=function(t,i,r){return r&&o===n?void t.call(i):o.call(e,s.bind(t,i))},s.Util.cancelAnimFrame=function(t){t&&r.call(e,t)}}(),s.extend=s.Util.extend,s.bind=s.Util.bind,s.stamp=s.Util.stamp,s.setOptions=s.Util.setOptions,s.Class=function(){},s.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=s.Util.create(n);i.constructor=e,
e.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);return t.statics&&(s.extend(e,t.statics),delete t.statics),t.includes&&(s.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=s.Util.extend(s.Util.create(i.options),t.options)),s.extend(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},s.Class.include=function(t){return s.extend(this.prototype,t),this},s.Class.mergeOptions=function(t){return s.extend(this.prototype.options,t),this},s.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this},s.Evented=s.Class.extend({on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else{t=s.Util.splitWords(t);for(var o=0,r=t.length;o<r;o++)this._on(t[o],e,n)}return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=s.Util.splitWords(t);for(var o=0,r=t.length;o<r;o++)this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var o=this._events[t];o||(o=[],this._events[t]=o),n===this&&(n=i);for(var s={fn:e,ctx:n},r=o,a=0,l=r.length;a<l;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(s)},_off:function(t,e,n){var o,r,a;if(this._events&&(o=this._events[t])){if(!e){for(r=0,a=o.length;r<a;r++)o[r].fn=s.Util.falseFn;return void delete this._events[t]}if(n===this&&(n=i),o)for(r=0,a=o.length;r<a;r++){var l=o[r];if(l.ctx===n&&l.fn===e)return l.fn=s.Util.falseFn,this._firingCount&&(this._events[t]=o=o.slice()),void o.splice(r,1)}}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=s.Util.extend({},e,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var r=0,a=o.length;r<a;r++){var l=o[r];l.fn.call(l.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=s.bind(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,s.extend({layer:t.target},t),!0)}});var r=s.Evented.prototype;r.addEventListener=r.on,r.removeEventListener=r.clearAllEventListeners=r.off,r.addOneTimeEventListener=r.once,r.fireEvent=r.fire,r.hasEventListeners=r.listens,s.Mixin={Events:r},function(){var t=navigator.userAgent.toLowerCase(),i=n.documentElement,o="ActiveXObject"in e,r=t.indexOf("webkit")!==-1,a=t.indexOf("phantom")!==-1,l=t.search("android [23]")!==-1,u=t.indexOf("chrome")!==-1,h=t.indexOf("gecko")!==-1&&!r&&!e.opera&&!o,c=0===navigator.platform.indexOf("Win"),d="undefined"!=typeof orientation||t.indexOf("mobile")!==-1,p=!e.PointerEvent&&e.MSPointerEvent,f=e.PointerEvent||p,m=o&&"transition"in i.style,_="WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix&&!l,g="MozPerspective"in i.style,v="OTransition"in i.style,y=!e.L_NO_TOUCH&&(f||"ontouchstart"in e||e.DocumentTouch&&n instanceof e.DocumentTouch);s.Browser={ie:o,ielt9:o&&!n.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in n),webkit:r,gecko:h,android:t.indexOf("android")!==-1,android23:l,chrome:u,safari:!u&&t.indexOf("safari")!==-1,win:c,ie3d:m,webkit3d:_,gecko3d:g,opera12:v,any3d:!e.L_DISABLE_3D&&(m||_||g)&&!v&&!a,mobile:d,mobileWebkit:d&&r,mobileWebkit3d:d&&_,mobileOpera:d&&e.opera,mobileGecko:d&&h,touch:!!y,msPointer:!!p,pointer:!!f,retina:(e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI)>1}}(),s.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},s.Point.prototype={clone:function(){return new s.Point(this.x,this.y)},add:function(t){return this.clone()._add(s.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(s.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new s.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new s.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=s.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=s.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=s.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+s.Util.formatNum(this.x)+", "+s.Util.formatNum(this.y)+")"}},s.point=function(t,e,n){return t instanceof s.Point?t:s.Util.isArray(t)?new s.Point(t[0],t[1]):t===i||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new s.Point(t.x,t.y):new s.Point(t,e,n)},s.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])},s.Bounds.prototype={extend:function(t){return t=s.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new s.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new s.Point(this.min.x,this.max.y)},getTopRight:function(){return new s.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof s.Point?s.point(t):s.bounds(t),t instanceof s.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=s.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,a=o.y>=e.y&&i.y<=n.y;return r&&a},overlaps:function(t){t=s.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,a=o.y>e.y&&i.y<n.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},s.bounds=function(t,e){return!t||t instanceof s.Bounds?t:new s.Bounds(t,e)},s.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},s.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new s.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},s.DomUtil={get:function(t){return"string"==typeof t?n.getElementById(t):t},getStyle:function(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&n.defaultView){var o=n.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return"auto"===i?null:i},create:function(t,e,i){var o=n.createElement(t);return o.className=e||"",i&&i.appendChild(o),o},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=s.DomUtil.getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=s.Util.splitWords(e),o=0,r=n.length;o<r;o++)t.classList.add(n[o]);else if(!s.DomUtil.hasClass(t,e)){var a=s.DomUtil.getClass(t);s.DomUtil.setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):s.DomUtil.setClass(t,s.Util.trim((" "+s.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&s.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(o){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"},testProp:function(t){for(var e=n.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},setTransform:function(t,e,n){var i=e||new s.Point(0,0);t.style[s.DomUtil.TRANSFORM]=(s.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")},setPosition:function(t,e){t._leaflet_pos=e,s.Browser.any3d?s.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new s.Point(0,0)}},function(){s.DomUtil.TRANSFORM=s.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var t=s.DomUtil.TRANSITION=s.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(s.DomUtil.TRANSITION_END="webkitTransition"===t||"OTransition"===t?t+"End":"transitionend","onselectstart"in n)s.DomUtil.disableTextSelection=function(){s.DomEvent.on(e,"selectstart",s.DomEvent.preventDefault)},s.DomUtil.enableTextSelection=function(){s.DomEvent.off(e,"selectstart",s.DomEvent.preventDefault)};else{var i=s.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);s.DomUtil.disableTextSelection=function(){if(i){var t=n.documentElement.style;this._userSelect=t[i],t[i]="none"}},s.DomUtil.enableTextSelection=function(){i&&(n.documentElement.style[i]=this._userSelect,delete this._userSelect)}}s.DomUtil.disableImageDrag=function(){s.DomEvent.on(e,"dragstart",s.DomEvent.preventDefault)},s.DomUtil.enableImageDrag=function(){s.DomEvent.off(e,"dragstart",s.DomEvent.preventDefault)},s.DomUtil.preventOutline=function(t){for(;t.tabIndex===-1;)t=t.parentNode;t&&t.style&&(s.DomUtil.restoreOutline(),this._outlineElement=t,this._outlineStyle=t.style.outline,t.style.outline="none",s.DomEvent.on(e,"keydown",s.DomUtil.restoreOutline,this))},s.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,s.DomEvent.off(e,"keydown",s.DomUtil.restoreOutline,this))}}(),s.LatLng=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==i&&(this.alt=+n)},s.LatLng.prototype={equals:function(t,e){if(!t)return!1;t=s.latLng(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===i?1e-9:e)},toString:function(t){return"LatLng("+s.Util.formatNum(this.lat,t)+", "+s.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return s.CRS.Earth.distance(this,s.latLng(t))},wrap:function(){return s.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return s.latLngBounds([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new s.LatLng(this.lat,this.lng,this.alt)}},s.latLng=function(t,e,n){return t instanceof s.LatLng?t:s.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new s.LatLng(t[0],t[1],t[2]):2===t.length?new s.LatLng(t[0],t[1]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new s.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===i?null:new s.LatLng(t,e,n)},s.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])},s.LatLngBounds.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof s.LatLng)e=t,n=t;else{if(!(t instanceof s.LatLngBounds))return t?this.extend(s.latLng(t)||s.latLngBounds(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new s.LatLng(e.lat,e.lng),this._northEast=new s.LatLng(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new s.LatLngBounds(new s.LatLng(e.lat-i,e.lng-o),new s.LatLng(n.lat+i,n.lng+o))},getCenter:function(){return new s.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new s.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new s.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof s.LatLng||"lat"in t?s.latLng(t):s.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof s.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=s.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,a=o.lng>=e.lng&&i.lng<=n.lng;return r&&a},overlaps:function(t){t=s.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,a=o.lng>e.lng&&i.lng<n.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=s.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},s.latLngBounds=function(t,e){return t instanceof s.LatLngBounds?t:new s.LatLngBounds(t,e)},s.Projection={},s.Projection.LonLat={project:function(t){return new s.Point(t.lng,t.lat)},unproject:function(t){return new s.LatLng(t.y,t.x)},bounds:s.bounds([-180,-90],[180,90])},s.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new s.Point(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new s.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return s.bounds([-t,-t],[t,t])}()},s.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),o=this.transformation.transform(e.max,n);return s.bounds(i,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?s.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?s.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return s.latLng(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),a=t.getNorthEast(),l=s.latLng({lat:r.lat-i,lng:r.lng-o}),u=s.latLng({lat:a.lat-i,lng:a.lng-o});return new s.LatLngBounds(l,u)}},s.CRS.Simple=s.extend({},s.CRS,{projection:s.Projection.LonLat,transformation:new s.Transformation(1,0,(-1),0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0}),s.CRS.Earth=s.extend({},s.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,s=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(s,1))}}),s.CRS.EPSG3857=s.extend({},s.CRS.Earth,{code:"EPSG:3857",projection:s.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*s.Projection.SphericalMercator.R);return new s.Transformation(t,.5,(-t),.5)}()}),s.CRS.EPSG900913=s.extend({},s.CRS.EPSG3857,{code:"EPSG:900913"}),s.CRS.EPSG4326=s.extend({},s.CRS.Earth,{code:"EPSG:4326",projection:s.Projection.LonLat,transformation:new s.Transformation(1/180,1,-1/180,.5)}),s.Map=s.Evented.extend({options:{crs:s.CRS.EPSG3857,center:i,zoom:i,minZoom:i,maxZoom:i,layers:[],maxBounds:i,renderer:i,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=s.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=s.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==i&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==i&&this.setView(s.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=s.DomUtil.TRANSITION&&s.Browser.any3d&&!s.Browser.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),s.DomEvent.on(this._proxy,s.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(s.latLng(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=s.extend({animate:n.animate},n.zoom),n.pan=s.extend({animate:n.animate,duration:n.duration},n.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(s.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(s.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=t instanceof s.Point?t:this.latLngToContainerPoint(t),a=r.subtract(o).multiplyBy(1-1/i),l=this.containerPointToLatLng(o.add(a));return this.setView(l,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():s.latLngBounds(t);var n=s.point(e.paddingTopLeft||e.padding||[0,0]),i=s.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o;var r=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),l=this.project(t.getNorthEast(),o),u=this.unproject(a.add(l).divideBy(2).add(r),o);return{center:u,zoom:o}},fitBounds:function(t,e){if(t=s.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=s.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new s.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){s.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function o(t){var e=t?-1:1,n=t?v:g,i=v*v-g*g+e*w*w*y*y,o=2*n*w*y,s=i/o,r=Math.sqrt(s*s+1)-s,a=r<1e-9?-18:Math.log(r);return a}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return r(t)/a(t)}function u(t){return g*(a(C)/a(C+b*t))}function h(t){return g*(a(C)*l(C+b*t)-r(C))/w}function c(t){return 1-Math.pow(1-t,1.5)}function d(){var n=(Date.now()-E)/x,i=c(n)*L;n<=1?(this._flyToFrame=s.Util.requestAnimFrame(d,this),this._move(this.unproject(p.add(f.subtract(p).multiplyBy(h(i)/y)),_),this.getScaleZoom(g/u(i),_),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},n.animate===!1||!s.Browser.any3d)return this.setView(t,e,n);this._stop();var p=this.project(this.getCenter()),f=this.project(t),m=this.getSize(),_=this._zoom;t=s.latLng(t),e=e===i?_:e;var g=Math.max(m.x,m.y),v=g*this.getZoomScale(_,e),y=f.distanceTo(p)||1,b=1.42,w=b*b,C=o(0),E=Date.now(),L=(o(1)-C)/b,x=n.duration?1e3*n.duration:1e3*L*.8;return this._moveStart(!0),d.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=s.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,s.latLngBounds(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=s.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),r=i.subtract(o);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=s.extend({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=s.bind(this._handleGeolocationResponse,this),n=s.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new s.LatLng(e,n),o=i.toBounds(t.coords.accuracy),r=this._locateOptions;if(r.setView){var a=this.getBoundsZoom(o);this.setView(i,r.maxZoom?Math.min(a,r.maxZoom):a)}var l={latlng:i,bounds:o,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(l[u]=t.coords[u]);this.fire("locationfound",l)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=i,this._containerId=i}s.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=s.DomUtil.create("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new s.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=s.latLngBounds(t),n=s.point(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),l=t.getSouthEast(),u=this.getSize().subtract(n),h=s.bounds(this.project(l,i),this.project(a,i)).getSize(),c=s.Browser.any3d?this.options.zoomSnap:1,d=Math.min(u.x/h.x,u.y/h.y);return i=this.getScaleZoom(d,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new s.Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new s.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===i?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===i?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===i?this._zoom:e;var o=n.zoom(t*n.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(s.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(s.point(t),e)},layerPointToLatLng:function(t){var e=s.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(s.latLng(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(s.latLng(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(s.latLngBounds(t))},distance:function(t,e){return this.options.crs.distance(s.latLng(t),s.latLng(e))},containerPointToLayerPoint:function(t){return s.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return s.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(s.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(s.latLng(t)))},mouseEventToContainerPoint:function(t){return s.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=s.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");s.DomEvent.addListener(e,"scroll",this._onScroll,this),this._containerId=s.Util.stamp(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&s.Browser.any3d,s.DomUtil.addClass(t,"leaflet-container"+(s.Browser.touch?" leaflet-touch":"")+(s.Browser.retina?" leaflet-retina":"")+(s.Browser.ielt9?" leaflet-oldie":"")+(s.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=s.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),s.DomUtil.setPosition(this._mapPane,new s.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(s.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),s.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){s.DomUtil.setPosition(this._mapPane,new s.Point(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){e===i&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return s.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){s.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(s.DomEvent){this._targets={},this._targets[s.stamp(this._container)]=this;var n=t?"off":"on";s.DomEvent[n](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&s.DomEvent[n](e,"resize",this._onResize,this),s.Browser.any3d&&this.options.transform3DLimit&&this[n]("moveend",this._onMoveEnd)}},_onResize:function(){s.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=s.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom());
},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if(n=this._targets[s.stamp(r)],n&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!s.DomEvent._isExternalTarget(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!s.DomEvent._isExternalTarget(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!s.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&s.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=s.Util.extend({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e)),n.length)){var o=n[0];"contextmenu"===e&&o.listens(e,!0)&&s.DomEvent.preventDefault(t);var r={originalEvent:t};if("keypress"!==t.type){var a=o instanceof s.Marker;r.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?o.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(e,r,!0),r.originalEvent._stopped||n[l].options.nonBubblingEvents&&s.Util.indexOf(n[l].options.nonBubblingEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return s.DomUtil.getPosition(this._mapPane)||new s.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==i?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return s.bounds([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new s.Bounds(i.subtract(o),i.add(o)),a=this._getBoundsOffset(r,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new s.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=s.bounds(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max),a=this._rebound(o.x,-r.x),l=this._rebound(o.y,-r.y);return new s.Point(a,l)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=s.Browser.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){s.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!((e&&e.animate)!==!0&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=s.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var n=s.DomUtil.TRANSFORM,i=t.style[n];s.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===t.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),n=this.getZoom();s.DomUtil.setTransform(t,this.project(e,n),this.getZoomScale(n,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(n.animate!==!0&&!this.getSize().contains(o))&&(s.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,i){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,s.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(s.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(s.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),s.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}),s.map=function(t,e){return new s.Map(t,e)},s.Layer=s.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[],attribution:null},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s.stamp(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),s.Map.include({addLayer:function(t){var e=s.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=s.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?s.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var s=this._zoomBoundLayers[o].options;t=s.minZoom===i?t:Math.min(t,s.minZoom),e=s.maxZoom===i?e:Math.max(e,s.maxZoom)}this._layersMaxZoom=e===-(1/0)?i:e,this._layersMinZoom=t===1/0?i:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===i&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===i&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var a="_leaflet_events";s.DomEvent={on:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._on(t,o,e[o],n);else{e=s.Util.splitWords(e);for(var r=0,a=e.length;r<a;r++)this._on(t,e[r],n,i)}return this},off:function(t,e,n,i){if("object"==typeof e)for(var o in e)this._off(t,o,e[o],n);else{e=s.Util.splitWords(e);for(var r=0,a=e.length;r<a;r++)this._off(t,e[r],n,i)}return this},_on:function(t,n,i,o){var r=n+s.stamp(i)+(o?"_"+s.stamp(o):"");if(t[a]&&t[a][r])return this;var l=function(n){return i.call(o||t,n||e.event)},u=l;return s.Browser.pointer&&0===n.indexOf("touch")?this.addPointerListener(t,n,l,r):!s.Browser.touch||"dblclick"!==n||!this.addDoubleTapListener||s.Browser.pointer&&s.Browser.chrome?"addEventListener"in t?"mousewheel"===n?t.addEventListener("onwheel"in t?"wheel":"mousewheel",l,!1):"mouseenter"===n||"mouseleave"===n?(l=function(n){n=n||e.event,s.DomEvent._isExternalTarget(t,n)&&u(n)},t.addEventListener("mouseenter"===n?"mouseover":"mouseout",l,!1)):("click"===n&&s.Browser.android&&(l=function(t){return s.DomEvent._filterClick(t,u)}),t.addEventListener(n,l,!1)):"attachEvent"in t&&t.attachEvent("on"+n,l):this.addDoubleTapListener(t,l,r),t[a]=t[a]||{},t[a][r]=l,this},_off:function(t,e,n,i){var o=e+s.stamp(n)+(i?"_"+s.stamp(i):""),r=t[a]&&t[a][o];return r?(s.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,o):s.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[a][o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,s.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return s.DomEvent.on(t,"mousewheel",s.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=s.DomEvent.stopPropagation;return s.DomEvent.on(t,s.Draggable.START.join(" "),e),s.DomEvent.on(t,{click:s.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return s.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new s.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new s.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},_wheelPxFactor:s.Browser.win&&s.Browser.chrome?2:s.Browser.gecko?e.devicePixelRatio:1,getWheelDelta:function(t){return s.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/s.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){s.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=s.DomEvent._lastClick&&n-s.DomEvent._lastClick;return i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?void s.DomEvent.stop(t):(s.DomEvent._lastClick=n,void e(t))}},s.DomEvent.addListener=s.DomEvent.on,s.DomEvent.removeListener=s.DomEvent.off,s.PosAnimation=s.Evented.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=s.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=s.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),s.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){s.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),s.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:s.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=r*Math.sin(i),l=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(l,1e-10)),new s.Point(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),l=Math.PI/2-2*Math.atan(a),u=0,h=.1;u<15&&Math.abs(h)>1e-7;u++)e=r*Math.sin(l),e=Math.pow((1-e)/(1+e),r/2),h=Math.PI/2-2*Math.atan(a*e)-l,l+=h;return new s.LatLng(l*n,t.x*n/i)}},s.CRS.EPSG3395=s.extend({},s.CRS.Earth,{code:"EPSG:3395",projection:s.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*s.Projection.Mercator.R);return new s.Transformation(t,.5,(-t),.5)}()}),s.GridLayer=s.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:s.Browser.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:i,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){s.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),s.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(s.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(s.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return n.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof s.Point?t:new s.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-(1/0),1/0),o=0,s=n.length;o<s;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!s.Browser.ielt9){s.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);s.DomUtil.setOpacity(o.el,r),r<1?e=!0:(o.active&&(n=!0),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(s.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=s.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=s.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===i)return i;for(var n in this._levels)this._levels[n].el.children.length||n===t?this._levels[n].el.style.zIndex=e-Math.abs(t-n):(s.DomUtil.remove(this._levels[n].el),this._removeTilesAtZoom(n),delete this._levels[n]);var o=this._levels[t],r=this._map;return o||(o=this._levels[t]={},o.el=s.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,r.getCenter(),r.getZoom()),s.Util.falseFn(o.el.offsetWidth)),this._level=o,o},_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)s.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),a=n-1,l=new s.Point((+o),(+r));l.z=+a;var u=this._tileCoordsToKey(l),h=this._tiles[u];return h&&h.active?(h.retain=!0,!0):(h&&h.loaded&&(h.retain=!0),a>i&&this._retainParent(o,r,a,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new s.Point(o,r);a.z=n+1;var l=this._tileCoordsToKey(a),u=this._tiles[l];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,n,o){var s=Math.round(e);(this.options.maxZoom!==i&&s>this.options.maxZoom||this.options.minZoom!==i&&s<this.options.minZoom)&&(s=i);var r=this.options.updateWhenZooming&&s!==this._tileZoom;o&&!r||(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();s.Browser.any3d?s.DomUtil.setTransform(t.el,o,i):s.DomUtil.setPosition(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new s.Bounds(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var o=e.getZoom();if(t===i&&(t=e.getCenter()),this._tileZoom!==i){var r=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(r),l=a.getCenter(),u=[],h=this.options.keepBuffer,c=new s.Bounds(a.getBottomLeft().subtract([h,-h]),a.getTopRight().add([h,-h]));for(var d in this._tiles){var p=this._tiles[d].coords;p.z===this._tileZoom&&c.contains(s.point(p.x,p.y))||(this._tiles[d].current=!1)}if(Math.abs(o-this._tileZoom)>1)return void this._setView(t,o);for(var f=a.min.y;f<=a.max.y;f++)for(var m=a.min.x;m<=a.max.x;m++){var _=new s.Point(m,f);if(_.z=this._tileZoom,this._isValidTile(_)){var g=this._tiles[this._tileCoordsToKey(_)];g?g.current=!0:u.push(_)}}if(u.sort(function(t,e){return t.distanceTo(l)-e.distanceTo(l)}),0!==u.length){this._loading||(this._loading=!0,this.fire("loading"));var v=n.createDocumentFragment();for(m=0;m<u.length;m++)this._addTile(u[m],v);this._level.el.appendChild(v)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return s.latLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n),r=e.unproject(i,t.z),a=e.unproject(o,t.z),l=new s.LatLngBounds(r,a);return this.options.noWrap||e.wrapLatLngBounds(l),l},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new s.Point((+e[0]),(+e[1]));return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(s.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){s.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=s.Util.falseFn,t.onmousemove=s.Util.falseFn,s.Browser.ielt9&&this.options.opacity<1&&s.DomUtil.setOpacity(t,this.options.opacity),s.Browser.android&&!s.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),s.bind(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&s.Util.requestAnimFrame(s.bind(this._tileReady,this,t,null,o)),s.DomUtil.setPosition(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);n=this._tiles[i],n&&(n.loaded=+new Date,this._map._fadeAnimated?(s.DomUtil.setOpacity(n.el,0),s.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=s.Util.requestAnimFrame(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(s.DomUtil.addClass(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),s.Browser.ielt9||!this._map._fadeAnimated?s.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(s.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new s.Point(this._wrapX?s.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?s.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new s.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),s.gridLayer=function(t){return new s.GridLayer(t)},s.TileLayer=s.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=s.setOptions(this,e),e.detectRetina&&s.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),s.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=n.createElement("img");return s.DomEvent.on(i,"load",s.bind(this._tileOnLoad,this,e,i)),s.DomEvent.on(i,"error",s.bind(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:s.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return s.Util.template(this._url,s.extend(e,this.options))},_tileOnLoad:function(t,e){s.Browser.ielt9?setTimeout(s.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.src!==i&&(e.src=i),t(n,e)},getTileSize:function(){var t=this._map,e=s.GridLayer.prototype.getTileSize.call(this),n=this._tileZoom+this.options.zoomOffset,i=this.options.minNativeZoom,o=this.options.maxNativeZoom;return null!==i&&n<i?e.divideBy(t.getZoomScale(i,n)).round():null!==o&&n>o?e.divideBy(t.getZoomScale(o,n)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset,o=this.options.minNativeZoom,s=this.options.maxNativeZoom;return n&&(t=e-t),t+=i,null!==o&&t<o?o:null!==s&&t>s?s:t},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=s.Util.falseFn,e.onerror=s.Util.falseFn,e.complete||(e.src=s.Util.emptyImageUrl,s.DomUtil.remove(e)))}}),s.tileLayer=function(t,e){return new s.TileLayer(t,e)},s.TileLayer.WMS=s.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=s.extend({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);e=s.setOptions(this,e),n.width=n.height=e.tileSize*(e.detectRetina&&s.Browser.retina?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,s.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),o=(this._wmsVersion>=1.3&&this._crs===s.CRS.EPSG4326?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),r=s.TileLayer.prototype.getTileUrl.call(this,t);return r+s.Util.getParamString(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return s.extend(this.wmsParams,t),e||this.redraw(),this}}),s.tileLayer.wms=function(t,e){return new s.TileLayer.WMS(t,e)},s.ImageOverlay=s.Layer.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1},initialize:function(t,e,n){this._url=t,this._bounds=s.latLngBounds(e),s.setOptions(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(s.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){s.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&s.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&s.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=s.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=s.Util.falseFn,t.onmousemove=s.Util.falseFn,t.onload=s.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;s.DomUtil.setTransform(this._image,n,e)},_reset:function(){var t=this._image,e=new s.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();s.DomUtil.setPosition(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){s.DomUtil.setOpacity(this._image,this.options.opacity)}}),s.imageOverlay=function(t,e,n){return new s.ImageOverlay(t,e,n)},s.Icon=s.Class.extend({initialize:function(t){s.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=s.point(i),r=s.point("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||n.createElement("img"),e.src=t,e},_getIconUrl:function(t){return s.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),s.icon=function(t){return new s.Icon(t)},s.Icon.Default=s.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return s.Icon.Default.imagePath||(s.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||s.Icon.Default.imagePath)+s.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=s.DomUtil.create("div","leaflet-default-icon-path",n.body),e=s.DomUtil.getStyle(t,"background-image")||s.DomUtil.getStyle(t,"backgroundImage");return n.body.removeChild(t),0===e.indexOf("url")?e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),s.Marker=s.Layer.extend({options:{icon:new s.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){s.setOptions(this,e),this._latlng=s.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,
this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=s.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),s.DomUtil.addClass(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(s.DomUtil.addClass(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),s.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&s.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){s.DomUtil.setPosition(this._icon,t),this._shadow&&s.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(s.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),s.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new s.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;s.DomUtil.setOpacity(this._icon,t),this._shadow&&s.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),s.marker=function(t,e){return new s.Marker(t,e)},s.DivIcon=s.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:n.createElement("div"),i=this.options;if(e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var o=s.point(i.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),s.divIcon=function(t){return new s.DivIcon(t)},s.DivOverlay=s.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){s.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&s.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&s.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(s.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(s.bind(s.DomUtil.remove,s.DomUtil,this._container),200)):s.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=s.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&s.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&s.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=s.point(this.options.offset),n=this._getAnchor();this._zoomAnimated?s.DomUtil.setPosition(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),s.Popup=s.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){s.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof s.Path||this._source.on("preclick",s.DomEvent.stopPropagation))},onRemove:function(t){s.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof s.Path||this._source.off("preclick",s.DomEvent.stopPropagation))},getEvents:function(){var t=s.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=s.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var n=this._closeButton=s.DomUtil.create("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",s.DomEvent.on(n,"click",this._onCloseButtonClick,this)}var i=this._wrapper=s.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=s.DomUtil.create("div",t+"-content",i),s.DomEvent.disableClickPropagation(i).disableScrollPropagation(this._contentNode).on(i,"contextmenu",s.DomEvent.stopPropagation),this._tipContainer=s.DomUtil.create("div",t+"-tip-container",e),this._tip=s.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",s.DomUtil.addClass(t,r)):s.DomUtil.removeClass(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();s.DomUtil.setPosition(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(s.DomUtil.getStyle(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new s.Point(this._containerLeft,-n-this._containerBottom);o._add(s.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(o),a=s.point(this.options.autoPanPadding),l=s.point(this.options.autoPanPaddingTopLeft||a),u=s.point(this.options.autoPanPaddingBottomRight||a),h=t.getSize(),c=0,d=0;r.x+i+u.x>h.x&&(c=r.x+i-h.x+u.x),r.x-c-l.x<0&&(c=r.x-l.x),r.y+n+u.y>h.y&&(d=r.y+n-h.y+u.y),r.y-d-l.y<0&&(d=r.y-l.y),(c||d)&&t.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(t){this._close(),s.DomEvent.stop(t)},_getAnchor:function(){return s.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),s.popup=function(t,e){return new s.Popup(t,e)},s.Map.mergeOptions({closePopupOnClick:!0}),s.Map.include({openPopup:function(t,e,n){return t instanceof s.Popup||(t=new s.Popup(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),s.Layer.include({bindPopup:function(t,e){return t instanceof s.Popup?(s.setOptions(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new s.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof s.Layer||(e=t,t=this),t instanceof s.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return s.DomEvent.stop(t),e instanceof s.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),s.Tooltip=s.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){s.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){s.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=s.DivOverlay.prototype.getEvents.call(this);return s.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=s.DomUtil.create("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,a=n.offsetWidth,l=n.offsetHeight,u=s.point(this.options.offset),h=this._getAnchor();"top"===r?t=t.add(s.point(-a/2+u.x,-l+u.y+h.y,!0)):"bottom"===r?t=t.subtract(s.point(a/2-u.x,-u.y,!0)):"center"===r?t=t.subtract(s.point(a/2+u.x,l/2-h.y+u.y,!0)):"right"===r||"auto"===r&&o.x<i.x?(r="right",t=t.add(s.point(u.x+h.x,h.y-l/2+u.y,!0))):(r="left",t=t.subtract(s.point(a+h.x-u.x,l/2-h.y-u.y,!0))),s.DomUtil.removeClass(n,"leaflet-tooltip-right"),s.DomUtil.removeClass(n,"leaflet-tooltip-left"),s.DomUtil.removeClass(n,"leaflet-tooltip-top"),s.DomUtil.removeClass(n,"leaflet-tooltip-bottom"),s.DomUtil.addClass(n,"leaflet-tooltip-"+r),s.DomUtil.setPosition(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&s.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return s.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),s.tooltip=function(t,e){return new s.Tooltip(t,e)},s.Map.include({openTooltip:function(t,e,n){return t instanceof s.Tooltip||(t=new s.Tooltip(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),s.Layer.include({bindTooltip:function(t,e){return t instanceof s.Tooltip?(s.setOptions(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=s.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),s.Browser.touch&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof s.Layer||(e=t,t=this),t instanceof s.FeatureGroup)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(s.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(s.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:i)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}}),s.LayerGroup=s.Layer.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s.stamp(t)}}),s.layerGroup=function(t){return new s.LayerGroup(t)},s.FeatureGroup=s.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),s.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),s.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new s.LatLngBounds;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),s.featureGroup=function(t){return new s.FeatureGroup(t)},s.Renderer=s.Layer.extend({options:{padding:.1},initialize:function(t){s.setOptions(this,t),s.stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&s.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){s.DomUtil.remove(this._container),this.off("update",this._updatePaths,this)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=s.DomUtil.getPosition(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e),l=a.subtract(r),u=o.multiplyBy(-n).add(i).add(o).subtract(l);s.Browser.any3d?s.DomUtil.setTransform(this._container,u,n):s.DomUtil.setPosition(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new s.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),s.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&s.canvas()||s.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===i)return!1;var e=this._paneRenderers[t];return e===i&&(e=s.SVG&&s.svg({pane:t})||s.Canvas&&s.canvas({pane:t}),this._paneRenderers[t]=e),e}}),s.Path=s.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return s.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(s.Browser.touch?10:0)}}),s.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,e,0,n-1);var r,a=[];for(r=0;r<n;r++)s[r]&&a.push(t[r]);return a},_simplifyDPStep:function(t,e,n,i,o){var s,r,a,l=0;for(r=i+1;r<=o-1;r++)a=this._sqClosestPointOnSegment(t[r],t[i],t[o],!0),a>l&&(s=r,l=a);l>n&&(e[s]=1,this._simplifyDPStep(t,e,n,i,s),this._simplifyDPStep(t,e,n,s,o))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,o=0,s=t.length;i<s;i++)this._sqDist(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<s-1&&n.push(t[s-1]),n},clipSegment:function(t,e,n,i,o){var s,r,a,l=i?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(l|u))return[t,e];if(l&u)return!1;s=l||u,r=this._getEdgeIntersection(t,e,s,n,o),a=this._getBitCode(r,n),s===l?(t=r,l=a):(e=r,u=a)}},_getEdgeIntersection:function(t,e,n,i,o){var r,a,l=e.x-t.x,u=e.y-t.y,h=i.min,c=i.max;return 8&n?(r=t.x+l*(c.y-t.y)/u,a=c.y):4&n?(r=t.x+l*(h.y-t.y)/u,a=h.y):2&n?(r=c.x,a=t.y+u*(c.x-t.x)/l):1&n&&(r=h.x,a=t.y+u*(h.x-t.x)/l),new s.Point(r,a,o)},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var o,r=e.x,a=e.y,l=n.x-r,u=n.y-a,h=l*l+u*u;return h>0&&(o=((t.x-r)*l+(t.y-a)*u)/h,o>1?(r=n.x,a=n.y):o>0&&(r+=l*o,a+=u*o)),l=t.x-r,u=t.y-a,i?l*l+u*u:new s.Point(r,a)}},s.Polyline=s.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){s.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=s.LineUtil._sqClosestPointOnSegment,a=0,l=this._parts.length;a<l;a++)for(var u=this._parts[a],h=1,c=u.length;h<c;h++){e=u[h-1],n=u[h];var d=r(t,e,n,!0);d<i&&(i=d,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,s,r,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<l-1;t++)if(o=a[t],s=a[t+1],n=o.distanceTo(s),i+=n,i>e)return r=(i-e)/n,this._map.layerPointToLatLng([s.x-r*(s.x-o.x),s.y-r*(s.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=s.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new s.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return s.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=s.Polyline._flat(t),i=0,o=t.length;i<o;i++)n?(e[i]=s.latLng(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new s.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new s.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof s.LatLng,a=t.length;if(r){for(o=[],i=0;i<a;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,o,r,a,l,u=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(l=this._rings[e],n=0,r=l.length;n<r-1;n++)a=s.LineUtil.clipSegment(l[n],l[n+1],t,n,!0),a&&(u[i]=u[i]||[],u[i].push(a[0]),a[1]===l[n+1]&&n!==r-2||(u[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=s.LineUtil.simplify(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),s.polyline=function(t,e){return new s.Polyline(t,e)},s.Polyline._flat=function(t){return!s.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},s.PolyUtil={},s.PolyUtil.clipPolygon=function(t,e,n){var i,o,r,a,l,u,h,c,d,p=[1,4,2,8],f=s.LineUtil;for(o=0,h=t.length;o<h;o++)t[o]._code=f._getBitCode(t[o],e);for(a=0;a<4;a++){for(c=p[a],i=[],o=0,h=t.length,r=h-1;o<h;r=o++)l=t[o],u=t[r],l._code&c?u._code&c||(d=f._getEdgeIntersection(u,l,c,e,n),d._code=f._getBitCode(d,e),i.push(d)):(u._code&c&&(d=f._getEdgeIntersection(u,l,c,e,n),d._code=f._getBitCode(d,e),i.push(d)),i.push(l));t=i}return t},s.Polygon=s.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,s,r,a,l,u=this._rings[0],h=u.length;if(!h)return null;for(s=r=a=0,t=0,e=h-1;t<h;e=t++)n=u[t],i=u[e],o=n.y*i.x-i.y*n.x,r+=(n.x+i.x)*o,a+=(n.y+i.y)*o,s+=3*o;return l=0===s?u[0]:[r/s,a/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=s.Polyline.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof s.LatLng&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){s.Polyline.prototype._setLatLngs.call(this,t),s.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return s.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new s.Point(e,e);if(t=new s.Bounds(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,o=0,r=this._rings.length;o<r;o++)i=s.PolyUtil.clipPolygon(this._rings[o],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),s.polygon=function(t,e){return new s.Polygon(t,e)},s.Rectangle=s.Polygon.extend({initialize:function(t,e){s.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=s.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),s.rectangle=function(t,e){return new s.Rectangle(t,e)},s.CircleMarker=s.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){s.setOptions(this,e),this._latlng=s.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=s.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return s.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new s.Bounds(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),s.circleMarker=function(t,e){return new s.CircleMarker(t,e)},s.Circle=s.CircleMarker.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=s.extend({},n,{radius:e})),s.setOptions(this,e),this._latlng=s.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new s.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:s.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===s.CRS.Earth.distance){var o=Math.PI/180,r=this._mRadius/s.CRS.Earth.R/o,a=n.project([e+r,t]),l=n.project([e-r,t]),u=a.add(l).divideBy(2),h=n.unproject(u).lat,c=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(h*o))/(Math.cos(e*o)*Math.cos(h*o)))/o;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(u.x-n.project([h,t-c]).x),1),this._radiusY=Math.max(Math.round(u.y-a.y),1)}else{var d=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}}),s.circle=function(t,e,n){return new s.Circle(t,e,n)},s.SVG=s.Renderer.extend({getEvents:function(){var t=s.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=s.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=s.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){s.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),s.DomUtil.setPosition(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=s.SVG.create("path");t.options.className&&s.DomUtil.addClass(e,t.options.className),t.options.interactive&&s.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s.stamp(t)]=t},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){s.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s.stamp(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),
n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,s.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,o="a"+n+","+i+" 0 1,0 ",s=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,s)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){s.DomUtil.toFront(t._path)},_bringToBack:function(t){s.DomUtil.toBack(t._path)}}),s.extend(s.SVG,{create:function(t){return n.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var n,i,o,r,a,l,u="";for(n=0,o=t.length;n<o;n++){for(a=t[n],i=0,r=a.length;i<r;i++)l=a[i],u+=(i?"L":"M")+l.x+" "+l.y;u+=e?s.Browser.svg?"z":"x":""}return u||"M0 0"}}),s.Browser.svg=!(!n.createElementNS||!s.SVG.create("svg").createSVGRect),s.svg=function(t){return s.Browser.svg||s.Browser.vml?new s.SVG(t):null},s.Browser.vml=!s.Browser.svg&&function(){try{var t=n.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(i){return!1}}(),s.SVG.include(s.Browser.vml?{_initContainer:function(){this._container=s.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(s.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=s.SVG.create("shape");s.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=s.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s.stamp(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;s.DomUtil.remove(e),t.removeInteractiveTarget(e),delete this._layers[s.stamp(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=s.SVG.create("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=s.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=s.SVG.create("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){s.DomUtil.toFront(t._container)},_bringToBack:function(t){s.DomUtil.toBack(t._container)}}:{}),s.Browser.vml&&(s.SVG.create=function(){try{return n.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return n.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return n.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),s.Canvas=s.Renderer.extend({getEvents:function(){var t=s.Renderer.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){s.Renderer.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=n.createElement("canvas");s.DomEvent.on(t,"mousemove",s.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},s.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=s.Browser.retina?2:1;s.DomUtil.setPosition(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",s.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){s.Renderer.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s.stamp(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),i=[];for(e=0;e<n.length;e++)i.push(Number(n[e]));t.options._dashArray=i}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||s.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(t){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new s.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,s,r=t._parts,a=r.length,l=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),l.setLineDash&&l.setLineDash(t.options&&t.options._dashArray||[]),n=0;n<a;n++){for(i=0,o=r[n].length;i<o;i++)s=r[n][i],l[i?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=t._radius,o=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t,1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)e=o.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(s.DomEvent._fakeStop(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(s.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,o=this._drawFirst;o;o=o.next)n=o.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(s.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),s.Browser.canvas=function(){return!!n.createElement("canvas").getContext}(),s.canvas=function(t){return s.Browser.canvas?new s.Canvas(t):null},s.Polyline.prototype._containsPoint=function(t,e){var n,i,o,r,a,l,u=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(l=this._parts[n],i=0,a=l.length,o=a-1;i<a;o=i++)if((e||0!==i)&&s.LineUtil.pointToSegmentDistance(t,l[o],l[i])<=u)return!0;return!1},s.Polygon.prototype._containsPoint=function(t){var e,n,i,o,r,a,l,u,h=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,l=this._parts.length;o<l;o++)for(e=this._parts[o],r=0,u=e.length,a=u-1;r<u;a=r++)n=e[r],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(h=!h);return h||s.Polyline.prototype._containsPoint.call(this,t,!0)},s.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},s.GeoJSON=s.FeatureGroup.extend({initialize:function(t,e){s.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=s.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=s.GeoJSON.geometryToLayer(t,r);return a?(a.feature=s.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=s.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),s.extend(s.GeoJSON,{geometryToLayer:function(t,e){var n,i,o,r,a="Feature"===t.type?t.geometry:t,l=a?a.coordinates:null,u=[],h=e&&e.pointToLayer,c=e&&e.coordsToLatLng||this.coordsToLatLng;if(!l&&!a)return null;switch(a.type){case"Point":return n=c(l),h?h(t,n):new s.Marker(n);case"MultiPoint":for(o=0,r=l.length;o<r;o++)n=c(l[o]),u.push(h?h(t,n):new s.Marker(n));return new s.FeatureGroup(u);case"LineString":case"MultiLineString":return i=this.coordsToLatLngs(l,"LineString"===a.type?0:1,c),new s.Polyline(i,e);case"Polygon":case"MultiPolygon":return i=this.coordsToLatLngs(l,"Polygon"===a.type?1:2,c),new s.Polygon(i,e);case"GeometryCollection":for(o=0,r=a.geometries.length;o<r;o++){var d=this.geometryToLayer({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);d&&u.push(d)}return new s.FeatureGroup(u);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new s.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){for(var i,o=[],s=0,r=t.length;s<r;s++)i=e?this.coordsToLatLngs(t[s],e-1,n):(n||this.coordsToLatLng)(t[s]),o.push(i);return o},latLngToCoords:function(t){return t.alt!==i?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,n){for(var i=[],o=0,r=t.length;o<r;o++)i.push(e?s.GeoJSON.latLngsToCoords(t[o],e-1,n):s.GeoJSON.latLngToCoords(t[o]));return!e&&n&&i.push(i[0]),i},getFeature:function(t,e){return t.feature?s.extend({},t.feature,{geometry:e}):s.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var l={toGeoJSON:function(){return s.GeoJSON.getFeature(this,{type:"Point",coordinates:s.GeoJSON.latLngToCoords(this.getLatLng())})}};s.Marker.include(l),s.Circle.include(l),s.CircleMarker.include(l),s.Polyline.prototype.toGeoJSON=function(){var t=!s.Polyline._flat(this._latlngs),e=s.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return s.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},s.Polygon.prototype.toGeoJSON=function(){var t=!s.Polyline._flat(this._latlngs),e=t&&!s.Polyline._flat(this._latlngs[0]),n=s.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(n=[n]),s.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})},s.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),s.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,n=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON();n.push(e?i.geometry:s.GeoJSON.asFeature(i))}}),e?s.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),s.geoJSON=function(t,e){return new s.GeoJSON(t,e)},s.geoJson=s.geoJSON,s.Draggable=s.Evented.extend({options:{clickTolerance:3},statics:{START:s.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(s.DomEvent.on(this._dragStartTarget,s.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(s.Draggable._dragging===this&&this.finishDrag(),s.DomEvent.off(this._dragStartTarget,s.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!s.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(s.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(s.Draggable._dragging=this,this._preventOutline&&s.DomUtil.preventOutline(this._element),s.DomUtil.disableImageDrag(),s.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new s.Point(e.clientX,e.clientY),s.DomEvent.on(n,s.Draggable.MOVE[t.type],this._onMove,this).on(n,s.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var i=t.touches&&1===t.touches.length?t.touches[0]:t,o=new s.Point(i.clientX,i.clientY),r=o.subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(s.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=s.DomUtil.getPosition(this._element).subtract(r),s.DomUtil.addClass(n.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,e.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),s.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,s.Util.cancelAnimFrame(this._animRequest),this._lastEvent=t,this._animRequest=s.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),s.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){s.DomUtil.removeClass(n.body,"leaflet-dragging"),this._lastTarget&&(s.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in s.Draggable.MOVE)s.DomEvent.off(n,s.Draggable.MOVE[t],this._onMove,this).off(n,s.Draggable.END[t],this._onUp,this);s.DomUtil.enableImageDrag(),s.DomUtil.enableTextSelection(),this._moved&&this._moving&&(s.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,s.Draggable._dragging=!1}}),s.Handler=s.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),s.Map.mergeOptions({dragging:!0,inertia:!s.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),s.Map.Drag=s.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new s.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}s.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){s.DomUtil.removeClass(this._map._container,"leaflet-grab"),s.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=s.latLngBounds(this._map.options.maxBounds);this._offsetLimit=s.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,s=(i+e+n)%t-e-n,r=Math.abs(o+n)<Math.abs(s+n)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,l=o.multiplyBy(a/r),u=l.distanceTo([0,0]),h=Math.min(n.inertiaMaxSpeed,u),c=l.multiplyBy(h/u),d=h/(n.inertiaDeceleration*a),p=c.multiplyBy(-d/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),s.Util.requestAnimFrame(function(){e.panBy(p,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),s.Map.addInitHook("addHandler","dragging",s.Map.Drag),s.Map.mergeOptions({doubleClickZoom:!0}),s.Map.DoubleClickZoom=s.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),s.Map.addInitHook("addHandler","doubleClickZoom",s.Map.DoubleClickZoom),s.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),s.Map.ScrollWheelZoom=s.Handler.extend({addHooks:function(){s.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){s.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=s.DomEvent.getWheelDelta(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s.bind(this._performZoom,this),i),s.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,s=n?Math.ceil(o/n)*n:o,r=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}}),s.Map.addInitHook("addHandler","scrollWheelZoom",s.Map.ScrollWheelZoom),s.extend(s.DomEvent,{_touchstart:s.Browser.msPointer?"MSPointerDown":s.Browser.pointer?"pointerdown":"touchstart",_touchend:s.Browser.msPointer?"MSPointerUp":s.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,n){function i(t){var e;if(s.Browser.pointer){if(!s.Browser.edge||"mouse"===t.pointerType)return;e=s.DomEvent._pointersCount}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(r||n);a=t.touches?t.touches[0]:t,l=i>0&&i<=u,r=n}}function o(t){if(l&&!a.cancelBubble){if(s.Browser.pointer){if(!s.Browser.edge||"mouse"===t.pointerType)return;var n,i,o={};for(i in a)n=a[i],o[i]=n&&n.bind?n.bind(a):n;a=o}a.type="dblclick",e(a),r=null}}var r,a,l=!1,u=250,h="_leaflet_",c=this._touchstart,d=this._touchend;return t[h+c+n]=i,t[h+d+n]=o,t[h+"dblclick"+n]=e,t.addEventListener(c,i,!1),t.addEventListener(d,o,!1),t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_",i=t[n+this._touchstart+e],o=t[n+this._touchend+e],r=t[n+"dblclick"+e];return t.removeEventListener(this._touchstart,i,!1),t.removeEventListener(this._touchend,o,!1),s.Browser.edge||t.removeEventListener("dblclick",r,!1),this}}),s.extend(s.DomEvent,{POINTER_DOWN:s.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:s.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:s.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:s.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,n,i){return"touchstart"===e?this._addPointerStart(t,n,i):"touchmove"===e?this._addPointerMove(t,n,i):"touchend"===e&&this._addPointerEnd(t,n,i),this},removePointerListener:function(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,i,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,i,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)),this},_addPointerStart:function(t,e,i){var o=s.bind(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;s.DomEvent.preventDefault(t)}this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+i]=o,t.addEventListener(this.POINTER_DOWN,o,!1),!this._pointerDocListener){var r=s.bind(this._globalPointerUp,this);n.documentElement.addEventListener(this.POINTER_DOWN,s.bind(this._globalPointerDown,this),!0),n.documentElement.addEventListener(this.POINTER_MOVE,s.bind(this._globalPointerMove,this),!0),n.documentElement.addEventListener(this.POINTER_UP,r,!0),n.documentElement.addEventListener(this.POINTER_CANCEL,r,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var n in this._pointers)t.touches.push(this._pointers[n]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,n){var i=s.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+n]=i,t.addEventListener(this.POINTER_MOVE,i,!1)},_addPointerEnd:function(t,e,n){var i=s.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+n]=i,t.addEventListener(this.POINTER_UP,i,!1),t.addEventListener(this.POINTER_CANCEL,i,!1)}}),s.Map.mergeOptions({touchZoom:s.Browser.touch&&!s.Browser.android23,bounceAtZoomLimits:!0}),s.Map.TouchZoom=s.Handler.extend({addHooks:function(){s.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),s.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){s.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),s.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),s.DomEvent.on(n,"touchmove",this._onTouchMove,this).on(n,"touchend",this._onTouchEnd,this),s.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var r=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),s.Util.cancelAnimFrame(this._animRequest);var a=s.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=s.Util.requestAnimFrame(a,this,!0),s.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,s.Util.cancelAnimFrame(this._animRequest),s.DomEvent.off(n,"touchmove",this._onTouchMove).off(n,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),s.Map.addInitHook("addHandler","touchZoom",s.Map.TouchZoom),s.Map.mergeOptions({tap:!0,tapTolerance:15}),s.Map.Tap=s.Handler.extend({addHooks:function(){s.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){s.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(s.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new s.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&s.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(s.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),s.DomEvent.on(n,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),s.DomEvent.off(n,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&s.DomUtil.removeClass(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new s.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,i){var o=n.createEvent("MouseEvents");o._simulated=!0,i.target._simulatedClick=!0,o.initMouseEvent(t,!0,!0,e,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(o)}}),s.Browser.touch&&!s.Browser.pointer&&s.Map.addInitHook("addHandler","tap",s.Map.Tap),s.Map.mergeOptions({boxZoom:!0}),s.Map.BoxZoom=s.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){s.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){s.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._resetState(),s.DomUtil.disableTextSelection(),s.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void s.DomEvent.on(n,{contextmenu:s.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=s.DomUtil.create("div","leaflet-zoom-box",this._container),s.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new s.Bounds(this._point,this._startPoint),n=e.getSize();s.DomUtil.setPosition(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(s.DomUtil.remove(this._box),s.DomUtil.removeClass(this._container,"leaflet-crosshair")),s.DomUtil.enableTextSelection(),s.DomUtil.enableImageDrag(),s.DomEvent.off(n,{contextmenu:s.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(s.bind(this._resetState,this),0);var e=new s.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),s.Map.addInitHook("addHandler","boxZoom",s.Map.BoxZoom),s.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),s.Map.Keyboard=s.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){
var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),s.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),s.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=n.body,i=n.documentElement,o=t.scrollTop||i.scrollTop,s=t.scrollLeft||i.scrollLeft;this._map._container.focus(),e.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){s.DomEvent.on(n,"keydown",this._onKeyDown,this)},_removeHooks:function(){s.DomEvent.off(n,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=s.point(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n)return;i.closePopup()}s.DomEvent.stop(t)}}}),s.Map.addInitHook("addHandler","keyboard",s.Map.Keyboard),s.Handler.MarkerDrag=s.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new s.Draggable(t,t,(!0))),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),s.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&s.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=s.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(i);n&&s.DomUtil.setPosition(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),s.Control=s.Class.extend({options:{position:"topright"},initialize:function(t){s.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return s.DomUtil.addClass(e,"leaflet-control"),n.indexOf("bottom")!==-1?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(s.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),s.control=function(t){return new s.Control(t)},s.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var r=n+t+" "+n+o;e[t+o]=s.DomUtil.create("div",r,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=s.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){s.DomUtil.remove(this._controlContainer)}}),s.Control.Zoom=s.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=s.DomUtil.create("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=s.DomUtil.create("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),s.DomEvent.on(r,"mousedown dblclick",s.DomEvent.stopPropagation).on(r,"click",s.DomEvent.stop).on(r,"click",o,this).on(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";s.DomUtil.removeClass(this._zoomInButton,e),s.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&s.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&s.DomUtil.addClass(this._zoomInButton,e)}}),s.Map.mergeOptions({zoomControl:!0}),s.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new s.Control.Zoom,this.addControl(this.zoomControl))}),s.control.zoom=function(t){return new s.Control.Zoom(t)},s.Control.Attribution=s.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){s.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=s.DomUtil.create("div","leaflet-control-attribution"),s.DomEvent&&s.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}}),s.Map.mergeOptions({attributionControl:!0}),s.Map.addInitHook(function(){this.options.attributionControl&&(new s.Control.Attribution).addTo(this)}),s.control.attribution=function(t){return new s.Control.Attribution(t)},s.Control.Scale=s.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=s.DomUtil.create("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=s.DomUtil.create("div",e,n)),t.imperial&&(this._iScale=s.DomUtil.create("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),s.control.scale=function(t){return new s.Control.Scale(t)},s.Control.Layers=s.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){s.setOptions(this,n),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){s.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(s.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):s.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return s.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=s.DomUtil.create("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),s.DomEvent.disableClickPropagation(e),s.Browser.touch||s.DomEvent.disableScrollPropagation(e);var i=this._form=s.DomUtil.create("form",t+"-list");n&&(this._map.on("click",this.collapse,this),s.Browser.android||s.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=s.DomUtil.create("a",t+"-toggle",e);o.href="#",o.title="Layers",s.Browser.touch?s.DomEvent.on(o,"click",s.DomEvent.stop).on(o,"click",this.expand,this):s.DomEvent.on(o,"focus",this.expand,this),s.DomEvent.on(i,"click",function(){setTimeout(s.bind(this._onInputClick,this),0)},this),n||this.expand(),this._baseLayersList=s.DomUtil.create("div",t+"-base",i),this._separator=s.DomUtil.create("div",t+"-separator",i),this._overlaysList=s.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(s.bind(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;s.DomUtil.empty(this._baseLayersList),s.DomUtil.empty(this._overlaysList);var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s.stamp(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=n.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e,i=n.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(e=n.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers",o),e.layerId=s.stamp(t.layer),s.DomEvent.on(e,"click",this._onInputClick,this);var r=n.createElement("span");r.innerHTML=" "+t.name;var a=n.createElement("div");i.appendChild(a),a.appendChild(e),a.appendChild(r);var l=t.overlay?this._overlaysList:this._baseLayersList;return l.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),o=[],s=[];this._handlingClick=!0;for(var r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,n=this._map.hasLayer(e),t.checked&&!n?o.push(e):!t.checked&&n&&s.push(e);for(r=0;r<s.length;r++)this._map.removeLayer(s[r]);for(r=0;r<o.length;r++)this._map.addLayer(o[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._form.getElementsByTagName("input"),o=this._map.getZoom(),s=n.length-1;s>=0;s--)t=n[s],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==i&&o<e.options.minZoom||e.options.maxZoom!==i&&o>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),s.control.layers=function(t,e,n){return new s.Control.Layers(t,e,n)}}(window,document)}),Io=t(function(t){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:Mo,function(t,e){function n(t,e){e=e||nt;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=mt.type(t);return"function"!==n&&!mt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e,n){return mt.isFunction(e)?mt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?mt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?mt.grep(t,function(t){return at.call(e,t)>-1!==n}):xt.test(e)?mt.filter(e,t,n):(e=mt.filter(e,t),mt.grep(t,function(t){return at.call(e,t)>-1!==n&&1===t.nodeType}))}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return mt.each(t.match(Mt)||[],function(t,n){e[n]=!0}),e}function l(t){return t}function u(t){throw t}function h(t,e,n,i){var o;try{t&&mt.isFunction(o=t.promise)?o.call(t).done(e).fail(n):t&&mt.isFunction(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function c(){nt.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),mt.ready()}function d(){this.expando=mt.expando+d.uid++}function p(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ut.test(t)?JSON.parse(t):t)}function f(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ft,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=p(n)}catch(o){}Bt.set(t,e,n)}else n=void 0;return n}function m(t,e,n,i){var o,s=1,r=20,a=i?function(){return i.cur()}:function(){return mt.css(t,e,"")},l=a(),u=n&&n[3]||(mt.cssNumber[e]?"":"px"),h=(mt.cssNumber[e]||"px"!==u&&+l)&&Ht.exec(mt.css(t,e));if(h&&h[3]!==u){u=u||h[3],n=n||[],h=+l||1;do s=s||".5",h/=s,mt.style(t,e,h+u);while(s!==(s=a()/l)&&1!==s&&--r)}return n&&(h=+h||+l||0,o=n[1]?h+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=h,i.end=o)),o}function _(t){var e,n=t.ownerDocument,i=t.nodeName,o=Zt[i];return o?o:(e=n.body.appendChild(n.createElement(i)),o=mt.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),Zt[i]=o,o)}function g(t,e){for(var n,i,o=[],s=0,r=t.length;s<r;s++)i=t[s],i.style&&(n=i.style.display,e?("none"===n&&(o[s]=Rt.get(i,"display")||null,o[s]||(i.style.display="")),""===i.style.display&&qt(i)&&(o[s]=_(i))):"none"!==n&&(o[s]="none",Rt.set(i,"display",n)));for(s=0;s<r;s++)null!=o[s]&&(t[s].style.display=o[s]);return t}function v(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&o(t,e)?mt.merge([t],n):n}function y(t,e){for(var n=0,i=t.length;n<i;n++)Rt.set(t[n],"globalEval",!e||Rt.get(e[n],"globalEval"))}function b(t,e,n,i,o){for(var s,r,a,l,u,h,c=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if(s=t[p],s||0===s)if("object"===mt.type(s))mt.merge(d,s.nodeType?[s]:s);else if(Kt.test(s)){for(r=r||c.appendChild(e.createElement("div")),a=(Gt.exec(s)||["",""])[1].toLowerCase(),l=$t[a]||$t._default,r.innerHTML=l[1]+mt.htmlPrefilter(s)+l[2],h=l[0];h--;)r=r.lastChild;mt.merge(d,r.childNodes),r=c.firstChild,r.textContent=""}else d.push(e.createTextNode(s));for(c.textContent="",p=0;s=d[p++];)if(i&&mt.inArray(s,i)>-1)o&&o.push(s);else if(u=mt.contains(s.ownerDocument,s),r=v(c.appendChild(s),"script"),u&&y(r),n)for(h=0;s=r[h++];)Vt.test(s.type||"")&&n.push(s);return c}function w(){return!0}function C(){return!1}function E(){try{return nt.activeElement}catch(t){}}function L(t,e,n,i,o,s){var r,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)L(t,a,n,i,e[a],s);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=C;else if(!o)return t;return 1===s&&(r=o,o=function(t){return mt().off(t),r.apply(this,arguments)},o.guid=r.guid||(r.guid=mt.guid++)),t.each(function(){mt.event.add(this,e,o,i,n)})}function x(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")?mt(">tbody",t)[0]||t:t}function D(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function T(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function S(t,e){var n,i,o,s,r,a,l,u;if(1===e.nodeType){if(Rt.hasData(t)&&(s=Rt.access(t),r=Rt.set(e,s),u=s.events)){delete r.handle,r.events={};for(o in u)for(n=0,i=u[o].length;n<i;n++)mt.event.add(e,o,u[o][n])}Bt.hasData(t)&&(a=Bt.access(t),l=mt.extend({},a),Bt.set(e,l))}}function P(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Yt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function k(t,e,i,o){e=st.apply([],e);var s,r,a,l,u,h,c=0,d=t.length,p=d-1,f=e[0],m=mt.isFunction(f);if(m||d>1&&"string"==typeof f&&!pt.checkClone&&ie.test(f))return t.each(function(n){var s=t.eq(n);m&&(e[0]=f.call(this,n,s.html())),k(s,e,i,o)});if(d&&(s=b(e,t[0].ownerDocument,!1,t,o),r=s.firstChild,1===s.childNodes.length&&(s=r),r||o)){for(a=mt.map(v(s,"script"),D),l=a.length;c<d;c++)u=s,c!==p&&(u=mt.clone(u,!0,!0),l&&mt.merge(a,v(u,"script"))),i.call(t[c],u,c);if(l)for(h=a[a.length-1].ownerDocument,mt.map(a,T),c=0;c<l;c++)u=a[c],Vt.test(u.type||"")&&!Rt.access(u,"globalEval")&&mt.contains(h,u)&&(u.src?mt._evalUrl&&mt._evalUrl(u.src):n(u.textContent.replace(se,""),h))}return t}function M(t,e,n){for(var i,o=e?mt.filter(e,t):t,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||mt.cleanData(v(i)),i.parentNode&&(n&&mt.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function A(t,e,n){var i,o,s,r,a=t.style;return n=n||le(t),n&&(r=n.getPropertyValue(e)||n[e],""!==r||mt.contains(t.ownerDocument,t)||(r=mt.style(t,e)),!pt.pixelMarginRight()&&ae.test(r)&&re.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function I(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t){if(t in fe)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=pe.length;n--;)if(t=pe[n]+e,t in fe)return t}function N(t){var e=mt.cssProps[t];return e||(e=mt.cssProps[t]=O(t)||t),e}function R(t,e,n){var i=Ht.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function B(t,e,n,i,o){var s,r=0;for(s=n===(i?"border":"content")?4:"width"===e?1:0;s<4;s+=2)"margin"===n&&(r+=mt.css(t,n+zt[s],!0,o)),i?("content"===n&&(r-=mt.css(t,"padding"+zt[s],!0,o)),"margin"!==n&&(r-=mt.css(t,"border"+zt[s]+"Width",!0,o))):(r+=mt.css(t,"padding"+zt[s],!0,o),"padding"!==n&&(r+=mt.css(t,"border"+zt[s]+"Width",!0,o)));return r}function U(t,e,n){var i,o=le(t),s=A(t,e,o),r="border-box"===mt.css(t,"boxSizing",!1,o);return ae.test(s)?s:(i=r&&(pt.boxSizingReliable()||s===t.style[e]),"auto"===s&&(s=t["offset"+e[0].toUpperCase()+e.slice(1)]),s=parseFloat(s)||0,s+B(t,e,n||(r?"border":"content"),i,o)+"px")}function F(t,e,n,i,o){return new F.prototype.init(t,e,n,i,o)}function j(){_e&&(nt.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(j):t.setTimeout(j,mt.fx.interval),mt.fx.tick())}function H(){return t.setTimeout(function(){me=void 0}),me=mt.now()}function z(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)n=zt[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function q(t,e,n){for(var i,o=(Y.tweeners[e]||[]).concat(Y.tweeners["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,e,t))return i}function W(t,e,n){var i,o,s,r,a,l,u,h,c="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&qt(t),_=Rt.get(t,"fxshow");n.queue||(r=mt._queueHooks(t,"fx"),null==r.unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,d.always(function(){d.always(function(){r.unqueued--,mt.queue(t,"fx").length||r.empty.fire()})}));for(i in e)if(o=e[i],ge.test(o)){if(delete e[i],s=s||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!_||void 0===_[i])continue;m=!0}p[i]=_&&_[i]||mt.style(t,i)}if(l=!mt.isEmptyObject(e),l||!mt.isEmptyObject(p)){c&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=_&&_.display,null==u&&(u=Rt.get(t,"display")),h=mt.css(t,"display"),"none"===h&&(u?h=u:(g([t],!0),u=t.style.display||u,h=mt.css(t,"display"),g([t]))),("inline"===h||"inline-block"===h&&null!=u)&&"none"===mt.css(t,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(h=f.display,u="none"===h?"":h)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(_?"hidden"in _&&(m=_.hidden):_=Rt.access(t,"fxshow",{display:u}),s&&(_.hidden=!m),m&&g([t],!0),d.done(function(){m||g([t]),Rt.remove(t,"fxshow");for(i in p)mt.style(t,i,p[i])})),l=q(m?_[i]:0,i,d),i in _||(_[i]=l.start,m&&(l.end=l.start,l.start=0))}}function Z(t,e){var n,i,o,s,r;for(n in t)if(i=mt.camelCase(n),o=e[i],s=t[n],Array.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),r=mt.cssHooks[i],r&&"expand"in r){s=r.expand(s),delete t[i];for(n in s)n in t||(t[n]=s[n],e[n]=o)}else e[i]=o}function Y(t,e,n){var i,o,s=0,r=Y.prefilters.length,a=mt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=me||H(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,s=1-i,r=0,l=u.tweens.length;r<l;r++)u.tweens[r].run(s);return a.notifyWith(t,[u,s,n]),s<1&&l?n:(l||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:mt.extend({},e),opts:mt.extend(!0,{specialEasing:{},easing:mt.easing._default},n),originalProperties:e,originalOptions:n,startTime:me||H(),duration:n.duration,tweens:[],createTween:function(e,n){var i=mt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),h=u.props;for(Z(h,u.opts.specialEasing);s<r;s++)if(i=Y.prefilters[s].call(u,t,h,u.opts))return mt.isFunction(i.stop)&&(mt._queueHooks(u.elem,u.opts.queue).stop=mt.proxy(i.stop,i)),i;return mt.map(h,q,u),mt.isFunction(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),mt.fx.timer(mt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function G(t){var e=t.match(Mt)||[];return e.join(" ")}function V(t){return t.getAttribute&&t.getAttribute("class")||""}function $(t,e,n,i){var o;if(Array.isArray(e))mt.each(e,function(e,o){n||Se.test(t)?i(t,o):$(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==mt.type(e))i(t,e);else for(o in e)$(t+"["+o+"]",e[o],n,i)}function K(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,s=e.toLowerCase().match(Mt)||[];if(mt.isFunction(n))for(;i=s[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function J(t,e,n,i){function o(a){var l;return s[a]=!0,mt.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||r||s[u]?r?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}var s={},r=t===je;return o(e.dataTypes[0])||!s["*"]&&o("*")}function X(t,e){var n,i,o=mt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&mt.extend(!0,t,i),t}function Q(t,e,n){for(var i,o,s,r,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)s=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),n[s]}function tt(t,e,n,i){var o,s,r,a,l,u={},h=t.dataTypes.slice();if(h[1])for(r in t.converters)u[r.toLowerCase()]=t.converters[r];for(s=h.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=h.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=u[l+" "+s]||u["* "+s],!r)for(o in u)if(a=o.split(" "),a[1]===s&&(r=u[l+" "+a[0]]||u["* "+a[0]])){r===!0?r=u[o]:u[o]!==!0&&(s=a[0],h.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(c){return{state:"parsererror",error:r?c:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}var et=[],nt=t.document,it=Object.getPrototypeOf,ot=et.slice,st=et.concat,rt=et.push,at=et.indexOf,lt={},ut=lt.toString,ht=lt.hasOwnProperty,ct=ht.toString,dt=ct.call(Object),pt={},ft="3.2.1",mt=function(t,e){return new mt.fn.init(t,e)},_t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,vt=/-([a-z])/g,yt=function(t,e){return e.toUpperCase()};mt.fn=mt.prototype={jquery:ft,constructor:mt,length:0,toArray:function(){return ot.call(this)},get:function(t){return null==t?ot.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=mt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return mt.each(this,t)},map:function(t){return this.pushStack(mt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:et.sort,splice:et.splice},mt.extend=mt.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[a]||{},a++),"object"==typeof r||mt.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=r[e],i=t[e],r!==i&&(u&&i&&(mt.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,s=n&&Array.isArray(n)?n:[]):s=n&&mt.isPlainObject(n)?n:{},r[e]=mt.extend(u,s,i)):void 0!==i&&(r[e]=i));return r},mt.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===mt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=mt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ut.call(t))&&(!(e=it(t))||(n=ht.call(e,"constructor")&&e.constructor,"function"==typeof n&&ct.call(n)===dt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ut.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(vt,yt)},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;o<n&&e.call(t[o],o,t[o])!==!1;o++);else for(o in t)if(e.call(t[o],o,t[o])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(_t,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?mt.merge(n,"string"==typeof t?[t]:t):rt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:at.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],s=0,r=t.length,a=!n;s<r;s++)i=!e(t[s],s),i!==a&&o.push(t[s]);return o},map:function(t,e,n){var o,s,r=0,a=[];if(i(t))for(o=t.length;r<o;r++)s=e(t[r],r,n),null!=s&&a.push(s);else for(r in t)s=e(t[r],r,n),null!=s&&a.push(s);return st.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),mt.isFunction(t))return i=ot.call(arguments,2),o=function(){return t.apply(e||this,i.concat(ot.call(arguments)))},o.guid=t.guid=t.guid||mt.guid++,o},now:Date.now,support:pt}),"function"==typeof Symbol&&(mt.fn[Symbol.iterator]=et[Symbol.iterator]),mt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var bt=function(t){function e(t,e,n,i){var o,s,r,a,l,u,h,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:H)!==I&&A(e),e=e||I,N)){if(11!==f&&(l=gt.exec(t)))if(o=l[1]){if(9===f){if(!(r=e.getElementById(o)))return n;if(r.id===o)return n.push(r),n}else if(d&&(r=d.getElementById(o))&&F(e,r)&&r.id===o)return n.push(r),n}else{if(l[2])return X.apply(n,e.getElementsByTagName(t)),n;if((o=l[3])&&C.getElementsByClassName&&e.getElementsByClassName)return X.apply(n,e.getElementsByClassName(o)),n}if(C.qsa&&!Y[t+" "]&&(!R||!R.test(t))){if(1!==f)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,Ct):e.setAttribute("id",a=j),u=D(t),s=u.length;s--;)u[s]="#"+a+" "+p(u[s]);h=u.join(","),d=vt.test(t)&&c(e.parentNode)||e}if(h)try{return X.apply(n,d.querySelectorAll(h)),n}catch(m){}finally{a===j&&e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>E.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[j]=!0,t}function o(t){var e=I.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),i=n.length;i--;)E.attrHandle[n[i]]=e}function r(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Lt(e)===t:e.disabled===t:"label"in e&&e.disabled===t;
}}function h(t){return i(function(e){return e=+e,i(function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function p(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=e.next,s=o||i,r=n&&"parentNode"===s,a=q++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o);return!1}:function(e,n,l){var u,h,c,d=[z,a];if(l){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(c=e[j]||(e[j]={}),h=c[e.uniqueID]||(c[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=h[s])&&u[0]===z&&u[1]===a)return d[2]=u[2];if(h[s]=d,d[2]=t(e,n,l))return!0}return!1}}function m(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function _(t,n,i){for(var o=0,s=n.length;o<s;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var s,r=[],a=0,l=t.length,u=null!=e;a<l;a++)(s=t[a])&&(n&&!n(s,i,o)||(r.push(s),u&&e.push(a)));return r}function v(t,e,n,o,s,r){return o&&!o[j]&&(o=v(o)),s&&!s[j]&&(s=v(s,r)),i(function(i,r,a,l){var u,h,c,d=[],p=[],f=r.length,m=i||_(e||"*",a.nodeType?[a]:a,[]),v=!t||!i&&e?m:g(m,d,t,a,l),y=n?s||(i?t:f||o)?[]:r:v;if(n&&n(v,y,a,l),o)for(u=g(y,p),o(u,[],a,l),h=u.length;h--;)(c=u[h])&&(y[p[h]]=!(v[p[h]]=c));if(i){if(s||t){if(s){for(u=[],h=y.length;h--;)(c=y[h])&&u.push(v[h]=c);s(null,y=[],u,l)}for(h=y.length;h--;)(c=y[h])&&(u=s?tt(i,c):d[h])>-1&&(i[u]=!(r[u]=c))}}else y=g(y===r?y.splice(f,y.length):y),s?s(null,r,y,l):X.apply(r,y)})}function y(t){for(var e,n,i,o=t.length,s=E.relative[t[0].type],r=s||E.relative[" "],a=s?1:0,l=f(function(t){return t===e},r,!0),u=f(function(t){return tt(e,t)>-1},r,!0),h=[function(t,n,i){var o=!s&&(i||n!==P)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,o}];a<o;a++)if(n=E.relative[t[a].type])h=[f(m(h),n)];else{if(n=E.filter[t[a].type].apply(null,t[a].matches),n[j]){for(i=++a;i<o&&!E.relative[t[i].type];i++);return v(a>1&&m(h),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&y(t.slice(a,i)),i<o&&y(t=t.slice(i)),i<o&&p(t))}h.push(n)}return m(h)}function b(t,n){var o=n.length>0,s=t.length>0,r=function(i,r,a,l,u){var h,c,d,p=0,f="0",m=i&&[],_=[],v=P,y=i||s&&E.find.TAG("*",u),b=z+=null==v?1:Math.random()||.1,w=y.length;for(u&&(P=r===I||r||u);f!==w&&null!=(h=y[f]);f++){if(s&&h){for(c=0,r||h.ownerDocument===I||(A(h),a=!N);d=t[c++];)if(d(h,r||I,a)){l.push(h);break}u&&(z=b)}o&&((h=!d&&h)&&p--,i&&m.push(h))}if(p+=f,o&&f!==p){for(c=0;d=n[c++];)d(m,_,r,a);if(i){if(p>0)for(;f--;)m[f]||_[f]||(_[f]=K.call(l));_=g(_)}X.apply(l,_),u&&!i&&_.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(z=b,P=v),m};return o?i(r):r}var w,C,E,L,x,D,T,S,P,k,M,A,I,O,N,R,B,U,F,j="sizzle"+1*new Date,H=t.document,z=0,q=0,W=n(),Z=n(),Y=n(),G=function(t,e){return t===e&&(M=!0),0},V={}.hasOwnProperty,$=[],K=$.pop,J=$.push,X=$.push,Q=$.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",rt=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ct=new RegExp(st),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,_t=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ct=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Et=function(){A()},Lt=f(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{X.apply($=Q.call(H.childNodes),H.childNodes),$[H.childNodes.length].nodeType}catch(xt){X={apply:$.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}C=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,O=I.documentElement,N=!x(I),H!==I&&(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Et,!1):n.attachEvent&&n.attachEvent("onunload",Et)),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(I.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=_t.test(I.getElementsByClassName),C.getById=o(function(t){return O.appendChild(t).id=j,!I.getElementsByName||!I.getElementsByName(j).length}),C.getById?(E.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){return t.getAttribute("id")===e}},E.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}}):(E.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},E.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n,i,o,s=e.getElementById(t);if(s){if(n=s.getAttributeNode("id"),n&&n.value===t)return[s];for(o=e.getElementsByName(t),i=0;s=o[i++];)if(n=s.getAttributeNode("id"),n&&n.value===t)return[s]}return[]}}),E.find.TAG=C.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):C.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},E.find.CLASS=C.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},B=[],R=[],(C.qsa=_t.test(I.querySelectorAll))&&(o(function(t){O.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||R.push(".#.+[+~]")}),o(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=I.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),O.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(C.matchesSelector=_t.test(U=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(t){C.disconnectedMatch=U.call(t,"*"),U.call(t,"[s!='']:x"),B.push("!=",st)}),R=R.length&&new RegExp(R.join("|")),B=B.length&&new RegExp(B.join("|")),e=_t.test(O.compareDocumentPosition),F=e||_t.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!C.sortDetached&&e.compareDocumentPosition(t)===n?t===I||t.ownerDocument===H&&F(H,t)?-1:e===I||e.ownerDocument===H&&F(H,e)?1:k?tt(k,t)-tt(k,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!o||!s)return t===I?-1:e===I?1:o?-1:s?1:k?tt(k,t)-tt(k,e):0;if(o===s)return r(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?r(a[i],l[i]):a[i]===H?-1:l[i]===H?1:0},I):I},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==I&&A(t),n=n.replace(ht,"='$1']"),C.matchesSelector&&N&&!Y[n+" "]&&(!B||!B.test(n))&&(!R||!R.test(n)))try{var i=U.call(t,n);if(i||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&A(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&A(t);var n=E.attrHandle[e.toLowerCase()],i=n&&V.call(E.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:C.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(wt,Ct)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(M=!C.detectDuplicates,k=!C.sortStable&&t.slice(0),t.sort(G),M){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return k=null,t},L=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=L(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=L(e);return n},E=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=D(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var s=e.attr(o,t);return null==s?"!="===n:!n||(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(rt," ")+" ").indexOf(i)>-1:"|="===n&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var s="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,h,c,d,p,f,m=s!==r?"nextSibling":"previousSibling",_=e.parentNode,g=a&&e.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(_){if(s){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?_.firstChild:_.lastChild],r&&v){for(d=_,c=d[j]||(d[j]={}),h=c[d.uniqueID]||(c[d.uniqueID]={}),u=h[t]||[],p=u[0]===z&&u[1],y=p&&u[2],d=p&&_.childNodes[p];d=++p&&d&&d[m]||(y=p=0)||f.pop();)if(1===d.nodeType&&++y&&d===e){h[t]=[z,p,y];break}}else if(v&&(d=e,c=d[j]||(d[j]={}),h=c[d.uniqueID]||(c[d.uniqueID]={}),u=h[t]||[],p=u[0]===z&&u[1],y=p),y===!1)for(;(d=++p&&d&&d[m]||(y=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++y||(v&&(c=d[j]||(d[j]={}),h=c[d.uniqueID]||(c[d.uniqueID]={}),h[t]=[z,y]),d!==e)););return y-=o,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(t,n){var o,s=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[j]?s(n):s.length>1?(o=[t,t,"",n],E.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=s(t,n),r=o.length;r--;)i=tt(t,o[r]),t[i]=!(e[i]=o[r])}):function(t){return s(t,0,o)}):s}},pseudos:{not:i(function(t){var e=[],n=[],o=T(t.replace(at,"$1"));return o[j]?i(function(t,e,n,i){for(var s,r=o(t,null,i,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,i,s){return e[0]=t,o(e,null,s,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(yt,bt),function(e){return(e.textContent||e.innerText||L(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,bt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,n){return[n<0?n+e:n]}),even:h(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:h(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:h(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:h(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},E.pseudos.nth=E.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})E.pseudos[w]=l(w);return d.prototype=E.filters=E.pseudos,E.setFilters=new d,D=e.tokenize=function(t,n){var i,o,s,r,a,l,u,h=Z[t+" "];if(h)return n?0:h.slice(0);for(a=t,l=[],u=E.preFilter;a;){i&&!(o=lt.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),i=!1,(o=ut.exec(a))&&(i=o.shift(),s.push({value:i,type:o[0].replace(at," ")}),a=a.slice(i.length));for(r in E.filter)!(o=pt[r].exec(a))||u[r]&&!(o=u[r](o))||(i=o.shift(),s.push({value:i,type:r,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):Z(t,l).slice(0)},T=e.compile=function(t,e){var n,i=[],o=[],s=Y[t+" "];if(!s){for(e||(e=D(t)),n=e.length;n--;)s=y(e[n]),s[j]?i.push(s):o.push(s);s=Y(t,b(o,i)),s.selector=t}return s},S=e.select=function(t,e,n,i){var o,s,r,a,l,u="function"==typeof t&&t,h=!i&&D(t=u.selector||t);if(n=n||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&9===e.nodeType&&N&&E.relative[s[1].type]){if(e=(E.find.ID(r.matches[0].replace(yt,bt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=pt.needsContext.test(t)?0:s.length;o--&&(r=s[o],!E.relative[a=r.type]);)if((l=E.find[a])&&(i=l(r.matches[0].replace(yt,bt),vt.test(s[0].type)&&c(e.parentNode)||e))){if(s.splice(o,1),t=i.length&&p(s),!t)return X.apply(n,i),n;break}}return(u||T(t,h))(i,e,!N,n,!e||vt.test(t)&&c(e.parentNode)||e),n},C.sortStable=j.split("").sort(G).join("")===j,C.detectDuplicates=!!M,A(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(I.createElement("fieldset"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);mt.find=bt,mt.expr=bt.selectors,mt.expr[":"]=mt.expr.pseudos,mt.uniqueSort=mt.unique=bt.uniqueSort,mt.text=bt.getText,mt.isXMLDoc=bt.isXML,mt.contains=bt.contains,mt.escapeSelector=bt.escape;var wt=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&mt(t).is(n))break;i.push(t)}return i},Ct=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Et=mt.expr.match.needsContext,Lt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xt=/^.[^:#\[\.,]*$/;mt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?mt.find.matchesSelector(i,t)?[i]:[]:mt.find.matches(t,mt.grep(e,function(t){return 1===t.nodeType}))},mt.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(mt(t).filter(function(){for(e=0;e<i;e++)if(mt.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)mt.find(t,o[e],n);return i>1?mt.uniqueSort(n):n},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&Et.test(t)?mt(t):t||[],!1).length}});var Dt,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,St=mt.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||Dt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Tt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof mt?e[0]:e,mt.merge(this,mt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),Lt.test(i[1])&&mt.isPlainObject(e))for(i in e)mt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return o=nt.getElementById(i[2]),o&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):mt.isFunction(t)?void 0!==n.ready?n.ready(t):t(mt):mt.makeArray(t,this)};St.prototype=mt.fn,Dt=mt(nt);var Pt=/^(?:parents|prev(?:Until|All))/,kt={children:!0,contents:!0,next:!0,prev:!0};mt.fn.extend({has:function(t){var e=mt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(mt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,o=this.length,s=[],r="string"!=typeof t&&mt(t);if(!Et.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&mt.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?mt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?at.call(mt(t),this[0]):at.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(mt.uniqueSort(mt.merge(this.get(),mt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),mt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return wt(t,"parentNode")},parentsUntil:function(t,e,n){return wt(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return wt(t,"nextSibling")},prevAll:function(t){return wt(t,"previousSibling")},nextUntil:function(t,e,n){return wt(t,"nextSibling",n)},prevUntil:function(t,e,n){return wt(t,"previousSibling",n)},siblings:function(t){return Ct((t.parentNode||{}).firstChild,t)},children:function(t){return Ct(t.firstChild)},contents:function(t){return o(t,"iframe")?t.contentDocument:(o(t,"template")&&(t=t.content||t),mt.merge([],t.childNodes))}},function(t,e){mt.fn[t]=function(n,i){var o=mt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=mt.filter(i,o)),this.length>1&&(kt[t]||mt.uniqueSort(o),Pt.test(t)&&o.reverse()),this.pushStack(o)}});var Mt=/[^\x20\t\r\n\f]+/g;mt.Callbacks=function(t){t="string"==typeof t?a(t):mt.extend({},t);var e,n,i,o,s=[],r=[],l=-1,u=function(){for(o=o||t.once,i=e=!0;r.length;l=-1)for(n=r.shift();++l<s.length;)s[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:"")},h={add:function(){return s&&(n&&!e&&(l=s.length-1,r.push(n)),function i(e){mt.each(e,function(e,n){mt.isFunction(n)?t.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==mt.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return mt.each(arguments,function(t,e){for(var n;(n=mt.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(t){return t?mt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=r=[],n||e||(s=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],r.push(n),e||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},mt.extend({Deferred:function(e){var n=[["notify","progress",mt.Callbacks("memory"),mt.Callbacks("memory"),2],["resolve","done",mt.Callbacks("once memory"),mt.Callbacks("once memory"),0,"resolved"],["reject","fail",mt.Callbacks("once memory"),mt.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(t){return o.then(null,t)},pipe:function(){var t=arguments;return mt.Deferred(function(e){mt.each(n,function(n,i){var o=mt.isFunction(t[i[4]])&&t[i[4]];s[i[1]](function(){var t=o&&o.apply(this,arguments);t&&mt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(e,i,o){function s(e,n,i,o){return function(){var a=this,h=arguments,c=function(){var t,c;if(!(e<r)){if(t=i.apply(a,h),t===n.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,mt.isFunction(c)?o?c.call(t,s(r,n,l,o),s(r,n,u,o)):(r++,c.call(t,s(r,n,l,o),s(r,n,u,o),s(r,n,l,n.notifyWith))):(i!==l&&(a=void 0,h=[t]),(o||n.resolveWith)(a,h))}},d=o?c:function(){try{c()}catch(t){mt.Deferred.exceptionHook&&mt.Deferred.exceptionHook(t,d.stackTrace),e+1>=r&&(i!==u&&(a=void 0,h=[t]),n.rejectWith(a,h))}};e?d():(mt.Deferred.getStackHook&&(d.stackTrace=mt.Deferred.getStackHook()),t.setTimeout(d))}}var r=0;return mt.Deferred(function(t){n[0][3].add(s(0,t,mt.isFunction(o)?o:l,t.notifyWith)),n[1][3].add(s(0,t,mt.isFunction(e)?e:l)),n[2][3].add(s(0,t,mt.isFunction(i)?i:u))}).promise()},promise:function(t){return null!=t?mt.extend(t,o):o}},s={};return mt.each(n,function(t,e){var r=e[2],a=e[5];o[e[1]]=r.add,a&&r.add(function(){i=a},n[3-t][2].disable,n[0][2].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=r.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),o=ot.call(arguments),s=mt.Deferred(),r=function(t){return function(n){i[t]=this,o[t]=arguments.length>1?ot.call(arguments):n,--e||s.resolveWith(i,o)}};if(e<=1&&(h(t,s.done(r(n)).resolve,s.reject,!e),"pending"===s.state()||mt.isFunction(o[n]&&o[n].then)))return s.then();for(;n--;)h(o[n],r(n),s.reject);return s.promise()}});var At=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;mt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&At.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},mt.readyException=function(e){t.setTimeout(function(){throw e})};var It=mt.Deferred();mt.fn.ready=function(t){return It.then(t)["catch"](function(t){mt.readyException(t)}),this},mt.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--mt.readyWait:mt.isReady)||(mt.isReady=!0,t!==!0&&--mt.readyWait>0||It.resolveWith(nt,[mt]))}}),mt.ready.then=It.then,"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll?t.setTimeout(mt.ready):(nt.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Ot=function(t,e,n,i,o,s,r){var a=0,l=t.length,u=null==n;if("object"===mt.type(n)){o=!0;for(a in n)Ot(t,e,a,n[a],!0,s,r)}else if(void 0!==i&&(o=!0,mt.isFunction(i)||(r=!0),u&&(r?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(mt(t),n)})),e))for(;a<l;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:u?e.call(t):l?e(t[0],n):s},Nt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};d.uid=1,d.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Nt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[mt.camelCase(e)]=n;else for(i in e)o[mt.camelCase(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][mt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(mt.camelCase):(e=mt.camelCase(e),e=e in i?[e]:e.match(Mt)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||mt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!mt.isEmptyObject(e)}};var Rt=new d,Bt=new d,Ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ft=/[A-Z]/g;mt.extend({hasData:function(t){return Bt.hasData(t)||Rt.hasData(t)},data:function(t,e,n){return Bt.access(t,e,n)},removeData:function(t,e){Bt.remove(t,e)},_data:function(t,e,n){return Rt.access(t,e,n)},_removeData:function(t,e){Rt.remove(t,e)}}),mt.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=Bt.get(s),1===s.nodeType&&!Rt.get(s,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=mt.camelCase(i.slice(5)),f(s,i,o[i])));Rt.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Bt.set(this,t)}):Ot(this,function(e){var n;if(s&&void 0===e){if(n=Bt.get(s,t),void 0!==n)return n;if(n=f(s,t),void 0!==n)return n}else this.each(function(){Bt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Bt.remove(this,t)})}}),mt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Rt.get(t,e),n&&(!i||Array.isArray(n)?i=Rt.access(t,e,mt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=mt.queue(t,e),i=n.length,o=n.shift(),s=mt._queueHooks(t,e),r=function(){mt.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete s.stop,o.call(t,r,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Rt.get(t,n)||Rt.access(t,n,{empty:mt.Callbacks("once memory").add(function(){Rt.remove(t,[e+"queue",n])})})}}),mt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?mt.queue(this[0],t):void 0===e?this:this.each(function(){var n=mt.queue(this,t,e);mt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&mt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){mt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=mt.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)n=Rt.get(s[r],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ht=new RegExp("^(?:([+-])=|)("+jt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],qt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&mt.contains(t.ownerDocument,t)&&"none"===mt.css(t,"display")},Wt=function(t,e,n,i){var o,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];o=n.apply(t,i||[]);for(s in e)t.style[s]=r[s];return o},Zt={};mt.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){qt(this)?mt(this).show():mt(this).hide()})}});var Yt=/^(?:checkbox|radio)$/i,Gt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Vt=/^$|\/(?:java|ecma)script/i,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td;var Kt=/<|&#?\w+;/;!function(){var t=nt.createDocumentFragment(),e=t.appendChild(nt.createElement("div")),n=nt.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),pt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",pt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Jt=nt.documentElement,Xt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^([^.]*)(?:\.(.+)|)/;mt.event={global:{},add:function(t,e,n,i,o){var s,r,a,l,u,h,c,d,p,f,m,_=Rt.get(t);if(_)for(n.handler&&(s=n,n=s.handler,o=s.selector),o&&mt.find.matchesSelector(Jt,o),n.guid||(n.guid=mt.guid++),(l=_.events)||(l=_.events={}),(r=_.handle)||(r=_.handle=function(e){return"undefined"!=typeof mt&&mt.event.triggered!==e.type?mt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Mt)||[""],u=e.length;u--;)a=te.exec(e[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(c=mt.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=mt.event.special[p]||{},h=mt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&mt.expr.match.needsContext.test(o),namespace:f.join(".")},s),(d=l[p])||(d=l[p]=[],d.delegateCount=0,c.setup&&c.setup.call(t,i,f,r)!==!1||t.addEventListener&&t.addEventListener(p,r)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),mt.event.global[p]=!0)},remove:function(t,e,n,i,o){var s,r,a,l,u,h,c,d,p,f,m,_=Rt.hasData(t)&&Rt.get(t);if(_&&(l=_.events)){for(e=(e||"").match(Mt)||[""],u=e.length;u--;)if(a=te.exec(e[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(c=mt.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=d.length;s--;)h=d[s],!o&&m!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(d.splice(s,1),
h.selector&&d.delegateCount--,c.remove&&c.remove.call(t,h));r&&!d.length&&(c.teardown&&c.teardown.call(t,f,_.handle)!==!1||mt.removeEvent(t,p,_.handle),delete l[p])}else for(p in l)mt.event.remove(t,p+e[u],n,i,!0);mt.isEmptyObject(l)&&Rt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,s,r,a=mt.event.fix(t),l=new Array(arguments.length),u=(Rt.get(this,"events")||{})[a.type]||[],h=mt.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,a)!==!1){for(r=mt.event.handlers.call(this,a,u),e=0;(o=r[e++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,i=((mt.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l),void 0!==i&&(a.result=i)===!1&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,o,s,r,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||u.disabled!==!0)){for(s=[],r={},n=0;n<l;n++)i=e[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?mt(o,this).index(u)>-1:mt.find(o,this,null,[u]).length),r[o]&&s.push(i);s.length&&a.push({elem:u,handlers:s})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(mt.Event.prototype,t,{enumerable:!0,configurable:!0,get:mt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[mt.expando]?t:new mt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(t){return o(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},mt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},mt.Event=function(t,e){return this instanceof mt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?w:C,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&mt.extend(this,e),this.timeStamp=t&&t.timeStamp||mt.now(),void(this[mt.expando]=!0)):new mt.Event(t,e)},mt.Event.prototype={constructor:mt.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=w,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=w,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=w,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},mt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Qt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},mt.event.addProp),mt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){mt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,s=t.handleObj;return o&&(o===i||mt.contains(i,o))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),mt.fn.extend({on:function(t,e,n,i){return L(this,t,e,n,i)},one:function(t,e,n,i){return L(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,mt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=C),this.each(function(){mt.event.remove(this,t,n,e)})}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ne=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;mt.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,n){var i,o,s,r,a=t.cloneNode(!0),l=mt.contains(t.ownerDocument,t);if(!(pt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||mt.isXMLDoc(t)))for(r=v(a),s=v(t),i=0,o=s.length;i<o;i++)P(s[i],r[i]);if(e)if(n)for(s=s||v(t),r=r||v(a),i=0,o=s.length;i<o;i++)S(s[i],r[i]);else S(t,a);return r=v(a,"script"),r.length>0&&y(r,!l&&v(t,"script")),a},cleanData:function(t){for(var e,n,i,o=mt.event.special,s=0;void 0!==(n=t[s]);s++)if(Nt(n)){if(e=n[Rt.expando]){if(e.events)for(i in e.events)o[i]?mt.event.remove(n,i):mt.removeEvent(n,i,e.handle);n[Rt.expando]=void 0}n[Bt.expando]&&(n[Bt.expando]=void 0)}}}),mt.fn.extend({detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?mt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.appendChild(t)}})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(mt.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return mt.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ne.test(t)&&!$t[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=mt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(mt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return k(this,arguments,function(e){var n=this.parentNode;mt.inArray(this,t)<0&&(mt.cleanData(v(this)),n&&n.replaceChild(e,this))},t)}}),mt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){mt.fn[t]=function(t){for(var n,i=[],o=mt(t),s=o.length-1,r=0;r<=s;r++)n=r===s?this:this.clone(!0),mt(o[r])[e](n),rt.apply(i,n.get());return this.pushStack(i)}});var re=/^margin/,ae=new RegExp("^("+jt+")(?!px)[a-z%]+$","i"),le=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Jt.appendChild(r);var e=t.getComputedStyle(a);n="1%"!==e.top,s="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",o="4px"===e.marginRight,Jt.removeChild(r),a=null}}var n,i,o,s,r=nt.createElement("div"),a=nt.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",pt.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",r.appendChild(a),mt.extend(pt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),s}}))}();var ue=/^(none|table(?!-c[ea]).+)/,he=/^--/,ce={position:"absolute",visibility:"hidden",display:"block"},de={letterSpacing:"0",fontWeight:"400"},pe=["Webkit","Moz","ms"],fe=nt.createElement("div").style;mt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=A(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=mt.camelCase(e),l=he.test(e),u=t.style;return l||(e=N(a)),r=mt.cssHooks[e]||mt.cssHooks[a],void 0===n?r&&"get"in r&&void 0!==(o=r.get(t,!1,i))?o:u[e]:(s=typeof n,"string"===s&&(o=Ht.exec(n))&&o[1]&&(n=m(t,e,o),s="number"),null!=n&&n===n&&("number"===s&&(n+=o&&o[3]||(mt.cssNumber[a]?"":"px")),pt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),r&&"set"in r&&void 0===(n=r.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n)),void 0)}},css:function(t,e,n,i){var o,s,r,a=mt.camelCase(e),l=he.test(e);return l||(e=N(a)),r=mt.cssHooks[e]||mt.cssHooks[a],r&&"get"in r&&(o=r.get(t,!0,n)),void 0===o&&(o=A(t,e,i)),"normal"===o&&e in de&&(o=de[e]),""===n||n?(s=parseFloat(o),n===!0||isFinite(s)?s||0:o):o}}),mt.each(["height","width"],function(t,e){mt.cssHooks[e]={get:function(t,n,i){if(n)return!ue.test(mt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?U(t,e,i):Wt(t,ce,function(){return U(t,e,i)})},set:function(t,n,i){var o,s=i&&le(t),r=i&&B(t,e,i,"border-box"===mt.css(t,"boxSizing",!1,s),s);return r&&(o=Ht.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=mt.css(t,e)),R(t,n,r)}}}),mt.cssHooks.marginLeft=I(pt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(A(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),mt.each({margin:"",padding:"",border:"Width"},function(t,e){mt.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+zt[i]+e]=s[i]||s[i-2]||s[0];return o}},re.test(t)||(mt.cssHooks[t+e].set=R)}),mt.fn.extend({css:function(t,e){return Ot(this,function(t,e,n){var i,o,s={},r=0;if(Array.isArray(e)){for(i=le(t),o=e.length;r<o;r++)s[e[r]]=mt.css(t,e[r],!1,i);return s}return void 0!==n?mt.style(t,e,n):mt.css(t,e)},t,e,arguments.length>1)}}),mt.Tween=F,F.prototype={constructor:F,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||mt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(mt.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.options.duration?this.pos=e=mt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=mt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){mt.fx.step[t.prop]?mt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[mt.cssProps[t.prop]]&&!mt.cssHooks[t.prop]?t.elem[t.prop]=t.now:mt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},mt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},mt.fx=F.prototype.init,mt.fx.step={};var me,_e,ge=/^(?:toggle|show|hide)$/,ve=/queueHooks$/;mt.Animation=mt.extend(Y,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return m(n.elem,t,Ht.exec(e),n),n}]},tweener:function(t,e){mt.isFunction(t)?(e=t,t=["*"]):t=t.match(Mt);for(var n,i=0,o=t.length;i<o;i++)n=t[i],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?Y.prefilters.unshift(t):Y.prefilters.push(t)}}),mt.speed=function(t,e,n){var i=t&&"object"==typeof t?mt.extend({},t):{complete:n||!n&&e||mt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!mt.isFunction(e)&&e};return mt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in mt.fx.speeds?i.duration=mt.fx.speeds[i.duration]:i.duration=mt.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){mt.isFunction(i.old)&&i.old.call(this),i.queue&&mt.dequeue(this,i.queue)},i},mt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(qt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=mt.isEmptyObject(t),s=mt.speed(e,n,i),r=function(){var e=Y(this,mt.extend({},t),s);(o||Rt.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",s=mt.timers,r=Rt.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&ve.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));!e&&n||mt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Rt.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],s=mt.timers,r=i?i.length:0;for(n.finish=!0,mt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),mt.each(["toggle","show","hide"],function(t,e){var n=mt.fn[e];mt.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(z(e,!0),t,i,o)}}),mt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){mt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),mt.timers=[],mt.fx.tick=function(){var t,e=0,n=mt.timers;for(me=mt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||mt.fx.stop(),me=void 0},mt.fx.timer=function(t){mt.timers.push(t),mt.fx.start()},mt.fx.interval=13,mt.fx.start=function(){_e||(_e=!0,j())},mt.fx.stop=function(){_e=null},mt.fx.speeds={slow:600,fast:200,_default:400},mt.fn.delay=function(e,n){return e=mt.fx?mt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},function(){var t=nt.createElement("input"),e=nt.createElement("select"),n=e.appendChild(nt.createElement("option"));t.type="checkbox",pt.checkOn=""!==t.value,pt.optSelected=n.selected,t=nt.createElement("input"),t.value="t",t.type="radio",pt.radioValue="t"===t.value}();var ye,be=mt.expr.attrHandle;mt.fn.extend({attr:function(t,e){return Ot(this,mt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){mt.removeAttr(this,t)})}}),mt.extend({attr:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof t.getAttribute?mt.prop(t,e,n):(1===s&&mt.isXMLDoc(t)||(o=mt.attrHooks[e.toLowerCase()]||(mt.expr.match.bool.test(e)?ye:void 0)),void 0!==n?null===n?void mt.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:(i=mt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!pt.radioValue&&"radio"===e&&o(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(Mt);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ye={set:function(t,e,n){return e===!1?mt.removeAttr(t,n):t.setAttribute(n,n),n}},mt.each(mt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=be[e]||mt.find.attr;be[e]=function(t,e,i){var o,s,r=e.toLowerCase();return i||(s=be[r],be[r]=o,o=null!=n(t,e,i)?r:null,be[r]=s),o}});var we=/^(?:input|select|textarea|button)$/i,Ce=/^(?:a|area)$/i;mt.fn.extend({prop:function(t,e){return Ot(this,mt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[mt.propFix[t]||t]})}}),mt.extend({prop:function(t,e,n){var i,o,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&mt.isXMLDoc(t)||(e=mt.propFix[e]||e,o=mt.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=mt.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),pt.optSelected||(mt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),mt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){mt.propFix[this.toLowerCase()]=this}),mt.fn.extend({addClass:function(t){var e,n,i,o,s,r,a,l=0;if(mt.isFunction(t))return this.each(function(e){mt(this).addClass(t.call(this,e,V(this)))});if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[l++];)if(o=V(n),i=1===n.nodeType&&" "+G(o)+" "){for(r=0;s=e[r++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");a=G(i),o!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,o,s,r,a,l=0;if(mt.isFunction(t))return this.each(function(e){mt(this).removeClass(t.call(this,e,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[l++];)if(o=V(n),i=1===n.nodeType&&" "+G(o)+" "){for(r=0;s=e[r++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");a=G(i),o!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):mt.isFunction(t)?this.each(function(n){mt(this).toggleClass(t.call(this,n,V(this),e),e)}):this.each(function(){var e,i,o,s;if("string"===n)for(i=0,o=mt(this),s=t.match(Mt)||[];e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=V(this),e&&Rt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Rt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+G(V(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g;mt.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=mt.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,mt(this).val()):t,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=mt.map(o,function(t){return null==t?"":t+""})),e=mt.valHooks[this.type]||mt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=mt.valHooks[o.type]||mt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Ee,""):null==n?"":n)}}}),mt.extend({valHooks:{option:{get:function(t){var e=mt.find.attr(t,"value");return null!=e?e:G(mt.text(t))}},select:{get:function(t){var e,n,i,s=t.options,r=t.selectedIndex,a="select-one"===t.type,l=a?null:[],u=a?r+1:s.length;for(i=r<0?u:a?r:0;i<u;i++)if(n=s[i],(n.selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(e=mt(n).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var n,i,o=t.options,s=mt.makeArray(e),r=o.length;r--;)i=o[r],(i.selected=mt.inArray(mt.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),mt.each(["radio","checkbox"],function(){mt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=mt.inArray(mt(t).val(),e)>-1}},pt.checkOn||(mt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Le=/^(?:focusinfocus|focusoutblur)$/;mt.extend(mt.event,{trigger:function(e,n,i,o){var s,r,a,l,u,h,c,d=[i||nt],p=ht.call(e,"type")?e.type:e,f=ht.call(e,"namespace")?e.namespace.split("."):[];if(r=a=i=i||nt,3!==i.nodeType&&8!==i.nodeType&&!Le.test(p+mt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[mt.expando]?e:new mt.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:mt.makeArray(n,[e]),c=mt.event.special[p]||{},o||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!o&&!c.noBubble&&!mt.isWindow(i)){for(l=c.delegateType||p,Le.test(l+p)||(r=r.parentNode);r;r=r.parentNode)d.push(r),a=r;a===(i.ownerDocument||nt)&&d.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=d[s++])&&!e.isPropagationStopped();)e.type=s>1?l:c.bindType||p,h=(Rt.get(r,"events")||{})[e.type]&&Rt.get(r,"handle"),h&&h.apply(r,n),h=u&&r[u],h&&h.apply&&Nt(r)&&(e.result=h.apply(r,n),e.result===!1&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||c._default&&c._default.apply(d.pop(),n)!==!1||!Nt(i)||u&&mt.isFunction(i[p])&&!mt.isWindow(i)&&(a=i[u],a&&(i[u]=null),mt.event.triggered=p,i[p](),mt.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=mt.extend(new mt.Event,n,{type:t,isSimulated:!0});mt.event.trigger(i,null,e)}}),mt.fn.extend({trigger:function(t,e){return this.each(function(){mt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return mt.event.trigger(t,e,n,!0)}}),mt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){mt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),mt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),pt.focusin="onfocusin"in t,pt.focusin||mt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){mt.event.simulate(e,t.target,mt.event.fix(t))};mt.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=Rt.access(i,e);o||i.addEventListener(t,n,!0),Rt.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Rt.access(i,e)-1;o?Rt.access(i,e,o):(i.removeEventListener(t,n,!0),Rt.remove(i,e))}}});var xe=t.location,De=mt.now(),Te=/\?/;mt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||mt.error("Invalid XML: "+e),n};var Se=/\[\]$/,Pe=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;mt.param=function(t,e){var n,i=[],o=function(t,e){var n=mt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!mt.isPlainObject(t))mt.each(t,function(){o(this.name,this.value)});else for(n in t)$(n,t[n],e,o);return i.join("&")},mt.fn.extend({serialize:function(){return mt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=mt.prop(this,"elements");return t?mt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!mt(this).is(":disabled")&&Me.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Yt.test(t))}).map(function(t,e){var n=mt(this).val();return null==n?null:Array.isArray(n)?mt.map(n,function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}}):{name:e.name,value:n.replace(Pe,"\r\n")}}).get()}});var Ae=/%20/g,Ie=/#.*$/,Oe=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Be=/^(?:GET|HEAD)$/,Ue=/^\/\//,Fe={},je={},He="*/".concat("*"),ze=nt.createElement("a");ze.href=xe.href,mt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:Re.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":mt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,mt.ajaxSettings),e):X(mt.ajaxSettings,t)},ajaxPrefilter:K(Fe),ajaxTransport:K(je),ajax:function(e,n){function i(e,n,i,a){var u,d,p,b,w,C=n;h||(h=!0,l&&t.clearTimeout(l),o=void 0,r=a||"",E.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(b=Q(f,E,i)),b=tt(f,b,E,u),u?(f.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(mt.lastModified[s]=w),w=E.getResponseHeader("etag"),w&&(mt.etag[s]=w)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,p=b.error,u=!p)):(p=C,!e&&C||(C="error",e<0&&(e=0))),E.status=e,E.statusText=(n||C)+"",u?g.resolveWith(m,[d,C,E]):g.rejectWith(m,[E,C,p]),E.statusCode(y),y=void 0,c&&_.trigger(u?"ajaxSuccess":"ajaxError",[E,f,u?d:p]),v.fireWith(m,[E,C]),c&&(_.trigger("ajaxComplete",[E,f]),--mt.active||mt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var o,s,r,a,l,u,h,c,d,p,f=mt.ajaxSetup({},n),m=f.context||f,_=f.context&&(m.nodeType||m.jquery)?mt(m):mt.event,g=mt.Deferred(),v=mt.Callbacks("once memory"),y=f.statusCode||{},b={},w={},C="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=Ne.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?r:null},setRequestHeader:function(t,e){return null==h&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==h&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)E.always(t[E.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||C;return o&&o.abort(e),i(0,e),this}};if(g.promise(E),f.url=((e||f.url||xe.href)+"").replace(Ue,xe.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Mt)||[""],null==f.crossDomain){u=nt.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=ze.protocol+"//"+ze.host!=u.protocol+"//"+u.host}catch(L){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=mt.param(f.data,f.traditional)),J(Fe,f,n,E),h)return E;c=mt.event&&f.global,c&&0===mt.active++&&mt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Be.test(f.type),s=f.url.replace(Ie,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ae,"+")):(p=f.url.slice(s.length),f.data&&(s+=(Te.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(s=s.replace(Oe,"$1"),p=(Te.test(s)?"&":"?")+"_="+De++ +p),f.url=s+p),f.ifModified&&(mt.lastModified[s]&&E.setRequestHeader("If-Modified-Since",mt.lastModified[s]),mt.etag[s]&&E.setRequestHeader("If-None-Match",mt.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+He+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)E.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(m,E,f)===!1||h))return E.abort();if(C="abort",v.add(f.complete),E.done(f.success),E.fail(f.error),o=J(je,f,n,E)){if(E.readyState=1,c&&_.trigger("ajaxSend",[E,f]),h)return E;f.async&&f.timeout>0&&(l=t.setTimeout(function(){E.abort("timeout")},f.timeout));try{h=!1,o.send(b,i)}catch(L){if(h)throw L;i(-1,L)}}else i(-1,"No Transport");return E},getJSON:function(t,e,n){return mt.get(t,e,n,"json")},getScript:function(t,e){return mt.get(t,void 0,e,"script")}}),mt.each(["get","post"],function(t,e){mt[e]=function(t,n,i,o){return mt.isFunction(n)&&(o=o||i,i=n,n=void 0),mt.ajax(mt.extend({url:t,type:e,dataType:o,data:n,success:i},mt.isPlainObject(t)&&t))}}),mt._evalUrl=function(t){return mt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},mt.fn.extend({wrapAll:function(t){var e;return this[0]&&(mt.isFunction(t)&&(t=t.call(this[0])),e=mt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return mt.isFunction(t)?this.each(function(e){mt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=mt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=mt.isFunction(t);return this.each(function(n){mt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){mt(this).replaceWith(this.childNodes)}),this}}),mt.expr.pseudos.hidden=function(t){return!mt.expr.pseudos.visible(t)},mt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},mt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var qe={0:200,1223:204},We=mt.ajaxSettings.xhr();pt.cors=!!We&&"withCredentials"in We,pt.ajax=We=!!We,mt.ajaxTransport(function(e){var n,i;if(pt.cors||We&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(r in o)a.setRequestHeader(r,o[r]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),mt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),mt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return mt.globalEval(t),t}}}),mt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),mt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=mt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),nt.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ze=[],Ye=/(=)\?(?=&|$)|\?\?/;
mt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ze.pop()||mt.expando+"_"+De++;return this[t]=!0,t}}),mt.ajaxPrefilter("json jsonp",function(e,n,i){var o,s,r,a=e.jsonp!==!1&&(Ye.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=mt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ye,"$1"+o):e.jsonp!==!1&&(e.url+=(Te.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||mt.error(o+" was not called"),r[0]},e.dataTypes[0]="json",s=t[o],t[o]=function(){r=arguments},i.always(function(){void 0===s?mt(t).removeProp(o):t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ze.push(o)),r&&mt.isFunction(s)&&s(r[0]),r=s=void 0}),"script"}),pt.createHTMLDocument=function(){var t=nt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),mt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,o,s;return e||(pt.createHTMLDocument?(e=nt.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=nt.location.href,e.head.appendChild(i)):e=nt),o=Lt.exec(t),s=!n&&[],o?[e.createElement(o[1])]:(o=b([t],e,s),s&&s.length&&mt(s).remove(),mt.merge([],o.childNodes))},mt.fn.load=function(t,e,n){var i,o,s,r=this,a=t.indexOf(" ");return a>-1&&(i=G(t.slice(a)),t=t.slice(0,a)),mt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&mt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){s=arguments,r.html(i?mt("<div>").append(mt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){r.each(function(){n.apply(this,s||[t.responseText,e,t])})}),this},mt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){mt.fn[e]=function(t){return this.on(e,t)}}),mt.expr.pseudos.animated=function(t){return mt.grep(mt.timers,function(e){return t===e.elem}).length},mt.offset={setOffset:function(t,e,n){var i,o,s,r,a,l,u,h=mt.css(t,"position"),c=mt(t),d={};"static"===h&&(t.style.position="relative"),a=c.offset(),s=mt.css(t,"top"),l=mt.css(t,"left"),u=("absolute"===h||"fixed"===h)&&(s+l).indexOf("auto")>-1,u?(i=c.position(),r=i.top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),mt.isFunction(e)&&(e=e.call(t,n,mt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+r),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):c.css(d)}},mt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){mt.offset.setOffset(this,t,e)});var e,n,i,o,s=this[0];if(s)return s.getClientRects().length?(i=s.getBoundingClientRect(),e=s.ownerDocument,n=e.documentElement,o=e.defaultView,{top:i.top+o.pageYOffset-n.clientTop,left:i.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===mt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),o(t[0],"html")||(i=t.offset()),i={top:i.top+mt.css(t[0],"borderTopWidth",!0),left:i.left+mt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-mt.css(n,"marginTop",!0),left:e.left-i.left-mt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===mt.css(t,"position");)t=t.offsetParent;return t||Jt})}}),mt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;mt.fn[t]=function(i){return Ot(this,function(t,i,o){var s;return mt.isWindow(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===o?s?s[e]:t[i]:void(s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):t[i]=o)},t,i,arguments.length)}}),mt.each(["top","left"],function(t,e){mt.cssHooks[e]=I(pt.pixelPosition,function(t,n){if(n)return n=A(t,e),ae.test(n)?mt(t).position()[e]+"px":n})}),mt.each({Height:"height",Width:"width"},function(t,e){mt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){mt.fn[i]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||s===!0?"margin":"border");return Ot(this,function(e,n,o){var s;return mt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===o?mt.css(e,n,a):mt.style(e,n,o,a)},e,r?o:void 0,r)}})}),mt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),mt.holdReady=function(t){t?mt.readyWait++:mt.ready(!0)},mt.isArray=Array.isArray,mt.parseJSON=JSON.parse,mt.nodeName=o,"function"==typeof define&&define.amd&&define("jquery",[],function(){return mt});var Ge=t.jQuery,Ve=t.$;return mt.noConflict=function(e){return t.$===mt&&(t.$=Ve),e&&t.jQuery===mt&&(t.jQuery=Ge),mt},e||(t.jQuery=t.$=mt),mt})}),Oo=t(function(t,e){(function(n){function i(t){return t&&t.Object===Object?t:null}function o(t){for(var e=t.length,n=new Array(e),i=0;i<e;i++)n[i]=t[i];return n}function s(t){return function(){try{return t.apply(this,arguments)}catch(e){return Et.e=e,Et}}}function r(t){throw t}function a(t,e){if(xt&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(Pt)===-1){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var o=n.join("\n"+Pt+"\n");t.stack=l(o)}}function l(t){for(var e=t.split("\n"),n=[],i=0,o=e.length;i<o;i++){var s=e[i];u(s)||h(s)||!s||n.push(s)}return n.join("\n")}function u(t){var e=d(t);if(!e)return!1;var n=e[0],i=e[1];return n===Tt&&i>=St&&i<=bo}function h(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function c(){if(xt)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],i=d(n);if(!i)return;return Tt=i[0],i[1]}}function d(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function p(t,e,i,o,s,r){var a=_e(t),l=a.length,u=_e(e),h=u.length;if(l!==h&&!o)return!1;for(var c,d=l;d--;)if(c=a[d],!(o?c in e:pe.call(e,c)))return!1;for(var p=o;++d<l;){c=a[d];var f,m=t[c],_=e[c];if(!(f===n?i(m,_,o,s,r):f))return!1;p||(p="constructor"===c)}if(!p){var g=t.constructor,v=e.constructor;if(g!==v&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0}function f(t,e,n){switch(n){case Wt:case Zt:return+t===+e;case Yt:return t.name===e.name&&t.message===e.message;case $t:return t!==+t?e!==+e:t===+e;case Jt:case Qt:return t===e+""}return!1}function m(t){return!!t&&"object"==typeof t}function _(t){return"number"==typeof t&&t>-1&&t%1===0&&t<=me}function g(t){return m(t)&&_(t.length)&&!!ce[fe.call(t)]}function v(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function y(t,e,i,o,s,r){var a=-1,l=t.length,u=e.length;if(l!==u&&!(o&&u>l))return!1;for(;++a<l;){var h,c=t[a],d=e[a];if(h!==n){if(h)continue;return!1}if(o){if(!v(e,function(t){return c===t||i(c,t,o,s,r)}))return!1}else if(c!==d&&!i(c,d,o,s,r))return!1}return!0}function b(t,e,n,i,o,s){var r=ye(t),a=ye(e),l=qt,u=qt;r||(l=fe.call(t),l===zt?l=Kt:l!==Kt&&(r=g(t))),a||(u=fe.call(e),u===zt&&(u=Kt));var h=l===Kt&&!ve(t),c=u===Kt&&!ve(e),d=l===u;if(d&&!r&&!h)return f(t,e,l);if(!i){var m=h&&pe.call(t,"__wrapped__"),_=c&&pe.call(e,"__wrapped__");if(m||_)return n(m?t.value():t,_?e.value():e,i,o,s)}if(!d)return!1;o||(o=[]),s||(s=[]);for(var v=o.length;v--;)if(o[v]===t)return s[v]===e;o.push(t),s.push(e);var b=(r?y:p)(t,e,n,i,o,s);return o.pop(),s.pop(),b}function w(t,e,n,i,o){return t===e||(null==t||null==e||!ge(t)&&!m(e)?t!==t&&e!==e:b(t,e,w,n,i,o))}function C(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e();return n}function E(t,e){this.id=t,this.value=e}function L(t){this._s=t,this.isDisposed=!1}function x(t){this._s=t}function D(t){this._s=t,this._l=t.length,this._i=0}function T(t){this._a=t}function S(t){this._a=t,this._l=A(t),this._i=0}function P(t){return"number"==typeof t&&pt.isFinite(t)}function k(t){var e,i=t[Rt];if(!i&&"string"==typeof t)return e=new x(t),e[Rt]();if(!i&&t.length!==n)return e=new T(t),e[Rt]();if(!i)throw new TypeError("Object is not iterable");return t[Rt]()}function M(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function A(t){var e=+t.length;return isNaN(e)?0:0!==e&&P(e)?(e=M(e)*Math.floor(Math.abs(e)),e<=0?0:e>Pn?Pn:e):e}function I(t,e){return Ue(t)||(t=We),new Mn(e,t)}function O(t,e){this.observer=t,this.parent=e}function N(){return!1}function R(){return[]}function B(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}function U(t){return function(e){return t.subscribe(e)}}function F(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function j(t,e){return function(i){for(var o=i,s=0;s<e;s++){var r=o[t[s]];if("undefined"==typeof r)return n;o=r}return o}}function H(t,e,n,i){var o=new _o;return i.push(z(o,e,n)),t.apply(e,i),o.asObservable()}function z(t,e,n){return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(Ct(n)){if(o=Lt(n).apply(e,o),o===Et)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function q(t,e,n,i){var o=new _o;return i.push(W(o,e,n)),t.apply(e,i),o.asObservable()}function W(t,e,n){return function(){var i=arguments[0];if(i)return t.onError(i);for(var o=arguments.length,s=[],r=1;r<o;r++)s[r-1]=arguments[r];if(Ct(n)){var s=Lt(n).apply(e,s);if(s===Et)return t.onError(s.e);t.onNext(s)}else s.length<=1?t.onNext(s[0]):t.onNext(s);t.onCompleted()}}function Z(t){return pt.StaticNodeList?t instanceof pt.StaticNodeList||t instanceof pt.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function Y(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function G(t,e,n){var i=new Ee,o=Object.prototype.toString.call(t);if(Z(t)||"[object HTMLCollection]"===o)for(var s=0,r=t.length;s<r;s++)i.add(G(t.item(s),e,n));else t&&i.add(new Y(t,e,n));return i}function V(t,e){return new Ki(t,e)}function $(t,e,n){return new co(function(i){var o=t,s=Be(e);return n.scheduleRecursiveFuture(0,o,function(t,e){if(s>0){var r=n.now();o=new Date(o.getTime()+s),o.getTime()<=r&&(o=new Date(r+s))}i.onNext(t),e(t+1,new Date(o))})})}function K(t,e,n){return t===e?new co(function(t){return n.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):Ln(function(){return $(new Date(n.now()+t),e,n)})}function J(t,e,n){return new co(function(i){var o,s=!1,r=new Ae,a=null,l=[],u=!1;return o=t.materialize().timestamp(n).subscribe(function(t){var o,h;"E"===t.value.kind?(l=[],l.push(t),a=t.value.error,h=!u):(l.push({value:t.value,timestamp:t.timestamp+e}),h=!s,s=!0),h&&(null!==a?i.onError(a):(o=new Me,r.setDisposable(o),o.setDisposable(n.scheduleRecursiveFuture(null,e,function(t,e){var o,r,h,c;if(null===a){u=!0;do h=null,l.length>0&&l[0].timestamp-n.now()<=0&&(h=l.shift().value),null!==h&&h.accept(i);while(null!==h);c=!1,r=0,l.length>0?(c=!0,r=Math.max(0,l[0].timestamp-n.now())):s=!1,o=a,u=!1,null!==o?i.onError(o):c&&e(null,r)}}))))}),new Ie(o,r)},t)}function X(t,e,n){return Ln(function(){return J(t,e-n.now(),n)})}function Q(t,e,n){var i,o;return Ct(e)?o=e:(i=e,o=n),new co(function(e){function n(){l.setDisposable(t.subscribe(function(t){var n=Lt(o)(t);if(n===Et)return e.onError(n.e);var i=new Me;r.add(i),i.setDisposable(n.subscribe(function(){e.onNext(t),r.remove(i),s()},function(t){e.onError(t)},function(){e.onNext(t),r.remove(i),s()}))},function(t){e.onError(t)},function(){a=!0,l.dispose(),s()}))}function s(){a&&0===r.length&&e.onCompleted()}var r=new Ee,a=!1,l=new Ae;return i?l.setDisposable(i.subscribe(n,function(t){e.onError(t)},n)):n(),new Ie(l,r)},t)}function tt(t,e){return new co(function(n){var i,o=!1,s=new Ae,r=0,a=t.subscribe(function(t){var a=Lt(e)(t);if(a===Et)return n.onError(a.e);wt(a)&&(a=Yi(a)),o=!0,i=t,r++;var l=r,u=new Me;s.setDisposable(u),u.setDisposable(a.subscribe(function(){o&&r===l&&n.onNext(i),o=!1,u.dispose()},function(t){n.onError(t)},function(){o&&r===l&&n.onNext(i),o=!1,u.dispose()}))},function(t){s.dispose(),n.onError(t),o=!1,r++},function(){s.dispose(),o&&n.onNext(i),n.onCompleted(),o=!1,r++});return new Ie(a,s)},t)}function et(t,e,n,i){return Ct(e)&&(i=n,n=e,e=Nn()),cn.isObservable(i)||(i=Hn(new so)),new co(function(o){function s(t){function e(){return c=n===h}var n=h,s=new Me;l.setDisposable(s),s.setDisposable(t.subscribe(function(){e()&&a.setDisposable(i.subscribe(o)),s.dispose()},function(t){e()&&o.onError(t)},function(){e()&&a.setDisposable(i.subscribe(o))}))}function r(){var t=!c;return t&&h++,t}var a=new Ae,l=new Ae,u=new Me;a.setDisposable(u);var h=0,c=!1;return s(e),u.setDisposable(t.subscribe(function(t){if(r()){o.onNext(t);var e=Lt(n)(t);if(e===Et)return o.onError(e.e);s(wt(e)?Yi(e):e)}},function(t){r()&&o.onError(t)},function(){r()&&o.onCompleted()})),new Ie(a,l)},t)}function nt(t,e,n,i){return Ue(n)&&(i=n,n=Hn(new so)),n instanceof Error&&(n=Hn(n)),Ue(i)||(i=$e),cn.isObservable(n)||(n=Hn(new so)),new co(function(o){function s(){var t=r;h.setDisposable(i.scheduleFuture(null,e,function(){u=r===t,u&&(wt(n)&&(n=Yi(n)),l.setDisposable(n.subscribe(o)))}))}var r=0,a=new Me,l=new Ae,u=!1,h=new Ae;return l.setDisposable(a),s(),a.setDisposable(t.subscribe(function(t){u||(r++,o.onNext(t),s())},function(t){u||(r++,o.onError(t))},function(){u||(r++,o.onCompleted())})),new Ie(l,h)},t)}function it(t,e,n){return new co(function(i){function o(t,e){if(u[e]=t,r[e]=!0,a||(a=r.every(_t))){if(s)return i.onError(s);var o=Lt(n).apply(null,u);if(o===Et)return i.onError(o.e);i.onNext(o)}l&&u[1]&&i.onCompleted()}var s,r=[!1,!1],a=!1,l=!1,u=new Array(2);return new Ie(t.subscribe(function(t){o(t,0)},function(t){u[1]?i.onError(t):s=t},function(){l=!0,u[1]&&i.onCompleted()}),e.subscribe(function(t){o(t,1)},function(t){i.onError(t)},function(){l=!0,o(!0,1)}))},t)}function ot(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}var st={"function":!0,object:!0},rt=st[typeof e]&&e&&!e.nodeType?e:null,at=st[typeof t]&&t&&!t.nodeType?t:null,lt=i(rt&&at&&"object"==typeof Mo&&Mo),ut=i(st[typeof self]&&self),ht=i(st[typeof window]&&window),ct=at&&at.exports===rt?rt:null,dt=i(st[typeof this]&&this),pt=lt||ht!==(dt&&dt.window)&&ht||ut||dt||Function("return this")(),ft={internals:{},config:{Promise:pt.Promise},helpers:{}},mt=ft.helpers.noop=function(){},_t=ft.helpers.identity=function(t){return t},gt=ft.helpers.defaultNow=Date.now,vt=ft.helpers.defaultComparer=function(t,e){return be(t,e)},yt=ft.helpers.defaultSubComparer=function(t,e){return t>e?1:t<e?-1:0},bt=(ft.helpers.defaultKeySerializer=function(t){return t.toString()},ft.helpers.defaultError=function(t){throw t}),wt=ft.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},Ct=ft.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),Et={e:{}},Lt=ft.internals.tryCatch=function(t){if(!Ct(t))throw new TypeError("fn must be a function");return s(t)};ft.config.longStackSupport=!1;var xt=!1,Dt=Lt(function(){throw new Error})();xt=!!Dt.e&&!!Dt.e.stack;var Tt,St=c(),Pt="From previous event:",kt=ft.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};kt.prototype=Object.create(Error.prototype),kt.prototype.name="EmptyError";var Mt=ft.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};Mt.prototype=Object.create(Error.prototype),Mt.prototype.name="ObjectDisposedError";var At=ft.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};At.prototype=Object.create(Error.prototype),At.prototype.name="ArgumentOutOfRangeError";var It=ft.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};It.prototype=Object.create(Error.prototype),It.prototype.name="NotSupportedError";var Ot=ft.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};Ot.prototype=Object.create(Error.prototype),Ot.prototype.name="NotImplementedError";var Nt=ft.helpers.notImplemented=function(){throw new Ot},Rt=(ft.helpers.notSupported=function(){throw new It},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");pt.Set&&"function"==typeof(new pt.Set)["@@iterator"]&&(Rt="@@iterator");var Bt=ft.doneEnumerator={done:!0,value:n},Ut=ft.helpers.isIterable=function(t){return t&&t[Rt]!==n},Ft=ft.helpers.isArrayLike=function(t){return t&&t.length!==n};ft.helpers.iterator=Rt;var jt=ft.internals.bindCallback=function(t,e,n){if("undefined"==typeof e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}},Ht=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],zt=(Ht.length,"[object Arguments]"),qt="[object Array]",Wt="[object Boolean]",Zt="[object Date]",Yt="[object Error]",Gt="[object Function]",Vt="[object Map]",$t="[object Number]",Kt="[object Object]",Jt="[object RegExp]",Xt="[object Set]",Qt="[object String]",te="[object WeakMap]",ee="[object ArrayBuffer]",ne="[object Float32Array]",ie="[object Float64Array]",oe="[object Int8Array]",se="[object Int16Array]",re="[object Int32Array]",ae="[object Uint8Array]",le="[object Uint8ClampedArray]",ue="[object Uint16Array]",he="[object Uint32Array]",ce={};ce[ne]=ce[ie]=ce[oe]=ce[se]=ce[re]=ce[ae]=ce[le]=ce[ue]=ce[he]=!0,ce[zt]=ce[qt]=ce[ee]=ce[Wt]=ce[Zt]=ce[Yt]=ce[Gt]=ce[Vt]=ce[$t]=ce[Kt]=ce[Jt]=ce[Xt]=ce[Qt]=ce[te]=!1;var de=Object.prototype,pe=de.hasOwnProperty,fe=de.toString,me=Math.pow(2,53)-1,_e=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var s,r,a=[];for(s in o)t.call(o,s)&&a.push(s);if(e)for(r=0;r<i;r++)t.call(o,n[r])&&a.push(n[r]);return a}}(),ge=ft.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},ve=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),ye=Array.isArray||function(t){return m(t)&&_(t.length)&&fe.call(t)===qt},be=ft.internals.isEqual=function(t,e){return w(t,e)},we=({}.hasOwnProperty,Array.prototype.slice,ft.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),Ce=ft.internals.addProperties=function(t){for(var e=[],n=1,i=arguments.length;n<i;n++)e.push(arguments[n]);for(var o=0,s=e.length;o<s;o++){var r=e[o];for(var a in r)t[a]=r[a]}},Ee=(ft.internals.addRef=function(t,e){return new co(function(n){return new Ie(e.getDisposable(),t.subscribe(n))})},ft.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length}),Le=Ee.prototype;Le.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},Le.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);n!==-1&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},Le.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;n<t;n++)e[n].dispose()}};var xe=ft.Disposable=function(t){this.isDisposed=!1,this.action=t||mt};xe.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var De=xe.create=function(t){return new xe(t)},Te=xe.empty={dispose:mt},Se=xe.isDisposable=function(t){return t&&Ct(t.dispose)},Pe=xe.checkDisposed=function(t){if(t.isDisposed)throw new Mt},ke=xe._fixup=function(t){return Se(t)?t:Te},Me=ft.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Me.prototype.getDisposable=function(){return this.current},Me.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},Me.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var Ae=ft.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Ae.prototype.getDisposable=function(){return this.current},Ae.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},Ae.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var Ie=ft.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};Ie.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var Oe=ft.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};Oe.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;t<e;t++)this._disposables[t].dispose();this._disposables.length=0}};var Ne=(ft.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?Te:new t(this)},e}(),ft.internals.ScheduledItem=function(t,e,n,i,o){this.scheduler=t,this.state=e,this.action=n,this.dueTime=i,this.comparer=o||yt,this.disposable=new Me});Ne.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Ne.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},Ne.prototype.isCancelled=function(){return this.disposable.isDisposed},Ne.prototype.invokeCore=function(){return ke(this.action(this.scheduler,this.state))};var Re=ft.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new Ot},e.scheduleFuture=function(e,n,i){var o=n;return o instanceof Date&&(o-=this.now()),o=t.normalize(o),0===o?this.schedule(e,i):this._scheduleFuture(e,o,i)},e._scheduleFuture=function(t,e,n){throw new Ot},t.now=gt,t.prototype.now=gt,t.normalize=function(t){return t<0&&(t=0),t},t}(),Be=Re.normalize,Ue=Re.isScheduler;!function(t){function e(t,e){function n(e){function i(t,e){return r?s.remove(l):a=!0,o(e,n),Te}var r=!1,a=!1,l=t.schedule(e,i);a||(s.add(l),r=!0)}var i=e[0],o=e[1],s=new Ee;return o(i,n),s}function n(t,e){function n(e,i){function r(t,e){return a?s.remove(u):l=!0,o(e,n),Te}var a=!1,l=!1,u=t.scheduleFuture(e,i,r);l||(s.add(u),a=!0)}var i=e[0],o=e[1],s=new Ee;return o(i,n),s}t.scheduleRecursive=function(t,n){return this.schedule([t,n],e)},t.scheduleRecursiveFuture=function(t,e,i){return this.scheduleFuture([t,i],e,n)}}(Re.prototype),function(t){t.schedulePeriodic=function(t,e,n){if("undefined"==typeof pt.setInterval)throw new It;e=Be(e);var i=t,o=pt.setInterval(function(){i=n(i)},e);return De(function(){pt.clearInterval(o)})}}(Re.prototype);var Fe,je,He=function(t){function e(){t.call(this)}return we(e,t),e.prototype.schedule=function(t,e){return ke(e(this,t))},e}(Re),ze=Re.immediate=new He,qe=function(t){function e(){for(;i.length>0;){var t=i.dequeue();!t.isCancelled()&&t.invoke()}}function n(){t.call(this)}var i;return we(n,t),n.prototype.schedule=function(t,n){var o=new Ne(this,t,n,this.now());if(i)i.enqueue(o);else{i=new Ke(4),i.enqueue(o);var s=Lt(e)();i=null,s===Et&&r(s.e)}return o.disposable},n.prototype.scheduleRequired=function(){return!i},n}(Re),We=Re.currentThread=new qe,Ze=(ft.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,n){n(0,t._period);var i=Lt(t._action)(t._state);i===Et&&(t._cancel.dispose(),r(i.e)),t._state=i}}function e(t,e,n,i){this._scheduler=t,this._state=e,this._period=n,this._action=i}return e.prototype.start=function(){var e=new Me;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),function(){var t,e=mt;if(pt.setTimeout)t=pt.setTimeout,e=pt.clearTimeout;else{if(!pt.WScript)throw new It;t=function(t,e){pt.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}()),Ye=Ze.setTimeout,Ge=Ze.clearTimeout;!function(){function t(e){if(o)Ye(function(){t(e)},0);else{var n=i[e];if(n){o=!0;var s=Lt(n)();je(e),o=!1,s===Et&&r(s.e)}}}function e(){if(!pt.postMessage||pt.importScripts)return!1;var t=!1,e=pt.onmessage;return pt.onmessage=function(){t=!0},pt.postMessage("","*"),pt.onmessage=e,t}var n=1,i={},o=!1;je=function(t){delete i[t]};var s=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),a="function"==typeof(a=lt&&ct&&lt.setImmediate)&&!s.test(a)&&a;if(Ct(a))Fe=function(e){var o=n++;return i[o]=e,a(function(){t(o)}),o};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))Fe=function(e){var o=n++;return i[o]=e,process.nextTick(function(){t(o)}),o};else if(e()){var l="ms.rx.schedule"+Math.random(),u=function(e){"string"==typeof e.data&&e.data.substring(0,l.length)===l&&t(e.data.substring(l.length))};pt.addEventListener("message",u,!1),Fe=function(t){var e=n++;return i[e]=t,pt.postMessage(l+e,"*"),e}}else if(pt.MessageChannel){var h=new pt.MessageChannel;h.port1.onmessage=function(e){t(e.data)},Fe=function(t){var e=n++;return i[e]=t,h.port2.postMessage(e),e}}else Fe="document"in pt&&"onreadystatechange"in pt.document.createElement("script")?function(e){var o=pt.document.createElement("script"),s=n++;return i[s]=e,o.onreadystatechange=function(){t(s),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},pt.document.documentElement.appendChild(o),s}:function(e){var o=n++;return i[o]=e,Ye(function(){t(o)},0),o}}();var Ve=function(t){function e(){t.call(this)}function n(t,e,n,i){return function(){t.setDisposable(xe._fixup(e(n,i)))}}function i(t){this._id=t,this.isDisposed=!1}function o(t){this._id=t,this.isDisposed=!1}return we(e,t),i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,je(this._id))},o.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Ge(this._id))},e.prototype.schedule=function(t,e){var o=new Me,s=Fe(n(o,e,this,t));return new Ie(o,new i(s))},e.prototype._scheduleFuture=function(t,e,i){if(0===e)return this.schedule(t,i);var s=new Me,r=Ye(n(s,i,this,t),e);return new Ie(s,new o(r))},e}(Re),$e=Re["default"]=Re.async=new Ve;E.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var Ke=ft.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},Je=Ke.prototype;Je.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},Je.percolate=function(t){if(!(t>=this.length||t<0)){var e=t-1>>1;if(!(e<0||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},Je.heapify=function(t){if(+t||(t=0),!(t>=this.length||t<0)){var e=2*t+1,n=2*t+2,i=t;if(e<this.length&&this.isHigherPriority(e,i)&&(i=e),n<this.length&&this.isHigherPriority(n,i)&&(i=n),i!==t){var o=this.items[t];this.items[t]=this.items[i],this.items[i]=o,this.heapify(i)}}},Je.peek=function(){return this.items[0].value},Je.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=n,this.heapify()},Je.dequeue=function(){var t=this.peek();return this.removeAt(0),t},Je.enqueue=function(t){var e=this.length++;this.items[e]=new E((Ke.count++),t),this.percolate(e)},Je.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},Ke.count=0;var Xe,Qe=ft.Notification=function(){function t(){}return t.prototype._accept=function(t,e,n){throw new Ot},t.prototype._acceptObserver=function(t,e,n){throw new Ot},t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return Ue(t)||(t=ze),new co(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},t}(),tn=function(t){function e(t){this.value=t,this.kind="N"}return we(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(Qe),en=function(t){function e(t){this.error=t,this.kind="E"}return we(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(Qe),nn=function(t){function e(){this.kind="C"}return we(e,t),e.prototype._accept=function(t,e,n){return n()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(Qe),on=Qe.createOnNext=function(t){return new tn(t)},sn=Qe.createOnError=function(t){return new en(t)},rn=Qe.createOnCompleted=function(){return new nn},an=ft.Observer=function(){},ln=an.create=function(t,e,n){return t||(t=mt),e||(e=bt),n||(n=mt),new hn(t,e,n)},un=ft.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return we(e,t),e.prototype.next=Nt,e.prototype.error=Nt,e.prototype.completed=Nt,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(an),hn=ft.AnonymousObserver=function(t){function e(e,n,i){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=i}return we(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(un),cn=ft.Observable=function(){function t(t,e){return function(n){var i=n.onError;return n.onError=function(e){a(e,t),i.call(n,e)},e.call(t,n)}}function e(){if(ft.config.longStackSupport&&xt){var e=this._subscribe,n=Lt(r)(new Error).e;this.stack=n.stack.substring(n.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return Xe=e.prototype,e.isObservable=function(t){return t&&Ct(t.subscribe)},Xe.subscribe=Xe.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:ln(t,e,n))},Xe.subscribeOnNext=function(t,e){return this._subscribe(ln("undefined"!=typeof e?function(n){t.call(e,n);
}:t))},Xe.subscribeOnError=function(t,e){return this._subscribe(ln(null,"undefined"!=typeof e?function(n){t.call(e,n)}:t))},Xe.subscribeOnCompleted=function(t,e){return this._subscribe(ln(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},e}(),dn=ft.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Ae}function n(t,e){return function(){t.onNext(e)}}function i(t,e){return function(){t.onError(e)}}function o(t){return function(){t.onCompleted()}}function s(t,e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();var i=Lt(n)();return i===Et?(t.queue=[],t.hasFaulted=!0,r(i.e)):void e(t)}return we(e,t),e.prototype.next=function(t){this.queue.push(n(this.observer,t))},e.prototype.error=function(t){this.queue.push(i(this.observer,t))},e.prototype.completed=function(){this.queue.push(o(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,s))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(un),pn=ft.ObservableBase=function(t){function e(t){return t&&Ct(t.dispose)?t:Ct(t)?De(t):Te}function n(t,n){var i=n[0],o=n[1],s=Lt(o.subscribeCore).call(o,i);s!==Et||i.fail(Et.e)||r(Et.e),i.setDisposable(e(s))}function i(){t.call(this)}return we(i,t),i.prototype._subscribe=function(t){var e=new po(t),i=[e,this];return We.scheduleRequired()?We.schedule(i,n):n(null,i),e},i.prototype.subscribeCore=Nt,i}(cn),fn=ft.FlatMapObservable=function(t){function e(e,n,i,o){this.resultSelector=Ct(i)?i:null,this.selector=jt(Ct(n)?n:function(){return n},o,3),this.source=e,t.call(this)}function n(t,e,n,i){this.i=0,this.selector=e,this.resultSelector=n,this.source=i,this.o=t,un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this.resultSelector,this))},we(n,un),n.prototype._wrapResult=function(t,e,n){return this.resultSelector?t.map(function(t,i){return this.resultSelector(e,t,n,i)},this):t},n.prototype.next=function(t){var e=this.i++,n=Lt(this.selector)(t,e,this.source);return n===Et?this.o.onError(n.e):(wt(n)&&(n=Yi(n)),(Ft(n)||Ut(n))&&(n=cn.from(n)),void this.o.onNext(this._wrapResult(n,t,e)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(pn),mn=ft.internals.Enumerable=function(){};L.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var _n=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=Lt(t.e.next).call(t.e);if(n===Et)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var o=n.value;wt(o)&&(o=Yi(o));var s=new Me;t.subscription.setDisposable(s),s.setDisposable(o.subscribe(new i(t,e)))}}function i(t,e){this._state=t,this._recurse=e,un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Ae,i={isDisposed:!1,o:t,subscription:e,e:this.sources[Rt]()},o=We.scheduleRecursive(i,n);return new Oe([e,o,new L(i)])},we(i,un),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.o.onError(t)},i.prototype.completed=function(){this._recurse(this._state)},e}(pn);mn.prototype.concat=function(){return new _n(this)};var gn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=Lt(t.e.next).call(t.e);if(n===Et)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var o=n.value;wt(o)&&(o=Yi(o));var s=new Me;t.subscription.setDisposable(s),s.setDisposable(o.subscribe(new i(t,e)))}}function i(t,e){this._state=t,this._recurse=e,un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Ae,i={isDisposed:!1,e:this.sources[Rt](),subscription:e,lastError:null,o:t},o=We.scheduleRecursive(i,n);return new Oe([e,o,new L(i)])},we(i,un),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},i.prototype.completed=function(){this._state.o.onCompleted()},e}(pn);mn.prototype.catchError=function(){return new gn(this)};var vn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return we(e,t),e.prototype[Rt]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?Bt:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(mn),yn=mn.repeat=function(t,e){return new vn(t,e)},bn=function(t){function e(t,e,n){this.s=t,this.fn=e?jt(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return we(e,t),e.prototype[Rt]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:Bt},e}(mn),wn=mn.of=function(t,e,n){return new bn(t,e,n)},Cn=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},we(n,un),n.prototype.next=function(t){this.a.push(t)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(pn);Xe.toArray=function(){return new Cn(this)},cn.create=function(t,e){return new co(t,e)};var En=function(t){function e(e){this._f=e,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=Lt(this._f)();return e===Et?Hn(e.e).subscribe(t):(wt(e)&&(e=Yi(e)),e.subscribe(t))},e}(pn),Ln=cn.defer=function(t){return new En(t)},xn=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.scheduler=e}function i(t,e){return e.onCompleted(),Te}return we(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this.scheduler);return e.run()},n.prototype.run=function(){var t=this.observer;return this.scheduler===ze?i(null,t):this.scheduler.schedule(t,i)},e}(pn),Dn=new xn(ze),Tn=cn.empty=function(t){return Ue(t)||(t=ze),t===ze?Dn:new xn(t)},Sn=function(t){function e(e,n,i){this._iterable=e,this._fn=n,this._scheduler=i,t.call(this)}function n(t,e,n){return function(i,o){var s=Lt(e.next).call(e);if(s===Et)return t.onError(s.e);if(s.done)return t.onCompleted();var r=s.value;return Ct(n)&&(r=Lt(n)(r,i),r===Et)?t.onError(r.e):(t.onNext(r),void o(i+1))}}return we(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),i=k(e);return this._scheduler.scheduleRecursive(0,n(t,i,this._fn))},e}(pn),Pn=Math.pow(2,53)-1;x.prototype[Rt]=function(){return new D(this._s)},D.prototype[Rt]=function(){return this},D.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:Bt},T.prototype[Rt]=function(){return new S(this._a)},S.prototype[Rt]=function(){return this},S.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:Bt};var kn=cn.from=function(t,e,n,i){if(null==t)throw new Error("iterable cannot be null.");if(e&&!Ct(e))throw new Error("mapFn when provided must be a function");if(e)var o=jt(e,n,2);return Ue(i)||(i=We),new Sn(t,o,i)},Mn=function(t){function e(e,n){this._args=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e.length;return function(i,o){i<n?(t.onNext(e[i]),o(i+1)):t.onCompleted()}}return we(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._args))},e}(pn),An=cn.fromArray=function(t,e){return Ue(e)||(e=We),new Mn(t,e)},In=function(t){function e(){t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return Te},e}(pn),On=new In,Nn=cn.never=function(){return On};cn.of=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Mn(e,We)},cn.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;i<e;i++)n[i-1]=arguments[i];return new Mn(n,t)};var Rn=function(t){function e(e,n){this._o=e,this._keys=Object.keys(e),this._scheduler=n,t.call(this)}function n(t,e,n){return function(i,o){if(i<n.length){var s=n[i];t.onNext([s,e[s]]),o(i+1)}else t.onCompleted()}}return we(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._o,this._keys))},e}(pn);cn.pairs=function(t,e){return e||(e=We),new Rn(t,e)};var Bn=function(t){function e(e,n,i){this.start=e,this.rangeCount=n,this.scheduler=i,t.call(this)}function n(t,e,n){return function(i,o){i<e?(n.onNext(t+i),o(i+1)):n.onCompleted()}}return we(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,n(this.start,this.rangeCount,t))},e}(pn);cn.range=function(t,e,n){return Ue(n)||(n=We),new Bn(t,e,n)};var Un=function(t){function e(e,n,i){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=i,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new O(t,this);return e.run()},e}(pn);O.prototype.run=function(){function t(t,i){return(t===-1||t>0)&&(e.onNext(n),t>0&&t--),0===t?e.onCompleted():void i(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},cn.repeat=function(t,e,n){return Ue(n)||(n=We),new Un(t,e,n)};var Fn=function(t){function e(e,n){this._value=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],i=e[1];return i.onNext(n),i.onCompleted(),Te}return we(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===ze?n(null,e):this._scheduler.schedule(e,n)},e}(pn),jn=(cn["return"]=cn.just=function(t,e){return Ue(e)||(e=ze),new Fn(t,e)},function(t){function e(e,n){this._error=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],i=e[1];return i.onError(n),Te}return we(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===ze?n(null,e):this._scheduler.schedule(e,n)},e}(pn)),Hn=cn["throw"]=function(t,e){return Ue(e)||(e=ze),new jn(t,e)},zn=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Me,n=new Ae;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new qn(t,n,this._fn))),n},e}(pn),qn=function(t){function e(e,n,i){this._o=e,this._s=n,this._fn=i,t.call(this)}return we(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=Lt(this._fn)(t);if(e===Et)return this._o.onError(e.e);wt(e)&&(e=Yi(e));var n=new Me;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},e}(un);Xe["catch"]=function(t){return Ct(t)?new zn(this,t):Wn([this,t])};var Wn=cn["catch"]=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}return wn(t).catchError()};Xe.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Gn.apply(this,e)};var Zn=function(t){function e(e,n){this._params=e,this._cb=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),i={hasValue:C(e,N),hasValueAll:!1,isDone:C(e,N),values:new Array(e)},o=0;o<e;o++){var s=this._params[o],r=new Me;n[o]=r,wt(s)&&(s=Yi(s)),r.setDisposable(s.subscribe(new Yn(t,o,this._cb,i)))}return new Oe(n)},e}(pn),Yn=function(t){function e(e,n,i,o){this._o=e,this._i=n,this._cb=i,this._state=o,t.call(this)}function n(t){return function(e,n){return n!==t}}return we(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(_t))){var e=Lt(this._cb).apply(null,this._state.values);if(e===Et)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(n(this._i)).every(_t)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(_t)&&this._o.onCompleted()},e}(un),Gn=cn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Ct(e[t-1])?e.pop():B;return Array.isArray(e[0])&&(e=e[0]),new Zn(e,i)};Xe.concat=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);return t.unshift(this),Kn.apply(null,t)};var Vn=function(t){function e(e,n){this._s=e,this._fn=n,t.call(this)}return we(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(un),$n=function(t){function e(e){this._sources=e,t.call(this)}function n(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];wt(n)&&(n=Yi(n));var i=new Me;t.subscription.setDisposable(i),i.setDisposable(n.subscribe(new Vn(t,e)))}}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Ae,i=De(mt),o={o:t,i:0,subscription:e,disposable:i,sources:this._sources},s=ze.scheduleRecursive(o,n);return new Oe([e,i,s])},e}(pn),Kn=cn.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;e<n;e++)t[e]=arguments[e]}return new $n(t)};Xe.concatAll=function(){return this.merge(1)};var Jn=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Ee;return e.add(this.source.subscribe(new Xn(t,this.maxConcurrent,e))),e},e}(pn),Xn=function(t){function e(e,n,i){this.o=e,this.max=n,this.g=i,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return we(e,t),e.prototype.handleSubscribe=function(t){var e=new Me;this.g.add(e),wt(t)&&(t=Yi(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},we(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(un);Xe.merge=function(t){return"number"!=typeof t?Qn(this,t):new Jn(this,t)};var Qn=cn.merge=function(){var t,e,n=[],i=arguments.length;if(arguments[0])if(Ue(arguments[0]))for(t=arguments[0],e=1;e<i;e++)n.push(arguments[e]);else for(t=ze,e=0;e<i;e++)n.push(arguments[e]);else for(t=ze,e=1;e<i;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),I(t,n).mergeAll()},ti=ft.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};ti.prototype=Object.create(Error.prototype),ti.prototype.name="CompositeError";var ei=function(t){function e(e){this.source=e,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Ee,n=new Me,i={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new ni(e,i))),e},e}(pn),ni=function(t){function e(e,n){this._group=e,this._state=n,t.call(this)}function n(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new ti(e))}function i(e,n,i){this._inner=e,this._group=n,this._state=i,t.call(this)}return we(e,t),e.prototype.next=function(t){var e=new Me;this._group.add(e),wt(t)&&(t=Yi(t)),e.setDisposable(t.subscribe(new i(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},we(i,t),i.prototype.next=function(t){this._state.o.onNext(t)},i.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},i.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},e}(un);cn.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;n<e;n++)t[n]=arguments[n]}var i=I(null,t);return new ei(i)};var ii=function(t){function e(e){this.source=e,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Ee,n=new Me;return e.add(n),n.setDisposable(this.source.subscribe(new oi(t,e))),e},e}(pn),oi=function(t){function e(e,n){this.o=e,this.g=n,this.done=!1,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return we(e,t),e.prototype.next=function(t){var e=new Me;this.g.add(e),wt(t)&&(t=Yi(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},we(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(un);Xe.mergeAll=function(){return new ii(this)};var si=function(t){function e(e,n){this._s=e,this._o=wt(n)?Yi(n):n,this._open=!1,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Me;e.setDisposable(this._s.subscribe(new ri(t,this))),wt(this._o)&&(this._o=Yi(this._o));var n=new Me;return n.setDisposable(this._o.subscribe(new ai(t,this,n))),new Ie(e,n)},e}(pn),ri=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return we(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(un),ai=function(t){function e(e,n,i){this._o=e,this._p=n,this._r=i,t.call(this)}return we(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(un);Xe.skipUntil=function(t){return new si(this,t)};var li=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,un.call(this)}function i(t,e){this.parent=t,this.id=e,un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Ae,i=this.source.subscribe(new n(t,e));return new Ie(i,e)},we(n,un),n.prototype.next=function(t){var e=new Me,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),wt(t)&&(t=Yi(t)),e.setDisposable(t.subscribe(new i(this,n)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},we(i,un),i.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},i.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},i.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(pn);Xe["switch"]=Xe.switchLatest=function(){return new li(this)};var ui=function(t){function e(e,n){this.source=e,this.other=wt(n)?Yi(n):n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return new Ie(this.source.subscribe(t),this.other.subscribe(new hi(t)))},e}(pn),hi=function(t){function e(e){this._o=e,t.call(this)}return we(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=mt,e}(un);Xe.takeUntil=function(t){return new ui(this,t)};var ci=function(t){function e(e,n,i){this._s=e,this._ss=n,this._cb=i,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:C(e,N),hasValueAll:!1,values:new Array(e)},i=this._ss.length,o=new Array(i+1),s=0;s<i;s++){var r=this._ss[s],a=new Me;wt(r)&&(r=Yi(r)),a.setDisposable(r.subscribe(new di(t,s,n))),o[s]=a}var l=new Me;return l.setDisposable(this._s.subscribe(new pi(t,this._cb,n))),o[i]=l,new Oe(o)},e}(pn),di=function(t){function e(e,n,i){this._o=e,this._i=n,this._state=i,t.call(this)}return we(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(_t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=mt,e}(un),pi=function(t){function e(e,n,i){this._o=e,this._cb=n,this._state=i,t.call(this)}return we(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=Lt(this._cb).apply(null,e);return n===Et?this._o.onError(n.e):void this._o.onNext(n)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(un);Xe.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Ct(e[t-1])?e.pop():B;return Array.isArray(e[0])&&(e=e[0]),new ci(this,e,i)};var fi=function(t){function e(e,n){this._s=e,this._cb=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),i=C(e,N),o=C(e,R),s=0;s<e;s++){var r=this._s[s],a=new Me;n[s]=a,wt(r)&&(r=Yi(r)),a.setDisposable(r.subscribe(new mi(t,s,this,o,i)))}return new Oe(n)},e}(pn),mi=function(t){function e(e,n,i,o,s){this._o=e,this._i=n,this._p=i,this._q=o,this._d=s,t.call(this)}function n(t){return t.length>0}function i(t){return t.shift()}function o(t){return function(e,n){return n!==t}}return we(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(n)){var e=this._q.map(i),s=Lt(this._p._cb).apply(null,e);if(s===Et)return this._o.onError(s.e);this._o.onNext(s)}else this._d.filter(o(this._i)).every(_t)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(_t)&&this._o.onCompleted()},e}(un);Xe.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Ct(e[t-1])?e.pop():B;Array.isArray(e[0])&&(e=e[0]);var o=this;return e.unshift(o),new fi(e,i)},cn.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=Ct(e[1])?e[0].concat(e[1]):e[0]);var i=e.shift();return i.zip.apply(i,e)};var _i=function(t){function e(e,n){this.sources=e,this._cb=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,n=e.length,i=new Array(n),o={q:C(n,R),done:C(n,N),cb:this._cb,o:t},s=0;s<n;s++)!function(t){var n=e[t],s=new Me;(Ft(n)||Ut(n))&&(n=kn(n)),i[t]=s,s.setDisposable(n.subscribe(new gi(o,t)))}(s);return new Oe(i)},e}(pn),gi=function(t){function e(e,n){this._s=e,this._i=n,t.call(this)}function n(t){return t.length>0}function i(t){return t.shift()}function o(t){return function(e,n){return n!==t}}return we(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(n)){var e=this._s.q.map(i),s=Lt(this._s.cb).apply(null,e);if(s===Et)return this._s.o.onError(s.e);this._s.o.onNext(s)}else this._s.done.filter(o(this._i)).every(_t)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(_t)&&this._s.o.onCompleted()},e}(un);Xe.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Ct(e[t-1])?e.pop():B,o=this;return e.unshift(o),new _i(e,i)},Xe.asObservable=function(){return new co(U(this),this)};var vi=function(t){function e(e){this.source=e,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new yi(t))},e}(pn),yi=function(t){function e(e){this._o=e,t.call(this)}return we(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(un);Xe.dematerialize=function(){return new vi(this)};var bi=function(t){function e(e,n,i){this.source=e,this.keyFn=n,this.comparer=i,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new wi(t,this.keyFn,this.comparer))},e}(pn),wi=function(t){function e(e,n,i){this.o=e,this.keyFn=n,this.comparer=i,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return we(e,t),e.prototype.next=function(t){var e,n=t;return Ct(this.keyFn)&&(n=Lt(this.keyFn)(t),n===Et)?this.o.onError(n.e):this.hasCurrentKey&&(e=Lt(this.comparer)(this.currentKey,n),e===Et)?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(un);Xe.distinctUntilChanged=function(t,e){return e||(e=vt),new bi(this,t,e)};var Ci=function(t){function e(e,n,i,o){this.source=e,this._oN=n,this._oE=i,this._oC=o,t.call(this)}function n(t,e){this.o=t,this.t=!e._oN||Ct(e._oN)?ln(e._oN||mt,e._oE||mt,e._oC||mt):e._oN,this.isStopped=!1,un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},we(n,un),n.prototype.next=function(t){var e=Lt(this.t.onNext).call(this.t,t);e===Et&&this.o.onError(e.e),this.o.onNext(t)},n.prototype.error=function(t){var e=Lt(this.t.onError).call(this.t,t);return e===Et?this.o.onError(e.e):void this.o.onError(t)},n.prototype.completed=function(){var t=Lt(this.t.onCompleted).call(this.t);return t===Et?this.o.onError(t.e):void this.o.onCompleted()},e}(pn);Xe["do"]=Xe.tap=Xe.doAction=function(t,e,n){return new Ci(this,t,e,n)},Xe.doOnNext=Xe.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(n){t.call(e,n)}:t)},Xe.doOnError=Xe.tapOnError=function(t,e){return this.tap(mt,"undefined"!=typeof e?function(n){t.call(e,n)}:t)},Xe.doOnCompleted=Xe.tapOnCompleted=function(t,e){return this.tap(mt,null,"undefined"!=typeof e?function(){t.call(e)}:t)};var Ei=function(t){function e(e,n,i){this.source=e,this._fn=jt(n,i,0),t.call(this)}function n(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return we(e,t),e.prototype.subscribeCore=function(t){var e=Lt(this.source.subscribe).call(this.source,t);return e===Et&&(this._fn(),r(e.e)),new n(e,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var t=Lt(this._s.dispose).call(this._s);this._fn(),t===Et&&r(t.e)}},e}(pn);Xe["finally"]=function(t,e){return new Ei(this,t,e)};var Li=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=mt,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(pn);Xe.ignoreElements=function(){return new Li(this)};var xi=function(t){function e(e,n){this.source=e,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Di(t))},e}(pn),Di=function(t){function e(e){this._o=e,t.call(this)}return we(e,t),e.prototype.next=function(t){this._o.onNext(on(t))},e.prototype.error=function(t){this._o.onNext(sn(t)),this._o.onCompleted()},e.prototype.completed=function(){this._o.onNext(rn()),this._o.onCompleted()},e}(un);Xe.materialize=function(){return new xi(this)},Xe.repeat=function(t){return yn(this,t).concat()},Xe.retry=function(t){return yn(this,t).catchError()};var Ti=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return we(n,t),n.prototype.subscribeCore=function(t){var n,i=new mo,o=new mo,s=this._notifier(i),r=s.subscribe(o),a=this.source["@@iterator"](),l={isDisposed:!1},u=new Ae,h=We.scheduleRecursive(null,function(e,s){if(!l.isDisposed){var r=a.next();if(r.done)return void(n?t.onError(n):t.onCompleted());var h=r.value;wt(h)&&(h=Yi(h));var c=new Me,d=new Me;u.setDisposable(new Ie(d,c)),c.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){d.setDisposable(o.subscribe(s,function(e){t.onError(e)},function(){t.onCompleted()})),i.onNext(e),c.dispose()},function(){t.onCompleted()}))}});return new Oe([r,u,h,e(l)])},n}(pn);Xe.retryWhen=function(t){return new Ti(F(this),t)};var Si=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return we(n,t),n.prototype.subscribeCore=function(t){var n,i=new mo,o=new mo,s=this._notifier(i),r=s.subscribe(o),a=this.source["@@iterator"](),l={isDisposed:!1},u=new Ae,h=We.scheduleRecursive(null,function(e,s){if(!l.isDisposed){var r=a.next();if(r.done)return void(n?t.onError(n):t.onCompleted());var h=r.value;wt(h)&&(h=Yi(h));var c=new Me,d=new Me;u.setDisposable(new Ie(d,c)),c.setDisposable(h.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){d.setDisposable(o.subscribe(s,function(e){t.onError(e)},function(){t.onCompleted()})),i.onNext(null),c.dispose()}))}});return new Oe([r,u,h,e(l)])},n}(pn);Xe.repeatWhen=function(t){return new Si(F(this),t)};var Pi=function(t){function e(e,n,i,o){this.source=e,this.accumulator=n,this.hasSeed=i,this.seed=o,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ki(t,this))},e}(pn),ki=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return we(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=Lt(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?Lt(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===Et?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(un);Xe.scan=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Pi(this,n,e,t)};var Mi=function(t){function e(e,n){this.source=e,this._c=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ai(t,this._c))},e}(pn),Ai=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return we(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(un);Xe.skipLast=function(t){if(t<0)throw new At;return new Mi(this,t)},Xe.startWith=function(){var t,e=0;arguments.length&&Ue(arguments[0])?(t=arguments[0],e=1):t=ze;for(var n=[],i=e,o=arguments.length;i<o;i++)n.push(arguments[i]);return wn([An(n,t),this]).concat()};var Ii=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return we(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(un);Xe.takeLast=function(t){if(t<0)throw new At;
var e=this;return new co(function(n){return e.subscribe(new Ii(n,t))},e)},Xe.flatMapConcat=Xe.concatMap=function(t,e,n){return new fn(this,t,e,n).merge(1)};var Oi=function(t){function e(e,n,i){this.source=e,this.selector=jt(n,i,3),t.call(this)}function n(t,e){return function(n,i,o){return t.call(this,e.selector(n,i,o),i,o)}}function i(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,un.call(this)}return we(e,t),e.prototype.internalMap=function(t,i){return new e(this.source,n(t,this),i)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new i(t,this.selector,this))},we(i,un),i.prototype.next=function(t){var e=Lt(this.selector)(t,this.i++,this.source);return e===Et?this.o.onError(e.e):void this.o.onNext(e)},i.prototype.error=function(t){this.o.onError(t)},i.prototype.completed=function(){this.o.onCompleted()},e}(pn);Xe.map=Xe.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof Oi?this.internalMap(n,e):new Oi(this,n,e)},Xe.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var n=0;n<t;n++)e[n]=arguments[n];return this.map(j(e,t))},Xe.flatMap=Xe.selectMany=function(t,e,n){return new fn(this,t,e,n).mergeAll()},ft.Observable.prototype.flatMapLatest=function(t,e,n){return new fn(this,t,e,n).switchLatest()};var Ni=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._r=e,un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},we(n,un),n.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(pn);Xe.skip=function(t){if(t<0)throw new At;return new Ni(this,t)};var Ri=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Bi(t,this))},e}(pn),Bi=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!1,t.call(this)}return we(e,t),e.prototype.next=function(t){if(!this._r){var e=Lt(this._p._fn)(t,this._i++,this._p);if(e===Et)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(un);Xe.skipWhile=function(t,e){var n=jt(t,e,3);return new Ri(this,n)};var Ui=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._c=e,this._r=e,un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},we(n,un),n.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(pn);Xe.take=function(t,e){if(t<0)throw new At;return 0===t?Tn(e):new Ui(this,t)};var Fi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ji(t,this))},e}(pn),ji=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!0,t.call(this)}return we(e,t),e.prototype.next=function(t){return this._r&&(this._r=Lt(this._p._fn)(t,this._i++,this._p),this._r===Et)?this._o.onError(this._r.e):void(this._r?this._o.onNext(t):this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(un);Xe.takeWhile=function(t,e){var n=jt(t,e,3);return new Fi(this,n)};var Hi=function(t){function e(e,n,i){this.source=e,this.predicate=jt(n,i,3),t.call(this)}function n(t,e){return function(n,i,o){return e.predicate(n,i,o)&&t.call(this,n,i,o)}}function i(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,un.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new i(t,this.predicate,this))},e.prototype.internalFilter=function(t,i){return new e(this.source,n(t,this),i)},we(i,un),i.prototype.next=function(t){var e=Lt(this.predicate)(t,this.i++,this.source);return e===Et?this.o.onError(e.e):void(e&&this.o.onNext(t))},i.prototype.error=function(t){this.o.onError(t)},i.prototype.completed=function(){this.o.onCompleted()},e}(pn);Xe.filter=Xe.where=function(t,e){return this instanceof Hi?this.internalFilter(t,e):new Hi(this,t,e)},cn.fromCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return H(t,e,n,o)}},cn.fromNodeCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return q(t,e,n,o)}},Y.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},ft.config.useNativeEvents=!1;var zi=function(t){function e(e,n,i){this._el=e,this._n=n,this._fn=i,t.call(this)}function n(t,e){return function(){var n=arguments[0];return Ct(e)&&(n=Lt(e).apply(null,arguments),n===Et)?t.onError(n.e):void t.onNext(n)}}return we(e,t),e.prototype.subscribeCore=function(t){return G(this._el,this._n,n(t,this._fn))},e}(pn);cn.fromEvent=function(t,e,n){return t.addListener?Wi(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):ft.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new zi(t,e,n).publish().refCount():Wi(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var qi=function(t){function e(e,n,i){this._add=e,this._del=n,this._fn=i,t.call(this)}function n(t,e){return function(){var n=arguments[0];return Ct(e)&&(n=Lt(e).apply(null,arguments),n===Et)?t.onError(n.e):void t.onNext(n)}}function i(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}return we(e,t),e.prototype.subscribeCore=function(t){var e=n(t,this._fn),o=this._add(e);return new i(this._del,e,o)},i.prototype.dispose=function(){this.isDisposed||(Ct(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(pn),Wi=cn.fromEventPattern=function(t,e,n){return new qi(t,e,n).publish().refCount()},Zi=function(t){function e(e,n){this._p=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],i=e[1];n.onNext(i),n.onCompleted()}function i(t,e){var n=e[0],i=e[1];n.onError(i)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Me,o=this;return this._p.then(function(i){e.setDisposable(o._s.schedule([t,i],n))},function(n){e.setDisposable(o._s.schedule([t,n],i))}),e},e}(pn),Yi=cn.fromPromise=function(t,e){return e||(e=$e),new Zi(t,e)};Xe.toPromise=function(t){if(t||(t=ft.config.Promise),!t)throw new It("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var i;e.subscribe(function(t){i=t},n,function(){t(i)})})},cn.startAsync=function(t){var e=Lt(t)();return e===Et?Hn(e.e):Yi(e)};var Gi=function(t){function e(e,n,i){this.source=e,this._fn1=n,this._fn2=i,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new Ie(this._fn2(e).subscribe(t),e.connect())},e}(pn);Xe.multicast=function(t,e){return Ct(t)?new Gi(this,t,e):new $i(this,t)},Xe.publish=function(t){return t&&Ct(t)?this.multicast(function(){return new mo},t):this.multicast(new mo)},Xe.share=function(){return this.publish().refCount()},Xe.publishLast=function(t){return t&&Ct(t)?this.multicast(function(){return new _o},t):this.multicast(new _o)},Xe.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new vo(e)},t):this.multicast(new vo(t))},Xe.shareValue=function(t){return this.publishValue(t).refCount()},Xe.replay=function(t,e,n,i){return t&&Ct(t)?this.multicast(function(){return new yo(e,n,i)},t):this.multicast(new yo(e,n,i))},Xe.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var Vi=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function n(t,e){this._p=t,this._s=e,this.isDisposed=!1}return we(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,e)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},e}(pn),$i=ft.ConnectableObservable=function(t){function e(e,n){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=n,t.call(this)}function n(t,e){this._p=t,this._s=e}return we(e,t),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){var t=this._source.subscribe(this._subject);this._connection=new n(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new Vi(this)},e}(cn),Ki=function(t){function e(e,n){this._dt=e,this._s=n,t.call(this)}function n(t,e){e.onNext(0),e.onCompleted()}return we(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,n)},e}(pn),Ji=cn.interval=function(t,e){return K(t,t,Ue(e)?e:$e)};cn.timer=function(t,e,i){var o;return Ue(i)||(i=$e),null!=e&&"number"==typeof e?o=e:Ue(e)&&(i=e),(t instanceof Date||"number"==typeof t)&&o===n?V(t,i):t instanceof Date&&o!==n?$(t,e,i):K(t,o,i)};Xe.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,n=arguments[1];return Ue(n)||(n=$e),e instanceof Date?X(this,e,n):J(this,e,n)}if(cn.isObservable(t)||Ct(t))return Q(this,t,arguments[1]);throw new Error("Invalid arguments")};var Xi=function(t){function e(e,n,i){Ue(i)||(i=$e),this.source=e,this._dt=n,this._s=i,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e=new Ae;return new Ie(this.source.subscribe(new Qi(t,this._dt,this._s,e)),e)},e}(pn),Qi=function(t){function e(e,n,i,o){this._o=e,this._d=n,this._scheduler=i,this._c=o,this._v=null,this._hv=!1,this._id=0,t.call(this)}return we(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,n=new Me;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(n,i){i._hv&&i._id===e&&i._o.onNext(t),i._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(un);Xe.debounce=function(){if(Ct(arguments[0]))return tt(this,arguments[0]);if("number"==typeof arguments[0])return new Xi(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")};var to=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new eo(t,this._s))},e}(pn),eo=function(t){function e(e,n){this._o=e,this._s=n,t.call(this)}return we(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(un);Xe.timestamp=function(t){return Ue(t)||(t=$e),new to(this,t)};var no=function(t){function e(e,n){this.source=e,this._sampler=n,t.call(this)}return we(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new Me};return e.sourceSubscription.setDisposable(this.source.subscribe(new oo(e))),new Ie(e.sourceSubscription,this._sampler.subscribe(new io(e)))},e}(pn),io=function(t){function e(e){this._s=e,t.call(this)}return we(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(un),oo=function(t){function e(e){this._s=e,t.call(this)}return we(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(un);Xe.sample=function(t,e){return Ue(e)||(e=$e),"number"==typeof t?new no(this,Ji(t,e)):new no(this,t)};var so=ft.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};so.prototype=Object.create(Error.prototype),Xe.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return nt(this,t,arguments[1],arguments[2]);if(cn.isObservable(t)||Ct(t))return et(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")},Xe.throttle=function(t,e){Ue(e)||(e=$e);var n=+t||0;if(n<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var i=this;return new co(function(t){var o=0;return i.subscribe(function(i){var s=e.now();(0===o||s-o>=n)&&(o=s,t.onNext(i))},function(e){t.onError(e)},function(){t.onCompleted()})},i)};var ro=function(t){function e(e,n){this.source=e,this.controller=new mo,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return we(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),i=Te,o=this.pauser.distinctUntilChanged().subscribe(function(t){t?i=e.connect():(i.dispose(),i=Te)});return new Oe([n,i,o])},e.prototype.pause=function(){this.controller.onNext(!1)},e.prototype.resume=function(){this.controller.onNext(!0)},e}(cn);Xe.pausable=function(t){return new ro(this,t)};var ao=function(t){function e(e,n){this.source=e,this.controller=new mo,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return we(e,t),e.prototype._subscribe=function(t){function e(){for(;o.length>0;)t.onNext(o.shift())}var i,o=[],s=it(this.source,this.pauser.startWith(!1).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(s){i!==n&&s.shouldFire!==i?(i=s.shouldFire,s.shouldFire&&e()):(i=s.shouldFire,s.shouldFire?t.onNext(s.data):o.push(s.data))},function(n){e(),t.onError(n)},function(){e(),t.onCompleted()});return s},e.prototype.pause=function(){this.controller.onNext(!1)},e.prototype.resume=function(){this.controller.onNext(!0)},e}(cn);Xe.pausableBuffered=function(t){return new ao(this,t)};var lo=function(t){function e(e,n,i){t.call(this),this.subject=new uo(n,i),this.source=e.multicast(this.subject).refCount()}return we(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(cn),uo=function(t){function e(e,n){null==e&&(e=!0),t.call(this),this.subject=new mo,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||We}return we(e,t),Ce(e.prototype,an,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Qe.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(Qe.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(Qe.createOnNext(t)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,n){var i=e._processRequest(n),o=e.hasCompleted||e.hasFailed;if(!o&&i>0)return e.requestedCount=i,De(function(){e.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(cn);Xe.controlled=function(t,e){return t&&Ue(t)&&(e=t,t=!0),null==t&&(t=!0),new lo(this,t,e)},Xe.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(String(e))&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t};var ho=function(t){function e(e,n){this._o=e,this._xform=n,t.call(this)}return we(e,t),e.prototype.next=function(t){var e=Lt(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===Et&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(un);Xe.transduce=function(t){var e=this;return new co(function(n){var i=t(ot(n));return e.subscribe(new ho(n,i))},e)};var co=ft.AnonymousObservable=function(t){function e(t){return t&&Ct(t.dispose)?t:Ct(t)?De(t):Te}function n(t,n){var i=n[0],o=n[1],s=Lt(o.__subscribe).call(o,i);s!==Et||i.fail(Et.e)||r(Et.e),i.setDisposable(e(s))}function i(e,n){this.source=n,this.__subscribe=e,t.call(this)}return we(i,t),i.prototype._subscribe=function(t){var e=new po(t),i=[e,this];return We.scheduleRequired()?We.schedule(i,n):n(null,i),e},i}(cn),po=function(t){function e(e){t.call(this),this.observer=e,this.m=new Me}we(e,t);var n=e.prototype;return n.next=function(t){var e=Lt(this.observer.onNext).call(this.observer,t);e===Et&&(this.dispose(),r(e.e))},n.error=function(t){var e=Lt(this.observer.onError).call(this.observer,t);this.dispose(),e===Et&&r(e.e)},n.completed=function(){var t=Lt(this.observer.onCompleted).call(this.observer);this.dispose(),t===Et&&r(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(un),fo=function(t,e){this._s=t,this._o=e};fo.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var mo=ft.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return we(e,t),Ce(e.prototype,an.prototype,{_subscribe:function(t){return Pe(this),this.isStopped?this.hasError?(t.onError(this.error),Te):(t.onCompleted(),Te):(this.observers.push(t),new fo(this,t))},hasObservers:function(){return Pe(this),this.observers.length>0},onCompleted:function(){if(Pe(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=o(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Pe(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=o(this.observers),i=n.length;e<i;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Pe(this),!this.isStopped)for(var e=0,n=o(this.observers),i=n.length;e<i;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new go(t,e)},e}(cn),_o=ft.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return we(e,t),Ce(e.prototype,an.prototype,{_subscribe:function(t){return Pe(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),Te):(this.observers.push(t),new fo(this,t))},hasObservers:function(){return Pe(this),this.observers.length>0},onCompleted:function(){var t,e;if(Pe(this),!this.isStopped){this.isStopped=!0;var n=o(this.observers),e=n.length;if(this.hasValue)for(t=0;t<e;t++){var i=n[t];i.onNext(this.value),i.onCompleted()}else for(t=0;t<e;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(Pe(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=o(this.observers),i=n.length;e<i;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){Pe(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(cn),go=ft.AnonymousSubject=function(t){function e(e,n){this.observer=e,this.observable=n,t.call(this)}return we(e,t),Ce(e.prototype,an.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(cn),vo=ft.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return we(e,t),Ce(e.prototype,an.prototype,{_subscribe:function(t){return Pe(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),Te):(this.observers.push(t),t.onNext(this.value),new fo(this,t))},getValue:function(){return Pe(this),this.hasError&&r(this.error),this.value},hasObservers:function(){return Pe(this),this.observers.length>0},onCompleted:function(){if(Pe(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=o(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Pe(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=o(this.observers),i=n.length;e<i;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Pe(this),!this.isStopped){this.value=t;for(var e=0,n=o(this.observers),i=n.length;e<i;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(cn),yo=ft.ReplaySubject=function(t){function e(t,e){return De(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function n(e,n,o){this.bufferSize=null==e?i:e,this.windowSize=null==n?i:n,this.scheduler=o||We,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var i=Math.pow(2,53)-1;return we(n,t),Ce(n.prototype,an.prototype,{_subscribe:function(t){Pe(this);var n=new dn(this.scheduler,t),i=e(this,n);this._trim(this.scheduler.now()),this.observers.push(n);for(var o=0,s=this.q.length;o<s;o++)n.onNext(this.q[o].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),i},hasObservers:function(){return Pe(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(Pe(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,i=o(this.observers),s=i.length;n<s;n++){var r=i[n];r.onNext(t),r.ensureActive()}}},onError:function(t){if(Pe(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,i=o(this.observers),s=i.length;n<s;n++){var r=i[n];r.onError(t),r.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Pe(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=o(this.observers),i=n.length;e<i;e++){var s=n[e];s.onCompleted(),s.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(cn);ft.Pauser=function(t){function e(){t.call(this)}return we(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}(mo),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(pt.Rx=ft,define(function(){return ft})):rt&&at?ct?(at.exports=ft).Rx=ft:rt.Rx=ft:pt.Rx=ft;var bo=c()}).call(Mo)});ko=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var No=ko,Ro=e.momentProperties=[],Bo=!1,Uo={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Fo;Fo=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)h(t,e)&&n.push(e);return n};var jo,Ho=Fo,zo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},qo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Wo="Invalid date",Zo="%d",Yo=/\d{1,2}/,Go={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vo={},$o={},Ko=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Jo=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xo={},Qo={},ts=/\d/,es=/\d\d/,ns=/\d{3}/,is=/\d{4}/,os=/[+-]?\d{6}/,ss=/\d\d?/,rs=/\d\d\d\d?/,as=/\d\d\d\d\d\d?/,ls=/\d{1,3}/,us=/\d{1,4}/,hs=/[+-]?\d{1,6}/,cs=/\d+/,ds=/[+-]?\d+/,ps=/Z|[+-]\d\d:?\d\d/gi,fs=/Z|[+-]\d\d(?::?\d\d)?/gi,ms=/[+-]?\d+(\.\d{1,3})?/,_s=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,gs={},vs={},ys=0,bs=1,ws=2,Cs=3,Es=4,Ls=5,xs=6,Ds=7,Ts=8;jo=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var Ss=jo;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),G("MMMM",0,0,function(t){return this.localeData().months(this,t)}),R("month","M"),F("month",8),X("M",ss),X("MM",ss,es),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),nt(["M","MM"],function(t,e){e[bs]=w(t)-1}),nt(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[bs]=o:f(n).invalidMonth=t});var Ps=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ks="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ms="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),As=_s,Is=_s;G("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),R("year","y"),F("year",1),X("Y",ds),X("YY",ss,es),X("YYYY",us,is),X("YYYYY",hs,os),X("YYYYYY",hs,os),nt(["YYYYY","YYYYYY"],ys),nt("YYYY",function(t,n){n[ys]=2===t.length?e.parseTwoDigitYear(t):w(t)}),nt("YY",function(t,n){n[ys]=e.parseTwoDigitYear(t)}),nt("Y",function(t,e){e[ys]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var Os=H("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),F("week",5),F("isoWeek",5),X("w",ss),X("ww",ss,es),X("W",ss),X("WW",ss,es),it(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});var Ns={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),X("d",ss),X("e",ss),X("E",ss),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),it(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:f(n).invalidWeekday=t}),it(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var Rs="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Us="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Fs=_s,js=_s,Hs=_s;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Wt),G("k",["kk",2],0,Zt),G("hmm",0,0,function(){return""+Wt.apply(this)+Y(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Wt.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)}),Yt("a",!0),Yt("A",!1),R("hour","h"),F("hour",13),X("a",Gt),X("A",Gt),X("H",ss),X("h",ss),X("k",ss),X("HH",ss,es),X("hh",ss,es),X("kk",ss,es),X("hmm",rs),X("hmmss",as),X("Hmm",rs),X("Hmmss",as),nt(["H","HH"],Cs),nt(["k","kk"],function(t,e,n){var i=w(t);e[Cs]=24===i?0:i}),nt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),nt(["h","hh"],function(t,e,n){e[Cs]=w(t),f(n).bigHour=!0}),nt("hmm",function(t,e,n){var i=t.length-2;e[Cs]=w(t.substr(0,i)),e[Es]=w(t.substr(i)),f(n).bigHour=!0}),nt("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Cs]=w(t.substr(0,i)),e[Es]=w(t.substr(i,2)),e[Ls]=w(t.substr(o)),f(n).bigHour=!0}),nt("Hmm",function(t,e,n){var i=t.length-2;e[Cs]=w(t.substr(0,i)),e[Es]=w(t.substr(i))}),nt("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Cs]=w(t.substr(0,i)),e[Es]=w(t.substr(i,2)),e[Ls]=w(t.substr(o))});var zs,qs=/[ap]\.?m?\.?/i,Ws=H("Hours",!0),Zs={calendar:zo,longDateFormat:qo,invalidDate:Wo,ordinal:Zo,dayOfMonthOrdinalParse:Yo,relativeTime:Go,months:ks,monthsShort:Ms,week:Ns,weekdays:Rs,weekdaysMin:Us,weekdaysShort:Bs,meridiemParse:qs},Ys={},Gs={},Vs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ks=/Z|[+-]\d\d(?::?\d\d)?/,Js=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Xs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Qs=/^\/?Date\((\-?\d+)/i,tr=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var er=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=be.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),nr=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=be.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()}),ir=function(){return Date.now?Date.now():+new Date},or=["year","quarter","month","week","day","hour","minute","second","millisecond"];ke("Z",":"),ke("ZZ",""),X("Z",fs),X("ZZ",fs),nt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Me(fs,t)});var sr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var rr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ar=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
Ze.fn=Te.prototype,Ze.invalid=De;var lr=$e(1,"add"),ur=$e(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var hr=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mn("gggg","weekYear"),Mn("ggggg","weekYear"),Mn("GGGG","isoWeekYear"),Mn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),X("G",ds),X("g",ds),X("GG",ss,es),X("gg",ss,es),X("GGGG",us,is),X("gggg",us,is),X("GGGGG",hs,os),X("ggggg",hs,os),it(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),it(["gg","GG"],function(t,n,i,o){n[o]=e.parseTwoDigitYear(t)}),G("Q",0,"Qo","quarter"),R("quarter","Q"),F("quarter",7),X("Q",ts),nt("Q",function(t,e){e[bs]=3*(w(t)-1)}),G("D",["DD",2],"Do","date"),R("date","D"),F("date",9),X("D",ss),X("DD",ss,es),X("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),nt(["D","DD"],ws),nt("Do",function(t,e){e[ws]=w(t.match(ss)[0],10)});var cr=H("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),F("dayOfYear",4),X("DDD",ls),X("DDDD",ns),nt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),G("m",["mm",2],0,"minute"),R("minute","m"),F("minute",14),X("m",ss),X("mm",ss,es),nt(["m","mm"],Es);var dr=H("Minutes",!1);G("s",["ss",2],0,"second"),R("second","s"),F("second",15),X("s",ss),X("ss",ss,es),nt(["s","ss"],Ls);var pr=H("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),F("millisecond",16),X("S",ls,ts),X("SS",ls,es),X("SSS",ls,ns);var fr;for(fr="SSSS";fr.length<=9;fr+="S")X(fr,cs);for(fr="S";fr.length<=9;fr+="S")nt(fr,jn);var mr=H("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var _r=v.prototype;_r.add=lr,_r.calendar=Xe,_r.clone=Qe,_r.diff=an,_r.endOf=bn,_r.format=dn,_r.from=pn,_r.fromNow=fn,_r.to=mn,_r.toNow=_n,_r.get=W,_r.invalidAt=Pn,_r.isAfter=tn,_r.isBefore=en,_r.isBetween=nn,_r.isSame=on,_r.isSameOrAfter=sn,_r.isSameOrBefore=rn,_r.isValid=Tn,_r.lang=hr,_r.locale=gn,_r.localeData=vn,_r.max=nr,_r.min=er,_r.parsingFlags=Sn,_r.set=Z,_r.startOf=yn,_r.subtract=ur,_r.toArray=Ln,_r.toObject=xn,_r.toDate=En,_r.toISOString=hn,_r.inspect=cn,_r.toJSON=Dn,_r.toString=un,_r.unix=Cn,_r.valueOf=wn,_r.creationData=kn,_r.year=Os,_r.isLeapYear=vt,_r.weekYear=An,_r.isoWeekYear=In,_r.quarter=_r.quarters=Un,_r.month=ct,_r.daysInMonth=dt,_r.week=_r.weeks=St,_r.isoWeek=_r.isoWeeks=Pt,_r.weeksInYear=Nn,_r.isoWeeksInYear=On,_r.date=cr,_r.day=_r.days=Bt,_r.weekday=Ut,_r.isoWeekday=Ft,_r.dayOfYear=Fn,_r.hour=_r.hours=Ws,_r.minute=_r.minutes=dr,_r.second=_r.seconds=pr,_r.millisecond=_r.milliseconds=mr,_r.utcOffset=Oe,_r.utc=Re,_r.local=Be,_r.parseZone=Ue,_r.hasAlignedHourOffset=Fe,_r.isDST=je,_r.isLocal=ze,_r.isUtcOffset=qe,_r.isUtc=We,_r.isUTC=We,_r.zoneAbbr=Hn,_r.zoneName=zn,_r.dates=L("dates accessor is deprecated. Use date instead.",cr),_r.months=L("months accessor is deprecated. Use month instead",ct),_r.years=L("years accessor is deprecated. Use year instead",Os),_r.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ne),_r.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",He);var gr=P.prototype;gr.calendar=k,gr.longDateFormat=M,gr.invalidDate=A,gr.ordinal=I,gr.preparse=Zn,gr.postformat=Zn,gr.relativeTime=O,gr.pastFuture=N,gr.set=T,gr.months=rt,gr.monthsShort=at,gr.monthsParse=ut,gr.monthsRegex=ft,gr.monthsShortRegex=pt,gr.week=xt,gr.firstDayOfYear=Tt,gr.firstDayOfWeek=Dt,gr.weekdays=At,gr.weekdaysMin=Ot,gr.weekdaysShort=It,gr.weekdaysParse=Rt,gr.weekdaysRegex=jt,gr.weekdaysShortRegex=Ht,gr.weekdaysMinRegex=zt,gr.isPM=Vt,gr.meridiem=$t,Qt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),e.lang=L("moment.lang is deprecated. Use moment.locale instead.",Qt),e.langData=L("moment.langData is deprecated. Use moment.localeData instead.",ne);var vr=Math.abs,yr=hi("ms"),br=hi("s"),wr=hi("m"),Cr=hi("h"),Er=hi("d"),Lr=hi("w"),xr=hi("M"),Dr=hi("y"),Tr=di("milliseconds"),Sr=di("seconds"),Pr=di("minutes"),kr=di("hours"),Mr=di("days"),Ar=di("months"),Ir=di("years"),Or=Math.round,Nr={ss:44,s:45,m:45,h:22,d:26,M:11},Rr=Math.abs,Br=Te.prototype;Br.isValid=xe,Br.abs=ti,Br.add=ni,Br.subtract=ii,Br.as=li,Br.asMilliseconds=yr,Br.asSeconds=br,Br.asMinutes=wr,Br.asHours=Cr,Br.asDays=Er,Br.asWeeks=Lr,Br.asMonths=xr,Br.asYears=Dr,Br.valueOf=ui,Br._bubble=si,Br.get=ci,Br.milliseconds=Tr,Br.seconds=Sr,Br.minutes=Pr,Br.hours=kr,Br.days=Mr,Br.weeks=pi,Br.months=Ar,Br.years=Ir,Br.humanize=vi,Br.toISOString=yi,Br.toString=yi,Br.toJSON=yi,Br.locale=gn,Br.localeData=vn,Br.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",yi),Br.lang=hr,G("X",0,0,"unix"),G("x",0,0,"valueOf"),X("x",ds),X("X",ms),nt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),nt("x",function(t,e,n){n._d=new Date(w(t))}),e.version="2.18.1",n(be),e.fn=_r,e.min=Ce,e.max=Ee,e.now=ir,e.utc=d,e.unix=qn,e.months=$n,e.isDate=l,e.locale=Qt,e.invalid=_,e.duration=Ze,e.isMoment=y,e.weekdays=Jn,e.parseZone=Wn,e.localeData=ne,e.isDuration=Se,e.monthsShort=Kn,e.weekdaysMin=Qn,e.defineLocale=te,e.updateLocale=ee,e.locales=ie,e.weekdaysShort=Xn,e.normalizeUnits=B,e.relativeTimeRounding=_i,e.relativeTimeThreshold=gi,e.calendarFormat=Je,e.prototype=_r;var Ur=Ei,Fr=xi,jr=Li,Hr=bi,zr=wi,qr={geojsonType:Ur,collectionOf:Fr,featureOf:jr,getCoord:Hr,getCoords:zr},Wr=Di,Zr=function(t,e){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof t[0]||"number"!=typeof t[1])throw new Error("Coordinates must numbers");return Di({type:"Point",coordinates:t},e)},Yr=function(t,e){if(!t)throw new Error("No coordinates passed");for(var n=0;n<t.length;n++){var i=t[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return Di({type:"Polygon",coordinates:t},e)},Gr=function(t,e){if(!t)throw new Error("No coordinates passed");return Di({type:"LineString",coordinates:t},e)},Vr=function(t){if(!t)throw new Error("No features passed");return{type:"FeatureCollection",features:t}},$r=function(t,e){if(!t)throw new Error("No coordinates passed");return Di({type:"MultiLineString",coordinates:t},e)},Kr=function(t,e){if(!t)throw new Error("No coordinates passed");return Di({type:"MultiPoint",coordinates:t},e)},Jr=function(t,e){if(!t)throw new Error("No coordinates passed");return Di({type:"MultiPolygon",coordinates:t},e)},Xr=function(t,e){if(!t)throw new Error("No geometries passed");return Di({type:"GeometryCollection",geometries:t},e)},Qr={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65},ta=function(t,e){var n=Qr[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t*n},ea=function(t,e){var n=Qr[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n},na=function(t,e){var n=Qr[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n*57.2958},ia={feature:Wr,point:Zr,polygon:Yr,lineString:Gr,featureCollection:Vr,multiLineString:$r,multiPoint:Kr,multiPolygon:Jr,geometryCollection:Xr,radiansToDistance:ta,distanceToRadians:ea,distanceToDegrees:na},oa=qr.getCoord,sa=ia.radiansToDistance,ra=function(t,e,n){var i=Math.PI/180,o=oa(t),s=oa(e),r=i*(s[1]-o[1]),a=i*(s[0]-o[0]),l=i*o[1],u=i*s[1],h=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(u);return sa(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),n)},aa=Ti,la=Si,ua=Pi,ha=ki,ca=Mi,da=Ai,pa=Ii,fa=Oi,ma=Ni,_a={coordEach:aa,coordReduce:la,propEach:ua,propReduce:ha,featureEach:ca,featureReduce:da,coordAll:pa,geomEach:fa,geomReduce:ma},ga=_a.featureEach,va=_a.geomEach,ya=qr.getCoords,ba=ia,wa=ba.point,Ca=ba.lineString,Ea=ba.polygon,La=ba.featureCollection,xa=Ri,Da=ra,Ta=_a.featureEach,Sa=_a.coordReduce,Pa=_a.geomEach,ka=xa,Ma=ia.lineString,Aa=ia.point,Ia=function(t,e){if(!t)throw new Error("geojson is required");return Pa(t,function(t){if("Point"===t.type)throw new Error("geojson cannot be a Point");if("MultiPoint"===t.type)throw new Error("geojson cannot be a MultiPoint")}),qi(t,function(t,n){var i=n.geometry.coordinates,o=Aa(i[0]),s=Aa(i[1]);return t+Da(o,s,e)},0)},Oa=6378137,Na=1/298.257223563,Ra=6356752.3142,Ba={RADIUS:Oa,FLATTENING:Na,POLAR_RADIUS:Ra},Ua=Ba,Fa=Wi,ja=Yi,Ha={geometry:Fa,ring:ja},za=Ha.geometry,qa=_a.geomReduce,Wa=function(t){return qa(t,function(t,e){return t+za(e)},0)},Za=qr.getCoord,Ya=ia,Ga=Ya.point,Va=Ya.distanceToRadians,$a=function(t,e,n,i){var o=Math.PI/180,s=180/Math.PI,r=Za(t),a=o*r[0],l=o*r[1],u=o*n,h=Va(e,i),c=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(u)),d=a+Math.atan2(Math.sin(u)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(c));return Ga([s*d,s*c])},Ka=t(function(t,e){(function(){function n(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e){for(var n=-1,i=t?t.length:0;++n<i&&e(t[n],n,t)!==!1;);return t}function r(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}function a(t,e,n,i){var o=-1,s=t?t.length:0;for(i&&s&&(n=t[++o]);++o<s;)n=e(n,t[o],o,t);return n}function l(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function u(t){return function(e){return null==e?Se:e[t]}}function h(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function c(t){return function(e){return t(e)}}function d(t,e){return null==t?Se:t[e]}function p(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function f(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function m(t,e){return function(n){return t(e(n))}}function _(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function g(){}function v(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function y(){this.__data__=ii?ii(null):{}}function b(t){return this.has(t)&&delete this.__data__[t]}function w(t){var e=this.__data__;if(ii){var n=e[t];return n===Ae?Se:n}return Bn.call(e,t)?e[t]:Se}function C(t){var e=this.__data__;return ii?e[t]!==Se:Bn.call(e,t)}function E(t,e){var n=this.__data__;return n[t]=ii&&e===Se?Ae:e,this}function L(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function x(){this.__data__=[]}function D(t){var e=this.__data__,n=V(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Gn.call(e,n,1),!0}function T(t){var e=this.__data__,n=V(e,t);return n<0?Se:e[n][1]}function S(t){return V(this.__data__,t)>-1}function P(t,e){var n=this.__data__,i=V(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function k(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function M(){this.__data__={hash:new v,map:new(Qn||L),string:new v}}function A(t){return Ut(this,t)["delete"](t)}function I(t){return Ut(this,t).get(t)}function O(t){return Ut(this,t).has(t)}function N(t,e){return Ut(this,t).set(t,e),this}function R(t){var e=-1,n=t?t.length:0;for(this.__data__=new k;++e<n;)this.add(t[e])}function B(t){return this.__data__.set(t,Ae),this}function U(t){return this.__data__.has(t)}function F(t){this.__data__=new L(t)}function j(){this.__data__=new L}function H(t){return this.__data__["delete"](t)}function z(t){return this.__data__.get(t)}function q(t){return this.__data__.has(t)}function W(t,e){var n=this.__data__;if(n instanceof L){var i=n.__data__;if(!Qn||i.length<ke-1)return i.push([t,e]),this;n=this.__data__=new k(i)}return n.set(t,e),this}function Z(t,e){var n=vi(t)||ae(t)?h(t.length,String):[],i=n.length,o=!!i;for(var s in t)!e&&!Bn.call(t,s)||o&&("length"==s||Zt(s,i))||n.push(s);return n}function Y(t,e,n){(n===Se||re(t[e],n))&&("number"!=typeof e||n!==Se||e in t)||(t[e]=n)}function G(t,e,n){var i=t[e];Bn.call(t,e)&&re(i,n)&&(n!==Se||e in t)||(t[e]=n)}function V(t,e){for(var n=t.length;n--;)if(re(t[n][0],e))return n;return-1}function $(t,e){return t&&St(e,we(e),t)}function K(t,e,n,i,o,r,a){var l;if(i&&(l=r?i(t,o,r,a):i(t)),l!==Se)return l;if(!pe(t))return t;var u=vi(t);if(u){if(l=zt(t),!e)return Tt(t,l)}else{var h=_i(t),c=h==ze||h==qe;if(yi(t))return yt(t,e);if(h==Ye||h==Be||c&&!r){if(p(t))return r?t:{};if(l=qt(c?{}:t),!e)return Pt(t,$(l,t))}else{if(!wn[h])return r?t:{};l=Wt(t,h,K,e)}}a||(a=new F);var d=a.get(t);if(d)return d;if(a.set(t,l),!u)var f=n?Rt(t):we(t);return s(f||t,function(o,s){f&&(s=o,o=t[s]),G(l,s,K(o,e,n,i,s,t,a))}),l}function J(t){return pe(t)?Zn(t):{}}function X(t,e){return t&&fi(t,e,we)}function Q(t,e){e=Gt(e,t)?[e]:vt(e);for(var n=0,i=e.length;null!=t&&n<i;)t=t[te(e[n++])];return n&&n==i?t:Se}function tt(t,e,n){var i=e(t);return vi(t)?i:r(i,n(t))}function et(t){return Fn.call(t)}function nt(t,e){return null!=t&&e in Object(t)}function it(t,e,n,i,o){return t===e||(null==t||null==e||!pe(t)&&!fe(e)?t!==t&&e!==e:ot(t,e,it,n,i,o))}function ot(t,e,n,i,o,s){var r=vi(t),a=vi(e),l=Ue,u=Ue;r||(l=_i(t),l=l==Be?Ye:l),a||(u=_i(e),u=u==Be?Ye:u);var h=l==Ye&&!p(t),c=u==Ye&&!p(e),d=l==u;if(d&&!h)return s||(s=new F),r||bi(t)?It(t,e,n,i,o,s):Ot(t,e,l,n,i,o,s);if(!(o&Oe)){var f=h&&Bn.call(t,"__wrapped__"),m=c&&Bn.call(e,"__wrapped__");if(f||m){var _=f?t.value():t,g=m?e.value():e;return s||(s=new F),n(_,g,i,o,s)}}return!!d&&(s||(s=new F),Nt(t,e,n,i,o,s))}function st(t,e,n,i){var o=n.length,s=o,r=!i;if(null==t)return!s;for(t=Object(t);o--;){var a=n[o];if(r&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<s;){a=n[o];var l=a[0],u=t[l],h=a[1];if(r&&a[2]){if(u===Se&&!(l in t))return!1}else{var c=new F;if(i)var d=i(u,h,l,t,e,c);if(!(d===Se?it(h,u,i,Ie|Oe,c):d))return!1}}return!0}function rt(t){if(!pe(t)||$t(t))return!1;var e=ce(t)||p(t)?jn:vn;return e.test(ee(t))}function at(t){return fe(t)&&de(t.length)&&!!bn[Fn.call(t)]}function lt(t){return"function"==typeof t?t:null==t?Ee:"object"==typeof t?vi(t)?dt(t[0],t[1]):ct(t):xe(t)}function ut(t){if(!Kt(t))return Kn(t);var e=[];for(var n in Object(t))Bn.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ht(t){if(!pe(t))return Qt(t);var e=Kt(t),n=[];for(var i in t)("constructor"!=i||!e&&Bn.call(t,i))&&n.push(i);return n}function ct(t){var e=Ft(t);return 1==e.length&&e[0][2]?Xt(e[0][0],e[0][1]):function(n){return n===t||st(n,t,e)}}function dt(t,e){return Gt(t)&&Jt(e)?Xt(te(t),e):function(n){var i=ye(n,t);return i===Se&&i===e?be(n,t):it(e,i,Se,Ie|Oe)}}function pt(t,e,n,i,o){if(t!==e){if(!vi(e)&&!bi(e))var r=ht(e);s(r||e,function(s,a){if(r&&(a=s,s=e[a]),pe(s))o||(o=new F),ft(t,e,a,n,pt,i,o);else{var l=i?i(t[a],s,a+"",t,e,o):Se;l===Se&&(l=s),Y(t,a,l)}})}}function ft(t,e,n,i,o,s,r){var a=t[n],l=e[n],u=r.get(l);if(u)return void Y(t,n,u);var h=s?s(a,l,n+"",t,e,r):Se,c=h===Se;c&&(h=l,vi(l)||bi(l)?vi(a)?h=a:ue(a)?h=Tt(a):(c=!1,h=K(l,!0)):me(l)||ae(l)?ae(a)?h=ge(a):!pe(a)||i&&ce(a)?(c=!1,h=K(l,!0)):h=a:c=!1),c&&(r.set(l,h),o(h,l,i,s,r),r["delete"](l)),Y(t,n,h)}function mt(t){return function(e){return Q(e,t)}}function _t(t,e){return e=Jn(e===Se?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=Jn(n.length-e,0),r=Array(s);++i<s;)r[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r,o(t,this,a)}}function gt(t){if("string"==typeof t)return t;if(_e(t))return di?di.call(t):"";var e=t+"";return"0"==e&&1/t==-Ne?"-0":e}function vt(t){return vi(t)?t:gi(t)}function yt(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function bt(t){var e=new t.constructor(t.byteLength);return new qn(e).set(new qn(t)),e}function wt(t,e){var n=e?bt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ct(t,e,i){var o=e?i(f(t),!0):f(t);return a(o,n,new t.constructor)}function Et(t){var e=new t.constructor(t.source,gn.exec(t));return e.lastIndex=t.lastIndex,e}function Lt(t,e,n){var o=e?n(_(t),!0):_(t);return a(o,i,new t.constructor)}function xt(t){return ci?Object(ci.call(t)):{}}function Dt(t,e){var n=e?bt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Tt(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function St(t,e,n,i){n||(n={});for(var o=-1,s=e.length;++o<s;){var r=e[o],a=i?i(n[r],t[r],r,n,t):Se;G(n,r,a===Se?t[r]:a)}return n}function Pt(t,e){return St(t,mi(t),e)}function kt(t){return _t(function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:Se,r=o>2?n[2]:Se;for(s=t.length>3&&"function"==typeof s?(o--,s):Se,r&&Yt(n[0],n[1],r)&&(s=o<3?Se:s,o=1),e=Object(e);++i<o;){var a=n[i];a&&t(e,a,i,s)}return e})}function Mt(t,e){return function(n,i){if(null==n)return n;if(!le(n))return t(n,i);for(var o=n.length,s=e?o:-1,r=Object(n);(e?s--:++s<o)&&i(r[s],s,r)!==!1;);return n}}function At(t){return function(e,n,i){for(var o=-1,s=Object(e),r=i(e),a=r.length;a--;){var l=r[t?a:++o];if(n(s[l],l,s)===!1)break}return e}}function It(t,e,n,i,o,s){var r=o&Oe,a=t.length,u=e.length;if(a!=u&&!(r&&u>a))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var c=-1,d=!0,p=o&Ie?new R:Se;for(s.set(t,e),s.set(e,t);++c<a;){var f=t[c],m=e[c];if(i)var _=r?i(m,f,c,e,t,s):i(f,m,c,t,e,s);if(_!==Se){if(_)continue;d=!1;break}if(p){if(!l(e,function(t,e){if(!p.has(e)&&(f===t||n(f,t,i,o,s)))return p.add(e)})){d=!1;break}}else if(f!==m&&!n(f,m,i,o,s)){d=!1;break}}return s["delete"](t),s["delete"](e),d}function Ot(t,e,n,i,o,s,r){switch(n){case tn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Qe:return!(t.byteLength!=e.byteLength||!i(new qn(t),new qn(e)));case Fe:case je:case Ze:return re(+t,+e);case He:return t.name==e.name&&t.message==e.message;case Ve:case Ke:return t==e+"";case We:var a=f;case $e:var l=s&Oe;if(a||(a=_),t.size!=e.size&&!l)return!1;var u=r.get(t);if(u)return u==e;s|=Ie,r.set(t,e);var h=It(a(t),a(e),i,o,s,r);return r["delete"](t),h;case Je:if(ci)return ci.call(t)==ci.call(e)}return!1}function Nt(t,e,n,i,o,s){var r=o&Oe,a=we(t),l=a.length,u=we(e),h=u.length;if(l!=h&&!r)return!1;for(var c=l;c--;){var d=a[c];if(!(r?d in e:Bn.call(e,d)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var f=!0;s.set(t,e),s.set(e,t);for(var m=r;++c<l;){d=a[c];var _=t[d],g=e[d];if(i)var v=r?i(g,_,d,e,t,s):i(_,g,d,t,e,s);if(!(v===Se?_===g||n(_,g,i,o,s):v)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(f=!1)}return s["delete"](t),s["delete"](e),f}function Rt(t){return tt(t,we,mi)}function Bt(){var t=g.iteratee||Le;return t=t===Le?lt:t,arguments.length?t(arguments[0],arguments[1]):t}function Ut(t,e){var n=t.__data__;return Vt(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ft(t){for(var e=we(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,Jt(o)]}return e}function jt(t,e){var n=d(t,e);return rt(n)?n:Se}function Ht(t,e,n){e=Gt(e,t)?[e]:vt(e);for(var i,o=-1,s=e.length;++o<s;){var r=te(e[o]);if(!(i=null!=t&&n(t,r)))break;t=t[r]}if(i)return i;var s=t?t.length:0;return!!s&&de(s)&&Zt(r,s)&&(vi(t)||ae(t))}function zt(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Bn.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function qt(t){return"function"!=typeof t.constructor||Kt(t)?{}:J(Wn(t))}function Wt(t,e,n,i){var o=t.constructor;switch(e){case Qe:return bt(t);case Fe:case je:return new o((+t));case tn:return wt(t,i);case en:case nn:case on:case sn:case rn:case an:case ln:case un:case hn:return Dt(t,i);case We:return Ct(t,i,n);case Ze:case Ke:return new o(t);case Ve:return Et(t);case $e:return Lt(t,i,n);case Je:return xt(t)}}function Zt(t,e){return e=null==e?Re:e,!!e&&("number"==typeof t||yn.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e,n){if(!pe(n))return!1;var i=typeof e;return!!("number"==i?le(n)&&Zt(e,n.length):"string"==i&&e in n)&&re(n[e],t)}function Gt(t,e){if(vi(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_e(t))||(dn.test(t)||!cn.test(t)||null!=e&&t in Object(e))}function Vt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function $t(t){return!!Nn&&Nn in t}function Kt(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||In;return t===n}function Jt(t){return t===t&&!pe(t)}function Xt(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==Se||t in Object(n)))}}function Qt(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function te(t){if("string"==typeof t||_e(t))return t;var e=t+"";return"0"==e&&1/t==-Ne?"-0":e}function ee(t){if(null!=t){try{return Rn.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ne(t){for(var e=-1,n=t?t.length:0,i=0,o=[];++e<n;){var s=t[e];s&&(o[i++]=s)}return o}function ie(t,e){var n=vi(t)?s:pi;return n(t,Bt(e,3))}function oe(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Me);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],s=n.cache;if(s.has(o))return s.get(o);var r=t.apply(this,i);return n.cache=s.set(o,r),r};return n.cache=new(oe.Cache||k),n}function se(t){return K(t,!1,!0)}function re(t,e){return t===e||t!==t&&e!==e}function ae(t){return ue(t)&&Bn.call(t,"callee")&&(!Yn.call(t,"callee")||Fn.call(t)==Be)}function le(t){return null!=t&&de(t.length)&&!ce(t)}function ue(t){return fe(t)&&le(t)}function he(t){if(le(t)&&(vi(t)||"string"==typeof t||"function"==typeof t.splice||yi(t)||ae(t)))return!t.length;var e=_i(t);if(e==We||e==$e)return!t.size;if(oi||Kt(t))return!Kn(t).length;for(var n in t)if(Bn.call(t,n))return!1;return!0}function ce(t){var e=pe(t)?Fn.call(t):"";return e==ze||e==qe}function de(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Re}function pe(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function fe(t){return!!t&&"object"==typeof t}function me(t){if(!fe(t)||Fn.call(t)!=Ye||p(t))return!1;var e=Wn(t);if(null===e)return!0;var n=Bn.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rn.call(n)==Un}function _e(t){return"symbol"==typeof t||fe(t)&&Fn.call(t)==Je}function ge(t){return St(t,Ce(t))}function ve(t){return null==t?"":gt(t)}function ye(t,e,n){var i=null==t?Se:Q(t,e);return i===Se?n:i}function be(t,e){return null!=t&&Ht(t,e,nt)}function we(t){return le(t)?Z(t):ut(t)}function Ce(t){return le(t)?Z(t,!0):ht(t)}function Ee(t){return t}function Le(t){return lt("function"==typeof t?t:K(t,!0))}function xe(t){return Gt(t)?u(te(t)):mt(t)}function De(){return[]}function Te(){return!1}var Se,Pe="4.15.0",ke=200,Me="Expected a function",Ae="__lodash_hash_undefined__",Ie=1,Oe=2,Ne=1/0,Re=9007199254740991,Be="[object Arguments]",Ue="[object Array]",Fe="[object Boolean]",je="[object Date]",He="[object Error]",ze="[object Function]",qe="[object GeneratorFunction]",We="[object Map]",Ze="[object Number]",Ye="[object Object]",Ge="[object Promise]",Ve="[object RegExp]",$e="[object Set]",Ke="[object String]",Je="[object Symbol]",Xe="[object WeakMap]",Qe="[object ArrayBuffer]",tn="[object DataView]",en="[object Float32Array]",nn="[object Float64Array]",on="[object Int8Array]",sn="[object Int16Array]",rn="[object Int32Array]",an="[object Uint8Array]",ln="[object Uint8ClampedArray]",un="[object Uint16Array]",hn="[object Uint32Array]",cn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dn=/^\w*$/,pn=/^\./,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mn=/[\\^$.*+?()[\]{}|]/g,_n=/\\(\\)?/g,gn=/\w*$/,vn=/^\[object .+?Constructor\]$/,yn=/^(?:0|[1-9]\d*)$/,bn={};bn[en]=bn[nn]=bn[on]=bn[sn]=bn[rn]=bn[an]=bn[ln]=bn[un]=bn[hn]=!0,bn[Be]=bn[Ue]=bn[Qe]=bn[Fe]=bn[tn]=bn[je]=bn[He]=bn[ze]=bn[We]=bn[Ze]=bn[Ye]=bn[Ve]=bn[$e]=bn[Ke]=bn[Xe]=!1;var wn={};wn[Be]=wn[Ue]=wn[Qe]=wn[tn]=wn[Fe]=wn[je]=wn[en]=wn[nn]=wn[on]=wn[sn]=wn[rn]=wn[We]=wn[Ze]=wn[Ye]=wn[Ve]=wn[$e]=wn[Ke]=wn[Je]=wn[an]=wn[ln]=wn[un]=wn[hn]=!0,wn[He]=wn[ze]=wn[Xe]=!1;var Cn="object"==typeof Mo&&Mo&&Mo.Object===Object&&Mo,En="object"==typeof self&&self&&self.Object===Object&&self,Ln=Cn||En||Function("return this")(),xn="object"==typeof e&&e&&!e.nodeType&&e,Dn=xn&&"object"==typeof t&&t&&!t.nodeType&&t,Tn=Dn&&Dn.exports===xn,Sn=Tn&&Cn.process,Pn=function(){try{return Sn&&Sn.binding("util")}catch(t){}}(),kn=Pn&&Pn.isTypedArray,Mn=Array.prototype,An=Function.prototype,In=Object.prototype,On=Ln["__core-js_shared__"],Nn=function(){var t=/[^.]+$/.exec(On&&On.keys&&On.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Rn=An.toString,Bn=In.hasOwnProperty,Un=Rn.call(Object),Fn=In.toString,jn=RegExp("^"+Rn.call(Bn).replace(mn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hn=Tn?Ln.Buffer:Se,zn=Ln.Symbol,qn=Ln.Uint8Array,Wn=m(Object.getPrototypeOf,Object),Zn=Object.create,Yn=In.propertyIsEnumerable,Gn=Mn.splice,Vn=Object.getOwnPropertySymbols,$n=Hn?Hn.isBuffer:Se,Kn=m(Object.keys,Object),Jn=Math.max,Xn=jt(Ln,"DataView"),Qn=jt(Ln,"Map"),ti=jt(Ln,"Promise"),ei=jt(Ln,"Set"),ni=jt(Ln,"WeakMap"),ii=jt(Object,"create"),oi=!Yn.call({valueOf:1},"valueOf"),si=ee(Xn),ri=ee(Qn),ai=ee(ti),li=ee(ei),ui=ee(ni),hi=zn?zn.prototype:Se,ci=hi?hi.valueOf:Se,di=hi?hi.toString:Se;v.prototype.clear=y,v.prototype["delete"]=b,v.prototype.get=w,v.prototype.has=C,v.prototype.set=E,L.prototype.clear=x,L.prototype["delete"]=D,L.prototype.get=T,L.prototype.has=S,L.prototype.set=P,k.prototype.clear=M,k.prototype["delete"]=A,k.prototype.get=I,k.prototype.has=O,k.prototype.set=N,R.prototype.add=R.prototype.push=B,R.prototype.has=U,F.prototype.clear=j,F.prototype["delete"]=H,F.prototype.get=z,F.prototype.has=q,F.prototype.set=W;var pi=Mt(X),fi=At(),mi=Vn?m(Vn,Object):De,_i=et;(Xn&&_i(new Xn(new ArrayBuffer(1)))!=tn||Qn&&_i(new Qn)!=We||ti&&_i(ti.resolve())!=Ge||ei&&_i(new ei)!=$e||ni&&_i(new ni)!=Xe)&&(_i=function(t){var e=Fn.call(t),n=e==Ye?t.constructor:Se,i=n?ee(n):Se;if(i)switch(i){case si:return tn;case ri:return We;case ai:return Ge;case li:return $e;case ui:return Xe}return e});var gi=oe(function(t){t=ve(t);var e=[];return pn.test(t)&&e.push(""),t.replace(fn,function(t,n,i,o){e.push(i?o.replace(_n,"$1"):n||t)}),e});oe.Cache=k;var vi=Array.isArray,yi=$n||Te,bi=kn?c(kn):at,wi=kt(function(t,e,n){pt(t,e,n)});g.compact=ne,g.iteratee=Le,g.keys=we,g.keysIn=Ce,g.memoize=oe,g.merge=wi,g.property=xe,g.toPlainObject=ge,g.clone=se,g.eq=re,g.forEach=ie,g.get=ye,g.hasIn=be,g.identity=Ee,g.isArguments=ae,g.isArray=vi,g.isArrayLike=le,g.isArrayLikeObject=ue,g.isBuffer=yi,g.isEmpty=he,g.isFunction=ce,g.isLength=de,g.isObject=pe,g.isObjectLike=fe,g.isPlainObject=me,g.isSymbol=_e,g.isTypedArray=bi,g.stubArray=De,g.stubFalse=Te,g.toString=ve,g.each=ie,g.VERSION=Pe,Dn&&((Dn.exports=g)._=g,xn._=g)}).call(Mo)}),Ja=Ba,Xa=Vi,Qa=Ki,tl={geometry:Xa,ring:Qa},el=tl,nl=Xi,il=[{key:"building",polygon:"all"},{key:"highway",polygon:"whitelist",values:["services","rest_area","escape","elevator"]},{key:"natural",polygon:"blacklist",values:["coastline","cliff","ridge","arete","tree_row"]},{key:"landuse",polygon:"all"},{key:"waterway",polygon:"whitelist",values:["riverbank","dock","boatyard","dam"]},{key:"amenity",polygon:"all"},{key:"leisure",polygon:"all"},{key:"barrier",polygon:"whitelist",values:["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},{key:"railway",polygon:"whitelist",values:["station","turntable","roundhouse","platform"]},{key:"area",polygon:"all"},{key:"boundary",polygon:"all"},{key:"man_made",polygon:"blacklist",values:["cutline","embankment","pipeline"]},{key:"power",polygon:"whitelist",values:["plant","substation","generator","transformer"]},{key:"place",polygon:"all"},{key:"shop",polygon:"all"},{key:"aeroway",polygon:"blacklist",values:["taxiway"]},{key:"tourism",polygon:"all"},{key:"historic",polygon:"all"},{key:"public_transport",polygon:"all"},{key:"office",polygon:"all"},{key:"building:part",polygon:"all"},{key:"military",polygon:"all"},{key:"ruins",polygon:"all"},{key:"area:highway",polygon:"all"},{key:"craft",polygon:"all"},{key:"golf",polygon:"all"},{key:"indoor",polygon:"all"}],ol=Object.freeze({"default":il}),sl=ol&&ol["default"]||ol,rl=sl,al=Ka,ll=nl,ul={};rl.forEach(function(t){if("all"===t.polygon)ul[t.key]=!0;else{var e="whitelist"===t.polygon?"included_values":"excluded_values",n={};t.values.forEach(function(t){n[t]=!0}),ul[t.key]={},ul[t.key][e]=n}});var hl={};hl=function(t,e,n){function i(t){function e(t){var e=al.clone(t);e.lat=t.center.lat,e.lon=t.center.lon,e.__is_center_placeholder=!0,r.push(e)}function n(t){function e(t,e,i){var o={type:"node",id:"_"+n.type+"/"+n.id+"bounds"+i,lat:t,lon:e};n.nodes.push(o.id),r.push(o)}var n=al.clone(t);n.nodes=[],e(n.bounds.minlat,n.bounds.minlon,1),e(n.bounds.maxlat,n.bounds.minlon,2),e(n.bounds.maxlat,n.bounds.maxlon,3),e(n.bounds.minlat,n.bounds.maxlon,4),n.nodes.push(n.nodes[0]),n.__is_bounds_placeholder=!0,a.push(n)}function i(t){function e(t,e,n){var i={type:"node",id:n,lat:t,lon:e};r.push(i)}al.isArray(t.nodes)||(t.nodes=t.geometry.map(function(t){return null!==t?"_anonymous@"+t.lat+"/"+t.lon:"_anonymous@unknown_location"})),t.geometry.forEach(function(n,i){n&&e(n.lat,n.lon,t.nodes[i])})}function o(t){function e(t,e,n){var i={type:"node",id:n,lat:t,lon:e};r.push(i)}function n(t,e){function n(t,e){var n={type:"node",id:"_anonymous@"+t+"/"+e,lat:t,lon:e};i.nodes.push(n.id),r.push(n)}if(!a.some(function(t){return"way"==t.type&&t.id==e})){var i={type:"way",id:e,nodes:[]};t.forEach(function(t){t?n(t.lat,t.lon):i.nodes.push(void 0)}),a.push(i)}}t.members.forEach(function(t,i){"node"==t.type?t.lat&&e(t.lat,t.lon,t.ref):"way"==t.type&&t.geometry&&(t.ref="_fullGeom"+t.ref,n(t.geometry,t.ref))})}for(var r=new Array,a=new Array,l=new Array,u=0;u<t.elements.length;u++)switch(t.elements[u].type){case"node":var h=t.elements[u];r.push(h);break;case"way":var c=al.clone(t.elements[u]);c.nodes=al.clone(c.nodes),a.push(c),c.center&&e(c),c.geometry?i(c):c.bounds&&n(c);break;case"relation":var d=al.clone(t.elements[u]);d.members=al.clone(d.members),l.push(d);var p=d.members&&d.members.some(function(t){return"node"==t.type&&t.lat||"way"==t.type&&t.geometry&&t.geometry.length>0});d.center&&e(d),p?o(d):d.bounds&&n(d)}return s(r,a,l)}function o(t){function e(t,e,n){t.hasAttribute(n)&&(e[n]=t.getAttribute(n))}function n(t,n){var i=al.clone(t);e(n,i,"lat"),e(n,i,"lon"),i.__is_center_placeholder=!0,a.push(i)}function i(t,e){function n(t,e,n){var o={type:"node",id:"_"+i.type+"/"+i.id+"bounds"+n,lat:t,lon:e};i.nodes.push(o.id),a.push(o)}var i=al.clone(t);i.nodes=[],n(e.getAttribute("minlat"),e.getAttribute("minlon"),1),n(e.getAttribute("maxlat"),e.getAttribute("minlon"),2),n(e.getAttribute("maxlat"),e.getAttribute("maxlon"),3),n(e.getAttribute("minlat"),e.getAttribute("maxlon"),4),i.nodes.push(i.nodes[0]),i.__is_bounds_placeholder=!0,l.push(i)}function o(t,e){function n(t,e,n){var i={type:"node",id:n,lat:t,lon:e};return a.push(i),
i.id}al.isArray(t.nodes)||(t.nodes=[],al.each(e,function(e,n){t.nodes.push("_anonymous@"+e.getAttribute("lat")+"/"+e.getAttribute("lon"))})),al.each(e,function(e,i){e.getAttribute("lat")&&n(e.getAttribute("lat"),e.getAttribute("lon"),t.nodes[i])})}function r(t,e){function n(t,e,n){var i={type:"node",id:n,lat:t,lon:e};a.push(i)}function i(t,e){function n(t,e){var n={type:"node",id:"_anonymous@"+t+"/"+e,lat:t,lon:e};i.nodes.push(n.id),a.push(n)}if(!l.some(function(t){return"way"==t.type&&t.id==e})){var i={type:"way",id:e,nodes:[]};al.each(t,function(t){t.getAttribute("lat")?n(t.getAttribute("lat"),t.getAttribute("lon")):i.nodes.push(void 0)}),l.push(i)}}al.each(e,function(e,o){"node"==t.members[o].type?e.getAttribute("lat")&&n(e.getAttribute("lat"),e.getAttribute("lon"),t.members[o].ref):"way"==t.members[o].type&&e.getElementsByTagName("nd").length>0&&(t.members[o].ref="_fullGeom"+t.members[o].ref,i(e.getElementsByTagName("nd"),t.members[o].ref))})}var a=new Array,l=new Array,u=new Array;al.each(t.getElementsByTagName("node"),function(t,n){var i={};al.each(t.getElementsByTagName("tag"),function(t){i[t.getAttribute("k")]=t.getAttribute("v")});var o={type:"node"};e(t,o,"id"),e(t,o,"lat"),e(t,o,"lon"),e(t,o,"version"),e(t,o,"timestamp"),e(t,o,"changeset"),e(t,o,"uid"),e(t,o,"user"),al.isEmpty(i)||(o.tags=i),a.push(o)});var h,c;return al.each(t.getElementsByTagName("way"),function(t,s){var r={},a=[];al.each(t.getElementsByTagName("tag"),function(t){r[t.getAttribute("k")]=t.getAttribute("v")});var u=!1;al.each(t.getElementsByTagName("nd"),function(t,e){var n;(n=t.getAttribute("ref"))&&(a[e]=n),!u&&t.getAttribute("lat")&&(u=!0)});var d={type:"way"};e(t,d,"id"),e(t,d,"version"),e(t,d,"timestamp"),e(t,d,"changeset"),e(t,d,"uid"),e(t,d,"user"),a.length>0&&(d.nodes=a),al.isEmpty(r)||(d.tags=r),(h=t.getElementsByTagName("center")[0])&&n(d,h),u?o(d,t.getElementsByTagName("nd")):(c=t.getElementsByTagName("bounds")[0])&&i(d,c),l.push(d)}),al.each(t.getElementsByTagName("relation"),function(t,o){var s={},a=[];al.each(t.getElementsByTagName("tag"),function(t){s[t.getAttribute("k")]=t.getAttribute("v")});var l=!1;al.each(t.getElementsByTagName("member"),function(t,n){a[n]={},e(t,a[n],"ref"),e(t,a[n],"role"),e(t,a[n],"type"),(!l&&"node"==a[n].type&&t.getAttribute("lat")||"way"==a[n].type&&t.getElementsByTagName("nd").length>0)&&(l=!0)});var d={type:"relation"};e(t,d,"id"),e(t,d,"version"),e(t,d,"timestamp"),e(t,d,"changeset"),e(t,d,"uid"),e(t,d,"user"),a.length>0&&(d.members=a),al.isEmpty(s)||(d.tags=s),(h=t.getElementsByTagName("center")[0])&&n(d,h),l?r(d,t.getElementsByTagName("member")):(c=t.getElementsByTagName("bounds")[0])&&i(d,c),u.push(d)}),s(a,l,u)}function s(t,i,o){function s(t,n){if("object"!=typeof n&&(n={}),"function"==typeof e.uninterestingTags)return!e.uninterestingTags(t,n);for(var i in t)if(e.uninterestingTags[i]!==!0&&n[i]!==!0&&n[i]!==t[i])return!0;return!1}function a(t){var e={timestamp:t.timestamp,version:t.version,changeset:t.changeset,user:t.user,uid:t.uid};for(var n in e)void 0===e[n]&&delete e[n];return e}function l(t){var n,i=!1;n=t.members.filter(function(t){return"way"===t.type}),n=n.map(function(n){var o=m[n.ref];return void 0===o||void 0===o.nodes?(e.verbose&&console.warn("Route "+t.type+"/"+t.id,"tainted by a missing or incomplete  way",n.type+"/"+n.ref),void(i=!0)):{id:n.ref,role:n.role,way:o,nodes:o.nodes.filter(function(o){return void 0!==o||(i=!0,e.verbose&&console.warn("Route",t.type+"/"+t.id,"tainted by a way",n.type+"/"+n.ref,"with a missing node"),!1)})}}),n=al.compact(n);var o;o=so(n);var s=[];if(s=al.compact(o.map(function(t){return al.compact(t.map(function(t){return[+t.lon,+t.lat]}))})),0==s.length)return e.verbose&&console.warn("Route",t.type+"/"+t.id,"contains no coordinates"),!1;var r={type:"Feature",id:t.type+"/"+t.id,properties:{type:t.type,id:t.id,tags:t.tags||{},relations:C[t.type][t.id]||[],meta:a(t)},geometry:{type:1===s.length?"LineString":"MultiLineString",coordinates:1===s.length?s[0]:s}};return i&&(e.verbose&&console.warn("Route",t.type+"/"+t.id,"is tainted"),r.properties.tainted=!0),r}function u(t,n){function i(t){var e,n,i=function(t,e){for(var n=0;n<e.length;n++)if(s(e[n],t))return!0;return!1},o=function(t){return t.map(function(t){return[+t.lat,+t.lon]})},s=function(t,e){for(var n=t[0],i=t[1],o=!1,s=0,r=e.length-1;s<e.length;r=s++){var a=e[s][0],l=e[s][1],u=e[r][0],h=e[r][1],c=l>i!=h>i&&n<(u-a)*(i-l)/(h-l)+a;c&&(o=!o)}return o};for(t=o(t),e=0;e<u.length;e++)if(n=o(u[e]),i(n,t))return e}var o,s=!1,r=M?"way":"relation",l="number"==typeof t.id?t.id:+t.id.replace("_fullGeom","");o=n.members.filter(function(t){return"way"===t.type}),o=o.map(function(t){var n=m[t.ref];return void 0===n||void 0===n.nodes?(e.verbose&&console.warn("Multipolygon",r+"/"+l,"tainted by a missing or incomplete way",t.type+"/"+t.ref),void(s=!0)):{id:t.ref,role:t.role||"outer",way:n,nodes:n.nodes.filter(function(n){return void 0!==n||(s=!0,e.verbose&&console.warn("Multipolygon",r+"/"+l,"tainted by a way",t.type+"/"+t.ref,"with a missing node"),!1)})}}),o=al.compact(o);var u,h;u=so(o.filter(function(t){return"outer"===t.role})),h=so(o.filter(function(t){return"inner"===t.role}));var c;c=u.map(function(t){return[t]});for(var d=0;d<h.length;d++){var p=i(h[d]);void 0!==p?c[p].push(h[d]):e.verbose&&console.warn("Multipolygon",r+"/"+l,"contains an inner ring with no containing outer")}var f=[];if(f=al.compact(c.map(function(t){var n=al.compact(t.map(function(t){return t.length<4?void(e.verbose&&console.warn("Multipolygon",r+"/"+l,"contains a ring with less than four nodes")):al.compact(t.map(function(t){return[+t.lon,+t.lat]}))}));return 0==n.length?void(e.verbose&&console.warn("Multipolygon",r+"/"+l,"contains an empty ring cluster")):n})),0==f.length)return e.verbose&&console.warn("Multipolygon",r+"/"+l,"contains no coordinates"),!1;var _="MultiPolygon";1===f.length&&(_="Polygon",f=f[0]);var g={type:"Feature",id:t.type+"/"+l,properties:{type:t.type,id:l,tags:t.tags||{},relations:C[t.type][t.id]||[],meta:a(t)},geometry:{type:_,coordinates:f}};return s&&(e.verbose&&console.warn("Multipolygon",r+"/"+l,"is tainted"),g.properties.tainted=!0),g}for(var h=new Object,c=new Object,d=0;d<t.length;d++){var p=t[d];void 0!==h[p.id]&&(p=e.deduplicator(p,h[p.id])),h[p.id]=p,"undefined"!=typeof p.tags&&s(p.tags)&&(c[p.id]=!0)}for(var d=0;d<o.length;d++)if(al.isArray(o[d].members))for(var f=0;f<o[d].members.length;f++)"node"==o[d].members[f].type&&(c[o[d].members[f].ref]=!0);for(var m=new Object,_=new Object,d=0;d<i.length;d++){var g=i[d];if(m[g.id]&&(g=e.deduplicator(g,m[g.id])),m[g.id]=g,al.isArray(g.nodes))for(var f=0;f<g.nodes.length;f++)"object"!=typeof g.nodes[f]&&(_[g.nodes[f]]=!0,g.nodes[f]=h[g.nodes[f]])}var v=new Array;for(var y in h){var p=h[y];_[y]&&!c[y]||v.push(p)}for(var b=new Array,d=0;d<o.length;d++){var w=o[d];b[w.id]&&(w=e.deduplicator(w,b[w.id])),b[w.id]=w}var C={node:{},way:{},relation:{}};for(var y in b){var w=b[y];if(al.isArray(w.members))for(var f=0;f<w.members.length;f++){var E=w.members[f].type,L=w.members[f].ref;"number"!=typeof L&&(L=L.replace("_fullGeom","")),C[E]?("undefined"==typeof C[E][L]&&(C[E][L]=[]),C[E][L].push({role:w.members[f].role,rel:w.id,reltags:w.tags})):e.verbose&&console.warn("Relation",w.type+"/"+w.id,"member",E+"/"+L,"ignored because it has an invalid type")}else e.verbose&&console.warn("Relation",w.type+"/"+w.id,"ignored because it has no members")}var x,D=[];for(d=0;d<v.length;d++)if("undefined"!=typeof v[d].lon&&"undefined"!=typeof v[d].lat){var T={type:"Feature",id:v[d].type+"/"+v[d].id,properties:{type:v[d].type,id:v[d].id,tags:v[d].tags||{},relations:C.node[v[d].id]||[],meta:a(v[d])},geometry:{type:"Point",coordinates:[+v[d].lon,+v[d].lat]}};v[d].__is_center_placeholder&&(T.properties.geometry="center"),n?n(T):D.push(T)}else e.verbose&&console.warn("POI",v[d].type+"/"+v[d].id,"ignored because it lacks coordinates");for(var S=[],P=[],d=0;d<o.length;d++)if(b[o[d].id]===o[d]){if("undefined"!=typeof o[d].tags&&("route"==o[d].tags.type||"waterway"==o[d].tags.type)){if(!al.isArray(o[d].members)){e.verbose&&console.warn("Route",o[d].type+"/"+o[d].id,"ignored because it has no members");continue}if(o[d].members.forEach(function(t){m[t.ref]&&!s(m[t.ref].tags)&&(m[t.ref].is_skippablerelationmember=!0)}),T=l(o[d]),T===!1){e.verbose&&console.warn("Route relation",o[d].type+"/"+o[d].id,"ignored because it has invalid geometry");continue}n?n(ll(T)):P.push(T)}if("undefined"!=typeof o[d].tags&&("multipolygon"==o[d].tags.type||"boundary"==o[d].tags.type)){if(!al.isArray(o[d].members)){e.verbose&&console.warn("Multipolygon",o[d].type+"/"+o[d].id,"ignored because it has no members");continue}for(var k=0,f=0;f<o[d].members.length;f++)"outer"==o[d].members[f].role?k++:e.verbose&&"inner"!=o[d].members[f].role&&console.warn("Multipolygon",o[d].type+"/"+o[d].id,"member",o[d].members[f].type+"/"+o[d].members[f].ref,'ignored because it has an invalid role: "'+o[d].members[f].role+'"');if(o[d].members.forEach(function(t){m[t.ref]&&("outer"!==t.role||s(m[t.ref].tags,o[d].tags)||(m[t.ref].is_skippablerelationmember=!0),"inner"!==t.role||s(m[t.ref].tags)||(m[t.ref].is_skippablerelationmember=!0))}),0==k){e.verbose&&console.warn("Multipolygon relation",o[d].type+"/"+o[d].id,"ignored because it has no outer ways");continue}var M=!1;1!=k||s(o[d].tags,{type:!0})||(M=!0);var T=null;if(M){var A=o[d].members.filter(function(t){return"outer"===t.role})[0];if(A=m[A.ref],void 0===A){e.verbose&&console.warn("Multipolygon relation",o[d].type+"/"+o[d].id,"ignored because outer way",A.type+"/"+A.ref,"is missing");continue}A.is_skippablerelationmember=!0,T=u(A,o[d])}else T=u(o[d],o[d]);if(T===!1){e.verbose&&console.warn("Multipolygon relation",o[d].type+"/"+o[d].id,"ignored because it has invalid geometry");continue}n?n(ll(T)):P.push(T)}}for(var d=0;d<i.length;d++)if(m[i[d].id]===i[d])if(al.isArray(i[d].nodes)){if(!i[d].is_skippablerelationmember){"number"!=typeof i[d].id&&(i[d].id=+i[d].id.replace("_fullGeom","")),i[d].tainted=!1,i[d].hidden=!1;var I=new Array;for(f=0;f<i[d].nodes.length;f++)"object"==typeof i[d].nodes[f]?I.push([+i[d].nodes[f].lon,+i[d].nodes[f].lat]):(e.verbose&&console.warn("Way",i[d].type+"/"+i[d].id,"is tainted by an invalid node"),i[d].tainted=!0);if(I.length<=1)e.verbose&&console.warn("Way",i[d].type+"/"+i[d].id,"ignored because it contains too few nodes");else{var O="LineString";"undefined"!=typeof i[d].nodes[0]&&"undefined"!=typeof i[d].nodes[i[d].nodes.length-1]&&i[d].nodes[0].id===i[d].nodes[i[d].nodes.length-1].id&&("undefined"!=typeof i[d].tags&&r(i[d].tags)||i[d].__is_bounds_placeholder)&&(O="Polygon",I=[I]);var T={type:"Feature",id:i[d].type+"/"+i[d].id,properties:{type:i[d].type,id:i[d].id,tags:i[d].tags||{},relations:C.way[i[d].id]||[],meta:a(i[d])},geometry:{type:O,coordinates:I}};i[d].tainted&&(e.verbose&&console.warn("Way",i[d].type+"/"+i[d].id,"is tainted"),T.properties.tainted=!0),i[d].__is_bounds_placeholder&&(T.properties.geometry="bounds"),n?n(ll(T)):"LineString"==O?S.push(T):P.push(T)}}}else e.verbose&&console.warn("Way",i[d].type+"/"+i[d].id,"ignored because it has no nodes");return!!n||(x={type:"FeatureCollection",features:[]},x.features=x.features.concat(P),x.features=x.features.concat(S),x.features=x.features.concat(D),e.flatProperties&&x.features.forEach(function(t){t.properties=al.merge(t.properties.meta,t.properties.tags,{id:t.properties.type+"/"+t.properties.id})}),x=ll(x))}function r(t){var n=e.polygonFeatures;if("function"==typeof n)return n(t);if("no"===t.area)return!1;for(var i in t){var o=t[i],s=n[i];if("undefined"!=typeof s&&"no"!==o){if(s===!0)return!0;if(s.included_values&&s.included_values[o]===!0)return!0;if(s.excluded_values&&s.excluded_values[o]!==!0)return!0}}return!1}e=al.merge({verbose:!1,flatProperties:!0,uninterestingTags:{source:!0,source_ref:!0,"source:ref":!0,history:!0,attribution:!0,created_by:!0,"tiger:county":!0,"tiger:tlid":!0,"tiger:upload_uuid":!0},polygonFeatures:ul,deduplicator:oo},e);var a;return a="undefined"!=typeof XMLDocument&&t instanceof XMLDocument||"undefined"==typeof XMLDocument&&t.childNodes?o(t):i(t)},hl.toGeojson=hl;var cl=hl,dl=t(function(t){!function(){function e(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1}function n(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function i(t){t&&t.blur&&t!=document.body&&t.blur()}function o(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return!0;return!1}function s(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window){var e=new MutationObserver(this.maybeHideModal.bind(this));e.observe(t,{attributes:!0,attributeFilter:["open"]})}else{var n,i=!1,o=function(){i?this.downgradeModal():this.maybeHideModal(),i=!1}.bind(this),s=function(t){var e="DOMNodeRemoved";i|=t.type.substr(0,e.length)===e,window.clearTimeout(n),n=window.setTimeout(o,0)};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(e){t.addEventListener(e,s)})}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}var r=window.CustomEvent;r&&"object"!=typeof r||(r=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n},r.prototype=window.Event.prototype),s.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),a.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"],n=e.map(function(t){return t+":not([disabled])"});n.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(n.join(", "))}i(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!a.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,a.needsCentering(this.dialog_)?(a.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var a={};a.reposition=function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},a.isInlinePositionSetByStylesheet=function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],i=null;try{i=n.cssRules}catch(s){}if(i)for(var r=0;r<i.length;++r){var a=i[r],l=null;try{l=document.querySelectorAll(a.selectorText)}catch(s){}if(l&&o(l,t)){var u=a.style.getPropertyValue("top"),h=a.style.getPropertyValue("bottom");if(u&&"auto"!=u||h&&"auto"!=h)return!0}}}return!1},a.needsCentering=function(t){var e=window.getComputedStyle(t);return"absolute"==e.position&&(!("auto"!=t.style.top&&""!=t.style.top||"auto"!=t.style.bottom&&""!=t.style.bottom)&&!a.isInlinePositionSetByStylesheet(t))},a.forceRegisterDialog=function(t){if(t.showModal&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new s(t)},a.registerDialog=function(t){t.showModal||a.forceRegisterDialog(t)},a.DialogManager=function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(e){var n=[];e.forEach(function(t){for(var e,i=0;e=t.removedNodes[i];++i)if(e instanceof Element)if("dialog"===e.localName)n.push(e);else{var o=e.querySelector("dialog");o&&n.push(o)}}),n.length&&t(n)}))},a.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},a.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},a.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var i=this.pendingDialogStack[0];if(i){var o=i.dialog.parentNode||document.body;o.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},a.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=n(t);){for(var e,i=0;e=this.pendingDialogStack[i];++i)if(e.dialog===t)return 0===i;t=t.parentElement}return!1},a.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),i(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0],n=e.dialog,o=n.compareDocumentPosition(t.target);return o&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},a.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},a.DialogManager.prototype.checkDOM_=function(t){var e=this.pendingDialogStack.slice();e.forEach(function(e){t.indexOf(e.dialog)!==-1?e.downgradeModal():e.maybeHideModal()})},a.DialogManager.prototype.pushDialog=function(t){var e=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=e)&&(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),!0)},a.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);e!=-1&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},a.dm=new a.DialogManager,document.addEventListener("submit",function(t){var e=t.target;if(e&&e.hasAttribute("method")&&"dialog"===e.getAttribute("method").toLowerCase()){t.preventDefault();var i=n(t.target);if(i){var o,s=[document.activeElement,t.explicitOriginalTarget],r=["BUTTON","INPUT"];s.some(function(e){if(e&&e.form==t.target&&r.indexOf(e.nodeName.toUpperCase())!=-1)return o=e.value,!0}),i.close(o)}}},!0),a.forceRegisterDialog=a.forceRegisterDialog,a.registerDialog=a.registerDialog,"function"==typeof define&&"amd"in define?define(function(){return a}):"object"==typeof t&&"object"==typeof t.exports?t.exports=a:window.dialogPolyfill=a}()});!function(){function t(t,e){if(t){if(e.element_.classList.contains(e.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var n=document.createElement("span");n.classList.add(e.CssClasses_.MDL_RIPPLE_CONTAINER),n.classList.add(e.CssClasses_.MDL_JS_RIPPLE_EFFECT);var i=document.createElement("span");i.classList.add(e.CssClasses_.MDL_RIPPLE),n.appendChild(i),t.appendChild(n)}t.addEventListener("click",function(n){if("#"===t.getAttribute("href").charAt(0)){n.preventDefault();var i=t.href.split("#")[1],o=e.element_.querySelector("#"+i);e.resetTabState_(),e.resetPanelState_(),t.classList.add(e.CssClasses_.ACTIVE_CLASS),o.classList.add(e.CssClasses_.ACTIVE_CLASS)}})}}function e(t,e,n,i){function o(){var o=t.href.split("#")[1],s=i.content_.querySelector("#"+o);i.resetTabState_(e),i.resetPanelState_(n),t.classList.add(i.CssClasses_.IS_ACTIVE),s.classList.add(i.CssClasses_.IS_ACTIVE)}if(i.tabBar_.classList.contains(i.CssClasses_.JS_RIPPLE_EFFECT)){var s=document.createElement("span");s.classList.add(i.CssClasses_.RIPPLE_CONTAINER),s.classList.add(i.CssClasses_.JS_RIPPLE_EFFECT);var r=document.createElement("span");r.classList.add(i.CssClasses_.RIPPLE),s.appendChild(r),t.appendChild(s)}i.tabBar_.classList.contains(i.CssClasses_.TAB_MANUAL_SWITCH)||t.addEventListener("click",function(e){"#"===t.getAttribute("href").charAt(0)&&(e.preventDefault(),o())}),t.show=o}var n={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};n=function(){function t(t,e){for(var n=0;n<d.length;n++)if(d[n].className===t)return"undefined"!=typeof e&&(d[n]=e),d[n];return!1}function e(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function n(t,n){var i=e(t);return i.indexOf(n)!==-1}function i(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var i=document.createEvent("Events");return i.initEvent(t,e,n),i}function o(e,n){if("undefined"==typeof e&&"undefined"==typeof n)for(var i=0;i<d.length;i++)o(d[i].className,d[i].cssClass);else{var r=e;if("undefined"==typeof n){var a=t(r);a&&(n=a.cssClass)}for(var l=document.querySelectorAll("."+n),u=0;u<l.length;u++)s(l[u],r)}}function s(o,s){if(!("object"==typeof o&&o instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var r=i("mdl-componentupgrading",!0,!0);if(o.dispatchEvent(r),!r.defaultPrevented){var a=e(o),l=[];if(s)n(o,s)||l.push(t(s));else{var u=o.classList;d.forEach(function(t){u.contains(t.cssClass)&&l.indexOf(t)===-1&&!n(o,t.className)&&l.push(t)})}for(var h,c=0,m=l.length;c<m;c++){if(h=l[c],!h)throw new Error("Unable to find a registered component for the given class.");a.push(h.className),o.setAttribute("data-upgraded",a.join(","));var _=new h.classConstructor(o);_[f]=h,p.push(_);for(var g=0,v=h.callbacks.length;g<v;g++)h.callbacks[g](o);h.widget&&(o[h.className]=_);var y=i("mdl-componentupgraded",!0,!1);o.dispatchEvent(y)}}}function r(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var e,n=0,i=t.length;n<i;n++)e=t[n],e instanceof HTMLElement&&(s(e),e.children.length>0&&r(e.children))}function a(e){var n="undefined"==typeof e.widget&&"undefined"==typeof e.widget,i=!0;n||(i=e.widget||e.widget);var o={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:i,callbacks:[]};if(d.forEach(function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")}),e.constructor.prototype.hasOwnProperty(f))throw new Error("MDL component classes must not have "+f+" defined as a property.");var s=t(e.classAsString,o);s||d.push(o)}function l(e,n){var i=t(e);i&&i.callbacks.push(n)}function u(){for(var t=0;t<d.length;t++)o(d[t].className)}function h(t){if(t){var e=p.indexOf(t);p.splice(e,1);var n=t.element_.getAttribute("data-upgraded").split(","),o=n.indexOf(t[f].classAsString);n.splice(o,1),t.element_.setAttribute("data-upgraded",n.join(","));var s=i("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(s)}}function c(t){var e=function(t){p.filter(function(e){return e.element_===t}).forEach(h)};if(t instanceof Array||t instanceof NodeList)for(var n=0;n<t.length;n++)e(t[n]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");e(t)}}var d=[],p=[],f="mdlComponentConfigInternal_";return{upgradeDom:o,upgradeElement:s,upgradeElements:r,upgradeAllRegistered:u,registerUpgradedCallback:l,register:a,downgradeElements:c}}(),n.ComponentConfigPublic,n.ComponentConfig,n.Component,n.upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})}),Date.now||(Date.now=function(){return(new Date).getTime()},Date.now=Date.now);for(var i=["webkit","moz"],o=0;o<i.length&&!window.requestAnimationFrame;++o){var s=i[o];window.requestAnimationFrame=window[s+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s+"CancelAnimationFrame"]||window[s+"CancelRequestAnimationFrame"],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var r=0;window.requestAnimationFrame=function(t){var e=Date.now(),n=Math.max(r+16,e);return setTimeout(function(){t(r=n)},n-e)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}var a=function(t){this.element_=t,this.init()};window.MaterialButton=a,a.prototype.Constant_={},a.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},a.prototype.blurHandler_=function(t){t&&this.element_.blur()},a.prototype.disable=function(){this.element_.disabled=!0},a.prototype.disable=a.prototype.disable,a.prototype.enable=function(){this.element_.disabled=!1},a.prototype.enable=a.prototype.enable,a.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},n.register({constructor:a,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0});var l=function(t){this.element_=t,this.init()};window.MaterialCheckbox=l,l.prototype.Constant_={TINY_TIMEOUT:.001},l.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},l.prototype.onChange_=function(t){this.updateClasses_()},l.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},l.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},l.prototype.onMouseUp_=function(t){this.blur_()},l.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},l.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},l.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},l.prototype.checkToggleState=l.prototype.checkToggleState,l.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},l.prototype.checkDisabled=l.prototype.checkDisabled,l.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},l.prototype.disable=l.prototype.disable,l.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},l.prototype.enable=l.prototype.enable,l.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},l.prototype.check=l.prototype.check,l.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},l.prototype.uncheck=l.prototype.uncheck,l.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("span");t.classList.add(this.CssClasses_.BOX_OUTLINE);var e=document.createElement("span");e.classList.add(this.CssClasses_.FOCUS_HELPER);var n=document.createElement("span");if(n.classList.add(this.CssClasses_.TICK_OUTLINE),t.appendChild(n),this.element_.appendChild(e),this.element_.appendChild(t),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),
this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(i),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:l,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox",widget:!0});var u=function(t){this.element_=t,this.init()};window.MaterialIconToggle=u,u.prototype.Constant_={TINY_TIMEOUT:.001},u.prototype.CssClasses_={INPUT:"mdl-icon-toggle__input",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-icon-toggle__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},u.prototype.onChange_=function(t){this.updateClasses_()},u.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},u.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},u.prototype.onMouseUp_=function(t){this.blur_()},u.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},u.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},u.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},u.prototype.checkToggleState=u.prototype.checkToggleState,u.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},u.prototype.checkDisabled=u.prototype.checkDisabled,u.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},u.prototype.disable=u.prototype.disable,u.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},u.prototype.enable=u.prototype.enable,u.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},u.prototype.check=u.prototype.check,u.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},u.prototype.uncheck=u.prototype.uncheck,u.prototype.init=function(){if(this.element_){if(this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(t),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},n.register({constructor:u,classAsString:"MaterialIconToggle",cssClass:"mdl-js-icon-toggle",widget:!0});var h=function(t){this.element_=t,this.init()};window.MaterialMenu=h,h.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},h.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},h.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},h.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_),this.container_=t;var e=document.createElement("div");e.classList.add(this.CssClasses_.OUTLINE),this.outline_=e,t.insertBefore(e,this.element_);var n=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for"),i=null;n&&(i=document.getElementById(n),i&&(this.forElement_=i,i.addEventListener("click",this.handleForClick_.bind(this)),i.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this))));var o=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);this.boundItemKeydown_=this.handleItemKeyboardEvent_.bind(this),this.boundItemClick_=this.handleItemClick_.bind(this);for(var s=0;s<o.length;s++)o[s].addEventListener("click",this.boundItemClick_),o[s].tabIndex="-1",o[s].addEventListener("keydown",this.boundItemKeydown_);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT))for(this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),s=0;s<o.length;s++){var r=o[s],a=document.createElement("span");a.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var l=document.createElement("span");l.classList.add(this.CssClasses_.RIPPLE),a.appendChild(l),r.appendChild(a),r.classList.add(this.CssClasses_.RIPPLE_EFFECT)}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),t.classList.add(this.CssClasses_.IS_UPGRADED)}},h.prototype.handleForClick_=function(t){if(this.element_&&this.forElement_){var e=this.forElement_.getBoundingClientRect(),n=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=n.right-e.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=n.bottom-e.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=n.right-e.right+"px",this.container_.style.bottom=n.bottom-e.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(t)},h.prototype.handleForKeyboardEvent_=function(t){if(this.element_&&this.container_&&this.forElement_){var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");e&&e.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(t.keyCode===this.Keycodes_.UP_ARROW?(t.preventDefault(),e[e.length-1].focus()):t.keyCode===this.Keycodes_.DOWN_ARROW&&(t.preventDefault(),e[0].focus()))}},h.prototype.handleItemKeyboardEvent_=function(t){if(this.element_&&this.container_){var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(e&&e.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var n=Array.prototype.slice.call(e).indexOf(t.target);if(t.keyCode===this.Keycodes_.UP_ARROW)t.preventDefault(),n>0?e[n-1].focus():e[e.length-1].focus();else if(t.keyCode===this.Keycodes_.DOWN_ARROW)t.preventDefault(),e.length>n+1?e[n+1].focus():e[0].focus();else if(t.keyCode===this.Keycodes_.SPACE||t.keyCode===this.Keycodes_.ENTER){t.preventDefault();var i=new MouseEvent("mousedown");t.target.dispatchEvent(i),i=new MouseEvent("mouseup"),t.target.dispatchEvent(i),t.target.click()}else t.keyCode===this.Keycodes_.ESCAPE&&(t.preventDefault(),this.hide())}}},h.prototype.handleItemClick_=function(t){t.target.hasAttribute("disabled")?t.stopPropagation():(this.closing_=!0,window.setTimeout(function(t){this.hide(),this.closing_=!1}.bind(this),this.Constant_.CLOSE_TIMEOUT))},h.prototype.applyClip_=function(t,e){this.element_.classList.contains(this.CssClasses_.UNALIGNED)?this.element_.style.clip="":this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?this.element_.style.clip="rect(0 "+e+"px 0 "+e+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?this.element_.style.clip="rect("+t+"px 0 "+t+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?this.element_.style.clip="rect("+t+"px "+e+"px "+t+"px "+e+"px)":this.element_.style.clip=""},h.prototype.removeAnimationEndListener_=function(t){t.target.classList.remove(h.prototype.CssClasses_.IS_ANIMATING)},h.prototype.addAnimationEndListener_=function(){this.element_.addEventListener("transitionend",this.removeAnimationEndListener_),this.element_.addEventListener("webkitTransitionEnd",this.removeAnimationEndListener_)},h.prototype.show=function(t){if(this.element_&&this.container_&&this.outline_){var e=this.element_.getBoundingClientRect().height,n=this.element_.getBoundingClientRect().width;this.container_.style.width=n+"px",this.container_.style.height=e+"px",this.outline_.style.width=n+"px",this.outline_.style.height=e+"px";for(var i=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,o=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),s=0;s<o.length;s++){var r=null;r=this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(e-o[s].offsetTop-o[s].offsetHeight)/e*i+"s":o[s].offsetTop/e*i+"s",o[s].style.transitionDelay=r}this.applyClip_(e,n),window.requestAnimationFrame(function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+n+"px "+e+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}.bind(this)),this.addAnimationEndListener_();var a=function(e){e===t||this.closing_||e.target.parentNode===this.element_||(document.removeEventListener("click",a),this.hide())}.bind(this);document.addEventListener("click",a)}},h.prototype.show=h.prototype.show,h.prototype.hide=function(){if(this.element_&&this.container_&&this.outline_){for(var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),e=0;e<t.length;e++)t[e].style.removeProperty("transition-delay");var n=this.element_.getBoundingClientRect(),i=n.height,o=n.width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(i,o),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},h.prototype.hide=h.prototype.hide,h.prototype.toggle=function(t){this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(t)},h.prototype.toggle=h.prototype.toggle,n.register({constructor:h,classAsString:"MaterialMenu",cssClass:"mdl-js-menu",widget:!0});var c=function(t){this.element_=t,this.init()};window.MaterialProgress=c,c.prototype.Constant_={},c.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},c.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},c.prototype.setProgress=c.prototype.setProgress,c.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},c.prototype.setBuffer=c.prototype.setBuffer,c.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,t=document.createElement("div"),t.className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,t=document.createElement("div"),t.className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},n.register({constructor:c,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0});var d=function(t){this.element_=t,this.init()};window.MaterialRadio=d,d.prototype.Constant_={TINY_TIMEOUT:.001},d.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"mdl-js-radio",RADIO_BTN:"mdl-radio__button",RADIO_OUTER_CIRCLE:"mdl-radio__outer-circle",RADIO_INNER_CIRCLE:"mdl-radio__inner-circle",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-radio__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple"},d.prototype.onChange_=function(t){for(var e=document.getElementsByClassName(this.CssClasses_.JS_RADIO),n=0;n<e.length;n++){var i=e[n].querySelector("."+this.CssClasses_.RADIO_BTN);i.getAttribute("name")===this.btnElement_.getAttribute("name")&&"undefined"!=typeof e[n].MaterialRadio&&e[n].MaterialRadio.updateClasses_()}},d.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},d.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},d.prototype.onMouseup_=function(t){this.blur_()},d.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},d.prototype.blur_=function(){window.setTimeout(function(){this.btnElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},d.prototype.checkDisabled=function(){this.btnElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},d.prototype.checkDisabled=d.prototype.checkDisabled,d.prototype.checkToggleState=function(){this.btnElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},d.prototype.checkToggleState=d.prototype.checkToggleState,d.prototype.disable=function(){this.btnElement_.disabled=!0,this.updateClasses_()},d.prototype.disable=d.prototype.disable,d.prototype.enable=function(){this.btnElement_.disabled=!1,this.updateClasses_()},d.prototype.enable=d.prototype.enable,d.prototype.check=function(){this.btnElement_.checked=!0,this.onChange_(null)},d.prototype.check=d.prototype.check,d.prototype.uncheck=function(){this.btnElement_.checked=!1,this.onChange_(null)},d.prototype.uncheck=d.prototype.uncheck,d.prototype.init=function(){if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN),this.boundChangeHandler_=this.onChange_.bind(this),this.boundFocusHandler_=this.onChange_.bind(this),this.boundBlurHandler_=this.onBlur_.bind(this),this.boundMouseUpHandler_=this.onMouseup_.bind(this);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var e=document.createElement("span");e.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(t),this.element_.appendChild(e);var n;if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),n=document.createElement("span"),n.classList.add(this.CssClasses_.RIPPLE_CONTAINER),n.classList.add(this.CssClasses_.RIPPLE_EFFECT),n.classList.add(this.CssClasses_.RIPPLE_CENTER),n.addEventListener("mouseup",this.boundMouseUpHandler_);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),n.appendChild(i),this.element_.appendChild(n)}this.btnElement_.addEventListener("change",this.boundChangeHandler_),this.btnElement_.addEventListener("focus",this.boundFocusHandler_),this.btnElement_.addEventListener("blur",this.boundBlurHandler_),this.element_.addEventListener("mouseup",this.boundMouseUpHandler_),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:d,classAsString:"MaterialRadio",cssClass:"mdl-js-radio",widget:!0});var p=function(t){this.element_=t,this.isIE_=window.navigator.msPointerEnabled,this.init()};window.MaterialSlider=p,p.prototype.Constant_={},p.prototype.CssClasses_={IE_CONTAINER:"mdl-slider__ie-container",SLIDER_CONTAINER:"mdl-slider__container",BACKGROUND_FLEX:"mdl-slider__background-flex",BACKGROUND_LOWER:"mdl-slider__background-lower",BACKGROUND_UPPER:"mdl-slider__background-upper",IS_LOWEST_VALUE:"is-lowest-value",IS_UPGRADED:"is-upgraded"},p.prototype.onInput_=function(t){this.updateValueStyles_()},p.prototype.onChange_=function(t){this.updateValueStyles_()},p.prototype.onMouseUp_=function(t){t.target.blur()},p.prototype.onContainerMouseDown_=function(t){if(t.target===this.element_.parentElement){t.preventDefault();var e=new MouseEvent("mousedown",{target:t.target,buttons:t.buttons,clientX:t.clientX,clientY:this.element_.getBoundingClientRect().y});this.element_.dispatchEvent(e)}},p.prototype.updateValueStyles_=function(){var t=(this.element_.value-this.element_.min)/(this.element_.max-this.element_.min);0===t?this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE):this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE),this.isIE_||(this.backgroundLower_.style.flex=t,this.backgroundLower_.style.webkitFlex=t,this.backgroundUpper_.style.flex=1-t,this.backgroundUpper_.style.webkitFlex=1-t)},p.prototype.disable=function(){this.element_.disabled=!0},p.prototype.disable=p.prototype.disable,p.prototype.enable=function(){this.element_.disabled=!1},p.prototype.enable=p.prototype.enable,p.prototype.change=function(t){"undefined"!=typeof t&&(this.element_.value=t),this.updateValueStyles_()},p.prototype.change=p.prototype.change,p.prototype.init=function(){if(this.element_){if(this.isIE_){var t=document.createElement("div");t.classList.add(this.CssClasses_.IE_CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_)}else{var e=document.createElement("div");e.classList.add(this.CssClasses_.SLIDER_CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_);var n=document.createElement("div");n.classList.add(this.CssClasses_.BACKGROUND_FLEX),e.appendChild(n),this.backgroundLower_=document.createElement("div"),this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER),n.appendChild(this.backgroundLower_),this.backgroundUpper_=document.createElement("div"),this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER),n.appendChild(this.backgroundUpper_)}this.boundInputHandler=this.onInput_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundContainerMouseDownHandler=this.onContainerMouseDown_.bind(this),this.element_.addEventListener("input",this.boundInputHandler),this.element_.addEventListener("change",this.boundChangeHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.addEventListener("mousedown",this.boundContainerMouseDownHandler),this.updateValueStyles_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},n.register({constructor:p,classAsString:"MaterialSlider",cssClass:"mdl-js-slider",widget:!0});var f=function(t){if(this.element_=t,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=f,f.prototype.Constant_={ANIMATION_LENGTH:250},f.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},f.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),setTimeout(this.cleanup_.bind(this),this.timeout_)},f.prototype.showSnackbar=function(t){if(void 0===t)throw new Error("Please provide a data object with at least a message to display.");if(void 0===t.message)throw new Error("Please provide a message to be displayed.");if(t.actionHandler&&!t.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(t):(this.active=!0,this.message_=t.message,t.timeout?this.timeout_=t.timeout:this.timeout_=2750,t.actionHandler&&(this.actionHandler_=t.actionHandler),t.actionText&&(this.actionText_=t.actionText),this.displaySnackbar_())},f.prototype.showSnackbar=f.prototype.showSnackbar,f.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},f.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},f.prototype.setActionHidden_=function(t){t?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},n.register({constructor:f,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0});var m=function(t){this.element_=t,this.init()};window.MaterialSpinner=m,m.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},m.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},m.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,i,o],r=0;r<s.length;r++){var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[r].appendChild(a)}e.appendChild(n),e.appendChild(i),e.appendChild(o),this.element_.appendChild(e)},m.prototype.createLayer=m.prototype.createLayer,m.prototype.stop=function(){this.element_.classList.remove("is-active")},m.prototype.stop=m.prototype.stop,m.prototype.start=function(){this.element_.classList.add("is-active")},m.prototype.start=m.prototype.start,m.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},n.register({constructor:m,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0});var _=function(t){this.element_=t,this.init()};window.MaterialSwitch=_,_.prototype.Constant_={TINY_TIMEOUT:.001},_.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},_.prototype.onChange_=function(t){this.updateClasses_()},_.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},_.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},_.prototype.onMouseUp_=function(t){this.blur_()},_.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},_.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},_.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},_.prototype.checkDisabled=_.prototype.checkDisabled,_.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},_.prototype.checkToggleState=_.prototype.checkToggleState,_.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},_.prototype.disable=_.prototype.disable,_.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},_.prototype.enable=_.prototype.enable,_.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},_.prototype.on=_.prototype.on,_.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},_.prototype.off=_.prototype.off,_.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("div");t.classList.add(this.CssClasses_.TRACK);var e=document.createElement("div");e.classList.add(this.CssClasses_.THUMB);var n=document.createElement("span");if(n.classList.add(this.CssClasses_.FOCUS_HELPER),e.appendChild(n),this.element_.appendChild(t),this.element_.appendChild(e),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var i=document.createElement("span");i.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(i),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},n.register({constructor:_,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0});var g=function(t){this.element_=t,this.init()};window.MaterialTabs=g,g.prototype.Constant_={},g.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},g.prototype.initTabs_=function(){this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var e=0;e<this.tabs_.length;e++)new t(this.tabs_[e],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},g.prototype.resetTabState_=function(){for(var t=0;t<this.tabs_.length;t++)this.tabs_[t].classList.remove(this.CssClasses_.ACTIVE_CLASS)},g.prototype.resetPanelState_=function(){for(var t=0;t<this.panels_.length;t++)this.panels_[t].classList.remove(this.CssClasses_.ACTIVE_CLASS)},g.prototype.init=function(){this.element_&&this.initTabs_()},n.register({constructor:g,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"});var v=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=v,v.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},v.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},v.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},v.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},v.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},v.prototype.onReset_=function(t){this.updateClasses_()},v.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},v.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},v.prototype.checkDisabled=v.prototype.checkDisabled,v.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},v.prototype.checkFocus=v.prototype.checkFocus,v.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},v.prototype.checkValidity=v.prototype.checkValidity,v.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY);
},v.prototype.checkDirty=v.prototype.checkDirty,v.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},v.prototype.disable=v.prototype.disable,v.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},v.prototype.enable=v.prototype.enable,v.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},v.prototype.change=v.prototype.change,v.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},n.register({constructor:v,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0});var y=function(t){this.element_=t,this.init()};window.MaterialTooltip=y,y.prototype.Constant_={},y.prototype.CssClasses_={IS_ACTIVE:"is-active",BOTTOM:"mdl-tooltip--bottom",LEFT:"mdl-tooltip--left",RIGHT:"mdl-tooltip--right",TOP:"mdl-tooltip--top"},y.prototype.handleMouseEnter_=function(t){var e=t.target.getBoundingClientRect(),n=e.left+e.width/2,i=e.top+e.height/2,o=-1*(this.element_.offsetWidth/2),s=-1*(this.element_.offsetHeight/2);this.element_.classList.contains(this.CssClasses_.LEFT)||this.element_.classList.contains(this.CssClasses_.RIGHT)?(n=e.width/2,i+s<0?(this.element_.style.top="0",this.element_.style.marginTop="0"):(this.element_.style.top=i+"px",this.element_.style.marginTop=s+"px")):n+o<0?(this.element_.style.left="0",this.element_.style.marginLeft="0"):(this.element_.style.left=n+"px",this.element_.style.marginLeft=o+"px"),this.element_.classList.contains(this.CssClasses_.TOP)?this.element_.style.top=e.top-this.element_.offsetHeight-10+"px":this.element_.classList.contains(this.CssClasses_.RIGHT)?this.element_.style.left=e.left+e.width+10+"px":this.element_.classList.contains(this.CssClasses_.LEFT)?this.element_.style.left=e.left-this.element_.offsetWidth-10+"px":this.element_.style.top=e.top+e.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},y.prototype.hideTooltip_=function(){this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},y.prototype.init=function(){if(this.element_){var t=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for");t&&(this.forElement_=document.getElementById(t)),this.forElement_&&(this.forElement_.hasAttribute("tabindex")||this.forElement_.setAttribute("tabindex","0"),this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveAndScrollHandler=this.hideTooltip_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("touchend",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveAndScrollHandler,!1),window.addEventListener("scroll",this.boundMouseLeaveAndScrollHandler,!0),window.addEventListener("touchstart",this.boundMouseLeaveAndScrollHandler))}},n.register({constructor:y,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"});var b=function(t){this.element_=t,this.init()};window.MaterialLayout=b,b.prototype.Constant_={MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,RESIZE_TIMEOUT:100,MENU_ICON:"&#xE5D2;",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},b.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32},b.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},b.prototype.CssClasses_={CONTAINER:"mdl-layout__container",HEADER:"mdl-layout__header",DRAWER:"mdl-layout__drawer",CONTENT:"mdl-layout__content",DRAWER_BTN:"mdl-layout__drawer-button",ICON:"material-icons",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-layout__tab-ripple-container",RIPPLE:"mdl-ripple",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",HEADER_SEAMED:"mdl-layout__header--seamed",HEADER_WATERFALL:"mdl-layout__header--waterfall",HEADER_SCROLL:"mdl-layout__header--scroll",FIXED_HEADER:"mdl-layout--fixed-header",OBFUSCATOR:"mdl-layout__obfuscator",TAB_BAR:"mdl-layout__tab-bar",TAB_CONTAINER:"mdl-layout__tab-bar-container",TAB:"mdl-layout__tab",TAB_BAR_BUTTON:"mdl-layout__tab-bar-button",TAB_BAR_LEFT_BUTTON:"mdl-layout__tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"mdl-layout__tab-bar-right-button",TAB_MANUAL_SWITCH:"mdl-layout__tab-manual-switch",PANEL:"mdl-layout__tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"mdl-layout--large-screen-only",ON_SMALL_SCREEN:"mdl-layout--small-screen-only"},b.prototype.contentScrollHandler_=function(){if(!this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)){var t=!this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN)||this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);this.content_.scrollTop>0&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),t&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):this.content_.scrollTop<=0&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),t&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING))}},b.prototype.keyboardEventHandler_=function(t){t.keyCode===this.Keycodes_.ESCAPE&&this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)&&this.toggleDrawer()},b.prototype.screenSizeHandler_=function(){this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&(this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN)))},b.prototype.drawerToggleHandler_=function(t){if(t&&"keydown"===t.type){if(t.keyCode!==this.Keycodes_.SPACE&&t.keyCode!==this.Keycodes_.ENTER)return;t.preventDefault()}this.toggleDrawer()},b.prototype.headerTransitionEndHandler_=function(){this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},b.prototype.headerClickHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},b.prototype.resetTabState_=function(t){for(var e=0;e<t.length;e++)t[e].classList.remove(this.CssClasses_.IS_ACTIVE)},b.prototype.resetPanelState_=function(t){for(var e=0;e<t.length;e++)t[e].classList.remove(this.CssClasses_.IS_ACTIVE)},b.prototype.toggleDrawer=function(){var t=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)?(this.drawer_.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true")):(this.drawer_.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"))},b.prototype.toggleDrawer=b.prototype.toggleDrawer,b.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.classList.add(this.CssClasses_.CONTAINER);var n=this.element_.querySelector(":focus");this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_),n&&n.focus();for(var i=this.element_.childNodes,o=i.length,s=0;s<o;s++){var r=i[s];r.classList&&r.classList.contains(this.CssClasses_.HEADER)&&(this.header_=r),r.classList&&r.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=r),r.classList&&r.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=r)}window.addEventListener("pageshow",function(t){t.persisted&&(this.element_.style.overflowY="hidden",requestAnimationFrame(function(){this.element_.style.overflowY=""}.bind(this)))}.bind(this),!1),this.header_&&(this.tabBar_=this.header_.querySelector("."+this.CssClasses_.TAB_BAR));var a=this.Mode_.STANDARD;if(this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?a=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(a=this.Mode_.WATERFALL,this.header_.addEventListener("transitionend",this.headerTransitionEndHandler_.bind(this)),this.header_.addEventListener("click",this.headerClickHandler_.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(a=this.Mode_.SCROLL,t.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),a===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):a===this.Mode_.SEAMED||a===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):a===this.Mode_.WATERFALL&&(this.content_.addEventListener("scroll",this.contentScrollHandler_.bind(this)),this.contentScrollHandler_())),this.drawer_){var l=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);if(!l){l=document.createElement("div"),l.setAttribute("aria-expanded","false"),l.setAttribute("role","button"),l.setAttribute("tabindex","0"),l.classList.add(this.CssClasses_.DRAWER_BTN);var u=document.createElement("i");u.classList.add(this.CssClasses_.ICON),u.innerHTML=this.Constant_.MENU_ICON,l.appendChild(u)}this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)?l.classList.add(this.CssClasses_.ON_LARGE_SCREEN):this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)&&l.classList.add(this.CssClasses_.ON_SMALL_SCREEN),l.addEventListener("click",this.drawerToggleHandler_.bind(this)),l.addEventListener("keydown",this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(l,this.header_.firstChild):this.element_.insertBefore(l,this.content_);var h=document.createElement("div");h.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(h),h.addEventListener("click",this.drawerToggleHandler_.bind(this)),this.obfuscator_=h,this.drawer_.addEventListener("keydown",this.keyboardEventHandler_.bind(this)),this.drawer_.setAttribute("aria-hidden","true")}if(this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var c=document.createElement("div");c.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(c,this.tabBar_),this.header_.removeChild(this.tabBar_);var d=document.createElement("div");d.classList.add(this.CssClasses_.TAB_BAR_BUTTON),d.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var p=document.createElement("i");p.classList.add(this.CssClasses_.ICON),p.textContent=this.Constant_.CHEVRON_LEFT,d.appendChild(p),d.addEventListener("click",function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}.bind(this));var f=document.createElement("div");f.classList.add(this.CssClasses_.TAB_BAR_BUTTON),f.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var m=document.createElement("i");m.classList.add(this.CssClasses_.ICON),m.textContent=this.Constant_.CHEVRON_RIGHT,f.appendChild(m),f.addEventListener("click",function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}.bind(this)),c.appendChild(d),c.appendChild(this.tabBar_),c.appendChild(f);var _=function(){this.tabBar_.scrollLeft>0?d.classList.add(this.CssClasses_.IS_ACTIVE):d.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?f.classList.add(this.CssClasses_.IS_ACTIVE):f.classList.remove(this.CssClasses_.IS_ACTIVE)}.bind(this);this.tabBar_.addEventListener("scroll",_),_();var g=function(){this.resizeTimeoutId_&&clearTimeout(this.resizeTimeoutId_),this.resizeTimeoutId_=setTimeout(function(){_(),this.resizeTimeoutId_=null}.bind(this),this.Constant_.RESIZE_TIMEOUT)}.bind(this);window.addEventListener("resize",g),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(var v=this.tabBar_.querySelectorAll("."+this.CssClasses_.TAB),y=this.content_.querySelectorAll("."+this.CssClasses_.PANEL),b=0;b<v.length;b++)new e(v[b],v,y,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},window.MaterialLayoutTab=e,n.register({constructor:b,classAsString:"MaterialLayout",cssClass:"mdl-js-layout"});var w=function(t){this.element_=t,this.init()};window.MaterialDataTable=w,w.prototype.Constant_={},w.prototype.CssClasses_={DATA_TABLE:"mdl-data-table",SELECTABLE:"mdl-data-table--selectable",SELECT_ELEMENT:"mdl-data-table__select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},w.prototype.selectRow_=function(t,e,n){return e?function(){t.checked?e.classList.add(this.CssClasses_.IS_SELECTED):e.classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):n?function(){var e,i;if(t.checked)for(e=0;e<n.length;e++)i=n[e].querySelector("td").querySelector(".mdl-checkbox"),i.MaterialCheckbox.check(),n[e].classList.add(this.CssClasses_.IS_SELECTED);else for(e=0;e<n.length;e++)i=n[e].querySelector("td").querySelector(".mdl-checkbox"),i.MaterialCheckbox.uncheck(),n[e].classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):void 0},w.prototype.createCheckbox_=function(t,e){var i=document.createElement("label"),o=["mdl-checkbox","mdl-js-checkbox","mdl-js-ripple-effect",this.CssClasses_.SELECT_ELEMENT];i.className=o.join(" ");var s=document.createElement("input");return s.type="checkbox",s.classList.add("mdl-checkbox__input"),t?(s.checked=t.classList.contains(this.CssClasses_.IS_SELECTED),s.addEventListener("change",this.selectRow_(s,t))):e&&s.addEventListener("change",this.selectRow_(s,null,e)),i.appendChild(s),n.upgradeElement(i,"MaterialCheckbox"),i},w.prototype.init=function(){if(this.element_){var t=this.element_.querySelector("th"),e=Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr")),n=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr")),i=e.concat(n);if(this.element_.classList.contains(this.CssClasses_.SELECTABLE)){var o=document.createElement("th"),s=this.createCheckbox_(null,i);o.appendChild(s),t.parentElement.insertBefore(o,t);for(var r=0;r<i.length;r++){var a=i[r].querySelector("td");if(a){var l=document.createElement("td");if("TBODY"===i[r].parentNode.nodeName.toUpperCase()){var u=this.createCheckbox_(i[r]);l.appendChild(u)}i[r].insertBefore(l,a)}}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}}},n.register({constructor:w,classAsString:"MaterialDataTable",cssClass:"mdl-js-data-table"});var C=function(t){this.element_=t,this.init()};window.MaterialRipple=C,C.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},C.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},C.prototype.downHandler_=function(t){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var e=this.element_.getBoundingClientRect();this.boundHeight=e.height,this.boundWidth=e.width,this.rippleSize_=2*Math.sqrt(e.width*e.width+e.height*e.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),"mousedown"===t.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{"touchstart"===t.type&&(this.ignoringMouseDown_=!0);var n=this.getFrameCount();if(n>0)return;this.setFrameCount(1);var i,o,s=t.currentTarget.getBoundingClientRect();if(0===t.clientX&&0===t.clientY)i=Math.round(s.width/2),o=Math.round(s.height/2);else{var r=void 0!==t.clientX?t.clientX:t.touches[0].clientX,a=void 0!==t.clientY?t.clientY:t.touches[0].clientY;i=Math.round(r-s.left),o=Math.round(a-s.top)}this.setRippleXY(i,o),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},C.prototype.upHandler_=function(t){t&&2!==t.detail&&window.setTimeout(function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}.bind(this),0)},C.prototype.init=function(){if(this.element_){var t=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(t){this.frameCount_=t},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(t,e){this.x_=t,this.y_=e},this.setRippleStyles=function(e){if(null!==this.rippleElement_){var n,i,o,s="translate("+this.x_+"px, "+this.y_+"px)";e?(i=this.Constant_.INITIAL_SCALE,o=this.Constant_.INITIAL_SIZE):(i=this.Constant_.FINAL_SCALE,o=this.rippleSize_+"px",t&&(s="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),n="translate(-50%, -50%) "+s+i,this.rippleElement_.style.webkitTransform=n,this.rippleElement_.style.msTransform=n,this.rippleElement_.style.transform=n,e?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},n.register({constructor:C,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1})}(),window.addEventListener("load",function(){pl.init(".getmdl-select"),document.addEventListener("DOMNodeInserted",function(t){t.relatedNode.querySelectorAll(".getmdl-select").length>0&&componentHandler.upgradeDom()},!1)});var pl={defaultValue:{width:300},addEventListeners:function(t){var e=t.querySelector("input"),n=t.querySelectorAll("li"),i=t.querySelector(".mdl-js-menu");e.onkeydown=function(t){38!==t.keyCode&&40!==t.keyCode||i.MaterialMenu.show()},i.onkeydown=function(t){13===t.keyCode&&e.focus()},[].forEach.call(n,function(n){n.onclick=function(){if(e.value=n.textContent,t.MaterialTextfield.change(n.textContent),setTimeout(function(){t.MaterialTextfield.updateClasses_()},250),e.dataset.val=n.dataset.val||"","createEvent"in document){var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),e.dispatchEvent(i)}else e.fireEvent("onchange")}})},init:function(t){var e=document.querySelectorAll(t);[].forEach.call(e,function(t){pl.addEventListeners(t)})}},fl=function(t){function e(t,n){if(1===arguments.length){for(var i=t[0],o=1;o<t.length;o++)i=e(i,t[o]);return i}for(var r in n)if("class"===r){var a=t[r]||[];t[r]=(Array.isArray(a)?a:[a]).concat(n[r]||[])}else if("style"===r){var a=s(t[r]),l=s(n[r]);t[r]=a+(a&&l&&";")+l}else t[r]=n[r];return t}function n(t,e){for(var n,i="",s="",r=Array.isArray(e),a=0;a<t.length;a++)n=o(t[a]),n&&(r&&e[a]&&(n=l(n)),i=i+s+n,s=" ");return i}function i(t){var e="",n="";for(var i in t)i&&t[i]&&h.call(t,i)&&(e=e+n+i,n=" ");return e}function o(t,e){return Array.isArray(t)?n(t,e):t&&"object"==typeof t?i(t):t||""}function s(t){if(!t)return"";if("object"==typeof t){var e="",n="";for(var i in t)h.call(t,i)&&(e=e+n+i+":"+t[i],n=";");return e}return t=""+t,";"===t[t.length-1]?t.slice(0,-1):t}function r(t,e,n,i){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(i?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||e.indexOf('"')===-1)?(n&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function a(t,e){var n="";for(var i in t)if(h.call(t,i)){var a=t[i];if("class"===i){a=o(a),n=r(i,a,!1,e)+n;continue}"style"===i&&(a=s(a)),n+=r(i,a,!1,e)}return n}function l(t){var e=""+t,n=c.exec(e);if(!n)return t;var i,o,s,r="";for(i=n.index,o=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==i&&(r+=e.substring(o,i)),o=i+1,r+=s}return o!==i?r+e.substring(o,i):r}function u(t,e,n,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&e||i))throw t.message+=" on line "+n,t;try{i=i||require("fs").readFileSync(e,"utf8")}catch(o){u(t,null,n)}var s=3,r=i.split("\n"),a=Math.max(n-s,0),l=Math.min(r.length,n+s),s=r.slice(a,l).map(function(t,e){var i=e+a+1;return(i==n?"  > ":"    ")+i+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Pug")+":"+n+"\n"+s+"\n\n"+t.message,t}var h=Object.prototype.hasOwnProperty;t.merge=e,t.classes=o,t.style=s,t.attr=r,t.attrs=a;var c=/["&<>]/;return t.escape=l,t.rethrow=u,t}({}),ml=function(t){var e,n,i,o="";try{var s={},r=t||{};(function(t,n){o+='<div class="task-section">',o+='<div class="mdl-grid header-grid">',o+='<div class="mdl-cell mdl-cell--12-col">',o+="<h2>",o+='<span class="task-id-head">#',o+=fl.escape(null==(e=t.task.id)?"":e),o+="</span> ",o=o+fl.escape(null==(e=t.task.properties.name)?"":e)+"</h2></div></div>",o+='<div class="mdl-grid">',o+='<div class="mdl-cell mdl-cell--3-col task-info">',o+='<p class="task-info-key">',o+="Done </p>",o+='<div class="mdl-progress mdl-js-progress" id="task-progress-done"></div>',o+='<p class="percent">',o+=fl.escape(null==(e=t.task.properties.done)?"":e),o+=" %</p></div>",o+='<div class="mdl-cell mdl-cell--3-col task-info">',o+='<p class="task-info-key">',o+="Validated</p>",o+='<div class="mdl-progress mdl-js-progress" id="task-progress-valid"></div>',o+='<p class="percent">',o+=fl.escape(null==(e=t.task.properties.validated)?"":e),o+=" %</p></div>",o+='<div class="mdl-cell mdl-cell--3-col"></div>',o+='<div class="mdl-cell mdl-cell--3-col">',o+=" </div>",o+="<!--.mdl-cell.mdl-cell--3-col.task-info",i=17,o+='p <span class="task-info-key">Creation:</span> ',o=o+fl.escape(null==(e=t.task.properties.formatCreated)?"":e)+"-->",o+="<!--.mdl-cell.mdl-cell--3-col.task-info",i=19,o+='p <span class="task-info-key">Last update:</span> ',o=o+fl.escape(null==(e=t.task.properties.formatLastUpdate)?"":e)+"--></div></div>",o+='<div class="task-section">',o+='<div class="mdl-grid header-grid">',o+='<div class="mdl-cell mdl-cell--12-col">',n.endDate?(o+="<h3>",o+="Added data from <small>",o+=fl.escape(null==(e=n.startDate)?"":e),o+="</small> to <small>",o+=fl.escape(null==(e=n.endDate)?"":e),o+="</small>",o+='<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" id="refresh">',o+="Refresh </button></h3>"):(o+="<h3>",o+="Added data from <small>",o+=fl.escape(null==(e=n.startDate)?"":e),o+="</small> to now",o+='<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" id="refresh">',o+="Refresh </button></h3>"),o+="</div></div>",o+='<div class="mdl-grid">',o+='<div class="mdl-cell mdl-cell--4-col">',o+='<div class="task-sub-section">',o+="<h4>",o+="Map</h4>",o+='<div id="overview-map">',o+="   </div></div></div>",o+='<div class="mdl-cell mdl-cell--4-col">',o+='<div class="task-sub-section">',o+="<h4>",o+="Roads </h4>",o+='<p class="major-info">',o+=fl.escape(null==(e=t.highway.nb)?"":e),o+=" road(s) created (",o+=fl.escape(null==(e=t.highway.dist)?"":e),o+=" km)</p>",o+='<div id="highway-map"></div></div></div>',o+='<div class="mdl-cell mdl-cell--4-col">',o+='<div class="task-sub-section">',o+=" ",o+="<h4>",o+="Buildings</h4>",o+='<p class="major-info">',o+=fl.escape(null==(e=t.buildings.nb)?"":e),o+=" building(s) created</p></div>",o+='<div class="task-sub-section">',o+="<h4>",o+="Landuse</h4>",o+='<p class="major-info">',o+="<b>Residential landuse:</b> ",o+=fl.escape(null==(e=t.landuse.res)?"":e),o+=" km<sup>2</sup> <br> <b>Total landuse:</b> ",o+=fl.escape(null==(e=t.landuse.total)?"":e),o+=" km<sup>2</sup></p></div>",o+='<div class="task-sub-section">',o+="<h4>",o+="Waterways </h4>",o+='<p class="major-info">',o+=fl.escape(null==(e=t.waterway.nb)?"":e),o+=" waterway(s) created (",o+=fl.escape(null==(e=t.waterway.dist)?"":e),o+=" km)        </p></div></div></div></div>"}).call(this,"data"in r?r.data:"undefined"!=typeof data?data:void 0,"params"in r?r.params:"undefined"!=typeof params?params:void 0)}catch(a){fl.rethrow(a,n,i,s[n])}return o},_l={task:{geometry:{type:"MultiPolygon",coordinates:[]},type:"Feature",id:0,properties:{name:"",done:0,validated:0}},startDate:{origDate:"01/01/1970 00:00",formatDate:"Thu, January 01, 1970 00:00 AM"},OSM:{building:{geosjon:{type:"FeatureCollection",features:[]},nb:0},landuse:{geosjon:{type:"FeatureCollection",features:[]},total:0,res:0},highway:{geosjon:{type:"FeatureCollection",features:[]},nb:0,dist:0}}},gl={task:{color:"#f9ec12",weight:5,fillOpacity:0,opacity:1},building:{color:"#ff6600",weight:4,fillOpacity:1,opacity:1},highway:{color:"#f0782c",weight:2,fillOpacity:1,opacity:1},landuse:{color:"#9ec658",weight:2,fillOpacity:1,opacity:1},waterway:{color:"#58c4f2",weight:4,fillOpacity:1,opacity:1}},vl={DEFAULT_TASK:_l,STYLES:gl},yl="http://tasks.hotosm.org/project/",bl={"overpass-api.de":"https://overpass-api.de/api/interpreter","overpass.osm.rambler.ru":"http://overpass.osm.rambler.ru/cgi/interpreter","api.openstreetmap.fr":"http://api.openstreetmap.fr/oapi/interpreter"},wl={layers:[Ao.tileLayer("http://korona.geog.uni-heidelberg.de/tiles/roadsg/x={x}&y={y}&z={z}",{attribution:'Map tiles by <a href="" target="_blank">korona.geog.uni-heidelberg.de</a> <br>Map data &copy; <a href="http://www.openstreetmap.org" target="_blank">OpenStreetMap</a> contributors, <a href="http://opendatacommons.org/licenses/odbl/1.0/" target="_blank">ODbL</a>',maxZoom:19})]},Cl={center:[45.58789,5.9215],zoom:10,layers:[Ao.tileLayer("http://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com" target="_blank">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0" target="_blank">CC BY 3.0</a> <br>Map data &copy; <a href="http://www.openstreetmap.org" target="_blank">OpenStreetMap</a> contributors, <a href="http://opendatacommons.org/licenses/odbl/1.0/" target="_blank">ODbL</a>',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"})]},El={radius:7,fill:!0,fillColor:"#1a9641",fillOpacity:1,stroke:!0,weight:2,color:"#ffffff"},Ll={radius:7,fill:!0,fillColor:"#d7191c",fillOpacity:1,stroke:!0,weight:2,color:"#ffffff"},xl={weight:5,opacity:.5};So()}();